var lg=Object.defineProperty;var cg=(e,t,n)=>t in e?lg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var lu=(e,t,n)=>(cg(e,typeof t!="symbol"?t+"":t,n),n);import{_ as qe,u as ft,a as G,j as r,c as vt,b as Fr,g as Et,d as At,s as Oe,I as Ae,e as Ve,T as v,f as Ct,h as Ir,i as Me,B as dg,k as F,l as ga,m as Ja,D as Lr,n as cu,o as Vr,F as bn,p as Ro,P as ug,q as Ie,G as hg,r as pg,v as jl,w as ue,x as ui,L as un,y as kt,C as de,z as q,A as jf,E as fg,H as $e,J as fe,K as wf,M as Zc,N as Cf,O as $f,Q as mg,R as Sf,S as ot,U as xg,V as gg,W as cc,X as dc,Y as w,Z as Yi,$ as pn,a0 as vg,a1 as Kn,a2 as Ee,a3 as ne,a4 as vn,a5 as et,a6 as Ot,a7 as Df,a8 as yg,a9 as Xc,aa as bg,ab as Tf,ac as No,ad as hi,ae as $n,af as ei,ag as jg,ah as wg,ai as du,aj as Fo,ak as kf,al as pt,am as yn,an as Zn,ao as to,ap as Cg,aq as st,ar as Z,as as zr,at as Mr,au as as,av as _r,aw as Jc,ax as Sn,ay as ed,az as Xn,aA as sn,aB as le,aC as mr,aD as xr,aE as gr,aF as Ge,aG as vr,aH as yr,aI as N,aJ as en,aK as Gt,aL as Je,aM as at,aN as it,aO as tn,aP as Wr,aQ as ti,aR as Ca,aS as Pf,aT as Zt,aU as $g,aV as Sg,aW as Dg,aX as Gi,aY as Gn,aZ as td,a_ as Tg,a$ as kg,b0 as nd,b1 as Ef,b2 as Af,b3 as If,b4 as Mf,b5 as uu,b6 as rd,b7 as ad,b8 as id,b9 as _e,ba as fn,bb as Ht,bc as sd,bd as pi,be as Pg,bf as Fe,bg as Le,bh as lt,bi as va,bj as no,bk as ni,bl as ri,bm as od,bn as Yt,bo as kn,bp as Jn,bq as Lo,br as Of,bs as Rf,bt as Vo,bu as Eg,bv as De,t as Ag,bw as ld,bx as Nf,by as Ig,bz as pr,bA as Ff,bB as hr,bC as $a,bD as uc,bE as Or,bF as Lf,bG as ia,bH as Sa,bI as Mg,bJ as Og,bK as Wa,bL as hc,bM as Rg,bN as Ng,bO as hu,bP as Fg,bQ as Lg,bR as Vg,bS as zg,bT as is,bU as _g,bV as Ya,bW as Wg,bX as cd,bY as Bg,bZ as Ug,b_ as qg,b$ as Hg,c0 as Yg,c1 as Gg,c2 as Vf,c3 as Qg,c4 as zo,c5 as pu,c6 as Kg,c7 as Zg,c8 as Xg,c9 as pc,ca as Ga,cb as dd,cc as Jg,cd as ev,ce as tv,cf as nv,cg as rv,ch as av,ci as iv,cj as wl,ck as sv,cl as zf,cm as ov,cn as lv,co as cv,cp as dv}from"./mui-9683ebc7.js";import{d as ud,r as x,R as uv,e as ss,g as Da,b as re}from"./vendor-73f70a13.js";import{c as dr,d as fu,n as hv,T as pv,i as ya,a as fi,b as mu,S as ms,p as ji,e as _f,f as hd,g as mi,h as xu,j as fv,k as zi,t as mv,l as Wf,m as Cl,o as Bf,q as Uf,r as pd,s as xv,u as gv,v as gu,w as ro,x as Ta,y as _o,z as vv,A as yv,_ as Se,P as bv}from"./redux-a2814a70.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var fc={},vu=ud;fc.createRoot=vu.createRoot,fc.hydrateRoot=vu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qi(){return Qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Qi.apply(this,arguments)}var kr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(kr||(kr={}));const yu="popstate";function jv(e){e===void 0&&(e={});function t(a,i){let{pathname:s,search:o,hash:l}=a.location;return mc("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){return typeof i=="string"?i:ao(i)}return Cv(t,n,null,e)}function Ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wv(){return Math.random().toString(36).substr(2,8)}function bu(e,t){return{usr:e.state,key:e.key,idx:t}}function mc(e,t,n,a){return n===void 0&&(n=null),Qi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xi(t):t,{state:n,key:t&&t.key||a||wv()})}function ao(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function xi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function Cv(e,t,n,a){a===void 0&&(a={});let{window:i=document.defaultView,v5Compat:s=!1}=a,o=i.history,l=kr.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Qi({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=kr.Pop;let f=u(),j=f==null?null:f-d;d=f,c&&c({action:l,location:m.location,delta:j})}function p(f,j){l=kr.Push;let $=mc(m.location,f,j);n&&n($,f),d=u()+1;let S=bu($,d),T=m.createHref($);try{o.pushState(S,"",T)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(T)}s&&c&&c({action:l,location:m.location,delta:1})}function y(f,j){l=kr.Replace;let $=mc(m.location,f,j);n&&n($,f),d=u();let S=bu($,d),T=m.createHref($);o.replaceState(S,"",T),s&&c&&c({action:l,location:m.location,delta:0})}function b(f){let j=i.location.origin!=="null"?i.location.origin:i.location.href,$=typeof f=="string"?f:ao(f);return $=$.replace(/ $/,"%20"),Ft(j,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,j)}let m={get action(){return l},get location(){return e(i,o)},listen(f){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(yu,h),c=f,()=>{i.removeEventListener(yu,h),c=null}},createHref(f){return t(i,f)},createURL:b,encodeLocation(f){let j=b(f);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:p,replace:y,go(f){return o.go(f)}};return m}var ju;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ju||(ju={}));function $v(e,t,n){return n===void 0&&(n="/"),Sv(e,t,n,!1)}function Sv(e,t,n,a){let i=typeof t=="string"?xi(t):t,s=fd(i.pathname||"/",n);if(s==null)return null;let o=Hf(e);Dv(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=Fv(s);l=Rv(o[c],d,a)}return l}function Hf(e,t,n,a){t===void 0&&(t=[]),n===void 0&&(n=[]),a===void 0&&(a="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Ft(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let d=Pr([a,c.relativePath]),u=n.concat(c);s.children&&s.children.length>0&&(Ft(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Hf(s.children,t,u,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:Mv(d,s.index),routesMeta:u})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of Yf(s.path))i(s,o,c)}),t}function Yf(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(a.length===0)return i?[s,""]:[s];let o=Yf(a.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Dv(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ov(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const Tv=/^:[\w-]+$/,kv=3,Pv=2,Ev=1,Av=10,Iv=-2,wu=e=>e==="*";function Mv(e,t){let n=e.split("/"),a=n.length;return n.some(wu)&&(a+=Iv),t&&(a+=Pv),n.filter(i=>!wu(i)).reduce((i,s)=>i+(Tv.test(s)?kv:s===""?Ev:Av),a)}function Ov(e,t){return e.length===t.length&&e.slice(0,-1).every((a,i)=>a===t[i])?e[e.length-1]-t[t.length-1]:0}function Rv(e,t,n){n===void 0&&(n=!1);let{routesMeta:a}=e,i={},s="/",o=[];for(let l=0;l<a.length;++l){let c=a[l],d=l===a.length-1,u=s==="/"?t:t.slice(s.length)||"/",h=Cu({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),p=c.route;if(!h&&d&&n&&!a[a.length-1].route.index&&(h=Cu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Pr([s,h.pathname]),pathnameBase:_v(Pr([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=Pr([s,h.pathnameBase]))}return o}function Cu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=Nv(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:a.reduce((d,u,h)=>{let{paramName:p,isOptional:y}=u;if(p==="*"){let m=l[h]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const b=l[h];return y&&!b?d[p]=void 0:d[p]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:e}}function Nv(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),qf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(a.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),a]}function Fv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function fd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function Lv(e,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:i=""}=typeof e=="string"?xi(e):e;return{pathname:n?n.startsWith("/")?n:Vv(n,t):t,search:Wv(a),hash:Bv(i)}}function Vv(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $l(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zv(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function md(e,t){let n=zv(e);return t?n.map((a,i)=>i===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function xd(e,t,n,a){a===void 0&&(a=!1);let i;typeof e=="string"?i=xi(e):(i=Qi({},e),Ft(!i.pathname||!i.pathname.includes("?"),$l("?","pathname","search",i)),Ft(!i.pathname||!i.pathname.includes("#"),$l("#","pathname","hash",i)),Ft(!i.search||!i.search.includes("#"),$l("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!a&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}l=h>=0?t[h]:"/"}let c=Lv(i,l),d=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Pr=e=>e.join("/").replace(/\/\/+/g,"/"),_v=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Wv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Bv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Uv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Gf=["post","put","patch","delete"];new Set(Gf);const qv=["get",...Gf];new Set(qv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ki(){return Ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ki.apply(this,arguments)}const gd=x.createContext(null),Hv=x.createContext(null),Br=x.createContext(null),Wo=x.createContext(null),er=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Qf=x.createContext(null);function Yv(e,t){let{relative:n}=t===void 0?{}:t;gi()||Ft(!1);let{basename:a,navigator:i}=x.useContext(Br),{hash:s,pathname:o,search:l}=Zf(e,{relative:n}),c=o;return a!=="/"&&(c=o==="/"?a:Pr([a,o])),i.createHref({pathname:c,search:l,hash:s})}function gi(){return x.useContext(Wo)!=null}function br(){return gi()||Ft(!1),x.useContext(Wo).location}function Kf(e){x.useContext(Br).static||x.useLayoutEffect(e)}function yt(){let{isDataRoute:e}=x.useContext(er);return e?ly():Gv()}function Gv(){gi()||Ft(!1);let e=x.useContext(gd),{basename:t,future:n,navigator:a}=x.useContext(Br),{matches:i}=x.useContext(er),{pathname:s}=br(),o=JSON.stringify(md(i,n.v7_relativeSplatPath)),l=x.useRef(!1);return Kf(()=>{l.current=!0}),x.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){a.go(d);return}let h=xd(d,JSON.parse(o),s,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Pr([t,h.pathname])),(u.replace?a.replace:a.push)(h,u.state,u)},[t,a,o,s,e])}const Qv=x.createContext(null);function Kv(e){let t=x.useContext(er).outlet;return t&&x.createElement(Qv.Provider,{value:e},t)}function Mn(){let{matches:e}=x.useContext(er),t=e[e.length-1];return t?t.params:{}}function Zf(e,t){let{relative:n}=t===void 0?{}:t,{future:a}=x.useContext(Br),{matches:i}=x.useContext(er),{pathname:s}=br(),o=JSON.stringify(md(i,a.v7_relativeSplatPath));return x.useMemo(()=>xd(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function Zv(e,t){return Xv(e,t)}function Xv(e,t,n,a){gi()||Ft(!1);let{navigator:i}=x.useContext(Br),{matches:s}=x.useContext(er),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=br(),u;if(t){var h;let f=typeof t=="string"?xi(t):t;c==="/"||(h=f.pathname)!=null&&h.startsWith(c)||Ft(!1),u=f}else u=d;let p=u.pathname||"/",y=p;if(c!=="/"){let f=c.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(f.length).join("/")}let b=$v(e,{pathname:y}),m=ry(b&&b.map(f=>Object.assign({},f,{params:Object.assign({},l,f.params),pathname:Pr([c,i.encodeLocation?i.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?c:Pr([c,i.encodeLocation?i.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),s,n,a);return t&&m?x.createElement(Wo.Provider,{value:{location:Ki({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:kr.Pop}},m):m}function Jv(){let e=oy(),t=Uv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,s)}const ey=x.createElement(Jv,null);class ty extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(er.Provider,{value:this.props.routeContext},x.createElement(Qf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ny(e){let{routeContext:t,match:n,children:a}=e,i=x.useContext(gd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(er.Provider,{value:t},a)}function ry(e,t,n,a){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),a===void 0&&(a=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=a)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||Ft(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&a&&a.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:p,errors:y}=n,b=h.route.loader&&p[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||b){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,p)=>{let y,b=!1,m=null,f=null;n&&(y=l&&h.route.id?l[h.route.id]:void 0,m=h.route.errorElement||ey,c&&(d<0&&p===0?(cy("route-fallback",!1),b=!0,f=null):d===p&&(b=!0,f=h.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,p+1)),$=()=>{let S;return y?S=m:b?S=f:h.route.Component?S=x.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=u,x.createElement(ny,{match:h,routeContext:{outlet:u,matches:j,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?x.createElement(ty,{location:n.location,revalidation:n.revalidation,component:m,error:y,children:$(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):$()},null)}var Xf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Xf||{}),io=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(io||{});function ay(e){let t=x.useContext(gd);return t||Ft(!1),t}function iy(e){let t=x.useContext(Hv);return t||Ft(!1),t}function sy(e){let t=x.useContext(er);return t||Ft(!1),t}function Jf(e){let t=sy(),n=t.matches[t.matches.length-1];return n.route.id||Ft(!1),n.route.id}function oy(){var e;let t=x.useContext(Qf),n=iy(io.UseRouteError),a=Jf(io.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[a]}function ly(){let{router:e}=ay(Xf.UseNavigateStable),t=Jf(io.UseNavigateStable),n=x.useRef(!1);return Kf(()=>{n.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ki({fromRouteId:t},s)))},[e,t])}const $u={};function cy(e,t,n){!t&&!$u[e]&&($u[e]=!0)}function dy(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function uy(e){let{to:t,replace:n,state:a,relative:i}=e;gi()||Ft(!1);let{future:s,static:o}=x.useContext(Br),{matches:l}=x.useContext(er),{pathname:c}=br(),d=yt(),u=xd(t,md(l,s.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(u);return x.useEffect(()=>d(JSON.parse(h),{replace:n,state:a,relative:i}),[d,h,i,n,a]),null}function em(e){return Kv(e.context)}function Xe(e){Ft(!1)}function hy(e){let{basename:t="/",children:n=null,location:a,navigationType:i=kr.Pop,navigator:s,static:o=!1,future:l}=e;gi()&&Ft(!1);let c=t.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:c,navigator:s,static:o,future:Ki({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof a=="string"&&(a=xi(a));let{pathname:u="/",search:h="",hash:p="",state:y=null,key:b="default"}=a,m=x.useMemo(()=>{let f=fd(u,c);return f==null?null:{location:{pathname:f,search:h,hash:p,state:y,key:b},navigationType:i}},[c,u,h,p,y,b,i]);return m==null?null:x.createElement(Br.Provider,{value:d},x.createElement(Wo.Provider,{children:n,value:m}))}function py(e){let{children:t,location:n}=e;return Zv(xc(t),n)}new Promise(()=>{});function xc(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(a,i)=>{if(!x.isValidElement(a))return;let s=[...t,i];if(a.type===x.Fragment){n.push.apply(n,xc(a.props.children,s));return}a.type!==Xe&&Ft(!1),!a.props.index||!a.props.children||Ft(!1);let o={id:a.props.id||s.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=xc(a.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},gc.apply(this,arguments)}function fy(e,t){if(e==null)return{};var n={},a=Object.keys(e),i,s;for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function my(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function xy(e,t){return e.button===0&&(!t||t==="_self")&&!my(e)}const gy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vy="6";try{window.__reactRouterVersion=vy}catch{}const yy="startTransition",Su=uv[yy];function by(e){let{basename:t,children:n,future:a,window:i}=e,s=x.useRef();s.current==null&&(s.current=jv({window:i,v5Compat:!0}));let o=s.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:d}=a||{},u=x.useCallback(h=>{d&&Su?Su(()=>c(h)):c(h)},[c,d]);return x.useLayoutEffect(()=>o.listen(u),[o,u]),x.useEffect(()=>dy(a),[a]),x.createElement(hy,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:a})}const jy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cy=x.forwardRef(function(t,n){let{onClick:a,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,p=fy(t,gy),{basename:y}=x.useContext(Br),b,m=!1;if(typeof d=="string"&&wy.test(d)&&(b=d,jy))try{let S=new URL(window.location.href),T=d.startsWith("//")?new URL(S.protocol+d):new URL(d),A=fd(T.pathname,y);T.origin===S.origin&&A!=null?d=A+T.search+T.hash:m=!0}catch{}let f=Yv(d,{relative:i}),j=$y(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:h});function $(S){a&&a(S),S.defaultPrevented||j(S)}return x.createElement("a",gc({},p,{href:b||f,onClick:m||s?a:$,ref:n,target:c}))});var Du;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Du||(Du={}));var Tu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Tu||(Tu={}));function $y(e,t){let{target:n,replace:a,state:i,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=yt(),d=br(),u=Zf(e,{relative:o});return x.useCallback(h=>{if(xy(h,n)){h.preventDefault();let p=a!==void 0?a:ao(d)===ao(u);c(e,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[d,c,u,a,i,n,e,s,o,l])}const Sy=["localeText"],vc=x.createContext(null),Ur=function(t){var n;const{localeText:a}=t,i=qe(t,Sy),{utils:s,localeText:o}=(n=x.useContext(vc))!=null?n:{utils:void 0,localeText:void 0},l=ft({props:i,name:"MuiLocalizationProvider"}),{children:c,dateAdapter:d,dateFormats:u,dateLibInstance:h,adapterLocale:p,localeText:y}=l,b=x.useMemo(()=>G({},y,o,a),[y,o,a]),m=x.useMemo(()=>{if(!d)return s||null;const $=new d({locale:p,formats:u,instance:h});if(!$.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return $},[d,p,u,h,s]),f=x.useMemo(()=>m?{minDate:m.date("1900-01-01T00:00:00.000"),maxDate:m.date("2099-12-31T00:00:00.000")}:null,[m]),j=x.useMemo(()=>({utils:m,defaultDates:f,localeText:b}),[f,m,b]);return r.jsx(vc.Provider,{value:j,children:c})},Dy=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:G({},e)}}}}),tm={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,n)=>`Select ${e}. ${t===null?"No time selected":`Selected time is ${n.format(t,"fullTime")}`}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose date, selected date is ${t.format(e,"fullDate")}`:"Choose date",openTimePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose time, selected time is ${t.format(e,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},Ty=tm;Dy(tm);const ka=()=>{const e=x.useContext(vc);if(e===null)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=x.useMemo(()=>G({},Ty,e.localeText),[e.localeText]);return x.useMemo(()=>G({},e,{localeText:t}),[e,t])},mt=()=>ka().utils,os=()=>ka().defaultDates,qr=()=>ka().localeText,Bo=e=>{const t=mt(),n=x.useRef();return n.current===void 0&&(n.current=t.dateWithTimezone(void 0,e)),n.current};function ky(e){return typeof e=="string"}function Py(e,t,n){return e===void 0||ky(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function Ey(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(a=>a.match(/^on[A-Z]/)&&typeof e[a]=="function"&&!t.includes(a)).forEach(a=>{n[a]=e[a]}),n}function vd(e,t,n){return typeof e=="function"?e(t,n):e}function Ay(...e){const t=x.useRef(void 0),n=x.useCallback(a=>{const i=e.map(s=>{if(s==null)return null;if(typeof s=="function"){const o=s,l=o(a);return typeof l=="function"?l:()=>{o(null)}}return s.current=a,()=>{s.current=null}});return()=>{i.forEach(s=>s==null?void 0:s())}},e);return x.useMemo(()=>e.every(a=>a==null)?null:a=>{t.current&&(t.current(),t.current=void 0),a!=null&&(t.current=n(a))},e)}function ku(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function Iy(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:a,externalForwardedProps:i,className:s}=e;if(!t){const y=vt(n==null?void 0:n.className,s,i==null?void 0:i.className,a==null?void 0:a.className),b={...n==null?void 0:n.style,...i==null?void 0:i.style,...a==null?void 0:a.style},m={...n,...i,...a};return y.length>0&&(m.className=y),Object.keys(b).length>0&&(m.style=b),{props:m,internalRef:void 0}}const o=Ey({...i,...a}),l=ku(a),c=ku(i),d=t(o),u=vt(d==null?void 0:d.className,n==null?void 0:n.className,s,i==null?void 0:i.className,a==null?void 0:a.className),h={...d==null?void 0:d.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...a==null?void 0:a.style},p={...d,...n,...c,...l};return u.length>0&&(p.className=u),Object.keys(h).length>0&&(p.style=h),{props:p,internalRef:d.ref}}function zt(e){var h;const{elementType:t,externalSlotProps:n,ownerState:a,skipResolvingSlotProps:i=!1,...s}=e,o=i?{}:vd(n,a),{props:l,internalRef:c}=Iy({...s,externalSlotProps:o}),d=Ay(c,o==null?void 0:o.ref,(h=e.additionalProps)==null?void 0:h.ref);return Py(t,{...l,ref:d},a)}const My=Fr(r.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Oy=Fr(r.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Ry=Fr(r.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),Ny=Fr(r.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");Fr(r.jsxs(x.Fragment,{children:[r.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),r.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");Fr(r.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");Fr(r.jsxs(x.Fragment,{children:[r.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),r.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const Fy=Fr(r.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function Ly(e){return Et("MuiPickersArrowSwitcher",e)}At("MuiPickersArrowSwitcher",["root","spacer","button"]);const Vy=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],zy=["ownerState"],_y=["ownerState"],Wy=Oe("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),By=Oe("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})(({theme:e})=>({width:e.spacing(3)})),Pu=Oe(Ae,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})(({ownerState:e})=>G({},e.hidden&&{visibility:"hidden"})),Uy=e=>{const{classes:t}=e;return Ct({root:["root"],spacer:["spacer"],button:["button"]},Ly,t)},qy=x.forwardRef(function(t,n){var a,i,s,o;const c=Ve().direction==="rtl",d=ft({props:t,name:"MuiPickersArrowSwitcher"}),{children:u,className:h,slots:p,slotProps:y,isNextDisabled:b,isNextHidden:m,onGoToNext:f,nextLabel:j,isPreviousDisabled:$,isPreviousHidden:S,onGoToPrevious:T,previousLabel:A}=d,M=qe(d,Vy),g=d,D=Uy(g),P={isDisabled:b,isHidden:m,goTo:f,label:j},C={isDisabled:$,isHidden:S,goTo:T,label:A},k=(a=p==null?void 0:p.previousIconButton)!=null?a:Pu,R=zt({elementType:k,externalSlotProps:y==null?void 0:y.previousIconButton,additionalProps:{size:"medium",title:C.label,"aria-label":C.label,disabled:C.isDisabled,edge:"end",onClick:C.goTo},ownerState:G({},g,{hidden:C.isHidden}),className:D.button}),O=(i=p==null?void 0:p.nextIconButton)!=null?i:Pu,E=zt({elementType:O,externalSlotProps:y==null?void 0:y.nextIconButton,additionalProps:{size:"medium",title:P.label,"aria-label":P.label,disabled:P.isDisabled,edge:"start",onClick:P.goTo},ownerState:G({},g,{hidden:P.isHidden}),className:D.button}),I=(s=p==null?void 0:p.leftArrowIcon)!=null?s:Oy,V=zt({elementType:I,externalSlotProps:y==null?void 0:y.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),U=qe(V,zy),_=(o=p==null?void 0:p.rightArrowIcon)!=null?o:Ry,z=zt({elementType:_,externalSlotProps:y==null?void 0:y.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),B=qe(z,_y);return r.jsxs(Wy,G({ref:n,className:vt(D.root,h),ownerState:g},M,{children:[r.jsx(k,G({},R,{children:c?r.jsx(_,G({},B)):r.jsx(I,G({},U))})),u?r.jsx(v,{variant:"subtitle1",component:"span",children:u}):r.jsx(By,{className:D.spacer,ownerState:g}),r.jsx(O,G({},E,{children:c?r.jsx(I,G({},U)):r.jsx(_,G({},B))}))]}))}),wi=(e,t)=>e.length!==t.length?!1:t.every(n=>e.includes(n)),Hy=({openTo:e,defaultOpenTo:t,views:n,defaultViews:a})=>{const i=n??a;let s;if(e!=null)s=e;else if(i.includes(t))s=t;else if(i.length>0)s=i[0];else throw new Error("MUI: The `views` prop must contain at least one view");return{views:i,openTo:s}},Yy=["hours","minutes","seconds"],Gy=e=>Yy.includes(e),Eu=(e,t)=>t.getHours(e)*3600+t.getMinutes(e)*60+t.getSeconds(e),Qy=(e,t)=>(n,a)=>e?t.isAfter(n,a):Eu(n,t)>Eu(a,t);function nm({onChange:e,onViewChange:t,openTo:n,view:a,views:i,autoFocus:s,focusedView:o,onFocusedViewChange:l}){var c,d;const u=x.useRef(n),h=x.useRef(i),p=x.useRef(i.includes(n)?n:i[0]),[y,b]=Ir({name:"useViews",state:"view",controlled:a,default:p.current}),m=x.useRef(s?y:null),[f,j]=Ir({name:"useViews",state:"focusedView",controlled:o,default:m.current});x.useEffect(()=>{(u.current&&u.current!==n||h.current&&h.current.some(P=>!i.includes(P)))&&(b(i.includes(n)?n:i[0]),h.current=i,u.current=n)},[n,b,y,i]);const $=i.indexOf(y),S=(c=i[$-1])!=null?c:null,T=(d=i[$+1])!=null?d:null,A=Me((P,C)=>{j(C?P:k=>P===k?null:k),l==null||l(P,C)}),M=Me(P=>{A(P,!0),P!==y&&(b(P),t&&t(P))}),g=Me(()=>{T&&M(T)}),D=Me((P,C,k)=>{const R=C==="finish",O=k?i.indexOf(k)<i.length-1:!!T;if(e(P,R&&O?"partial":C,k),k&&k!==y){const I=i[i.indexOf(k)+1];I&&M(I)}else R&&g()});return{view:y,setView:M,focusedView:f,setFocusedView:A,nextView:T,previousView:S,defaultView:i.includes(n)?n:i[0],goToNextView:g,setValueAndGoToNextView:D}}function Ky(e,{disableFuture:t,maxDate:n,timezone:a}){const i=mt();return x.useMemo(()=>{const s=i.dateWithTimezone(void 0,a),o=i.startOfMonth(t&&i.isBefore(s,n)?s:n);return!i.isAfter(o,e)},[t,n,e,i,a])}function Zy(e,{disablePast:t,minDate:n,timezone:a}){const i=mt();return x.useMemo(()=>{const s=i.dateWithTimezone(void 0,a),o=i.startOfMonth(t&&i.isAfter(s,n)?s:n);return!i.isBefore(o,e)},[t,n,e,i,a])}const Zi=36,Uo=2,qo=320,Xy=280,yd=334,Jy=Oe("div")({overflow:"hidden",width:qo,maxHeight:yd,display:"flex",flexDirection:"column",margin:"0 auto"}),so=(e,t,n)=>{let a=t;return a=e.setHours(a,e.getHours(n)),a=e.setMinutes(a,e.getMinutes(n)),a=e.setSeconds(a,e.getSeconds(n)),a},_i=({date:e,disableFuture:t,disablePast:n,maxDate:a,minDate:i,isDateDisabled:s,utils:o,timezone:l})=>{const c=so(o,o.dateWithTimezone(void 0,l),e);n&&o.isBefore(i,c)&&(i=c),t&&o.isAfter(a,c)&&(a=c);let d=e,u=e;for(o.isBefore(e,i)&&(d=i,u=null),o.isAfter(e,a)&&(u&&(u=a),d=null);d||u;){if(d&&o.isAfter(d,a)&&(d=null),u&&o.isBefore(u,i)&&(u=null),d){if(!s(d))return d;d=o.addDays(d,1)}if(u){if(!s(u))return u;u=o.addDays(u,-1)}}return null},e1=(e,t)=>t==null||!e.isValid(t)?null:t,jn=(e,t,n)=>t==null||!e.isValid(t)?n:t,t1=(e,t,n)=>!e.isValid(t)&&t!=null&&!e.isValid(n)&&n!=null?!0:e.isEqual(t,n),bd=(e,t)=>{const a=[e.startOfYear(t)];for(;a.length<12;){const i=a[a.length-1];a.push(e.addMonths(i,1))}return a},rm=(e,t,n)=>n==="date"?e.startOfDay(e.dateWithTimezone(void 0,t)):e.dateWithTimezone(void 0,t),n1=["year","month","day"],Au=e=>n1.includes(e),jd=(e,{format:t,views:n},a)=>{if(t!=null)return t;const i=e.formats;return wi(n,["year"])?i.year:wi(n,["month"])?i.month:wi(n,["day"])?i.dayOfMonth:wi(n,["month","year"])?`${i.month} ${i.year}`:wi(n,["day","month"])?`${i.month} ${i.dayOfMonth}`:a?/en/.test(e.getCurrentLocaleCode())?i.normalDateWithWeekday:i.normalDate:i.keyboardDate},r1=(e,t)=>{const n=e.startOfWeek(t);return[0,1,2,3,4,5,6].map(a=>e.addDays(n,a))},wd=({timezone:e,value:t,defaultValue:n,onChange:a,valueManager:i})=>{var s,o;const l=mt(),c=x.useRef(n),d=(s=t??c.current)!=null?s:i.emptyValue,u=x.useMemo(()=>i.getTimezone(l,d),[l,i,d]),h=Me(m=>u==null?m:i.setTimezone(l,u,m)),p=(o=e??u)!=null?o:"default",y=x.useMemo(()=>i.setTimezone(l,p,d),[i,l,p,d]),b=Me((m,...f)=>{const j=h(m);a==null||a(j,...f)});return{value:y,handleValueChange:b,timezone:p}},Cd=({name:e,timezone:t,value:n,defaultValue:a,onChange:i,valueManager:s})=>{const[o,l]=Ir({name:e,state:"value",controlled:n,default:a??s.emptyValue}),c=Me((d,...u)=>{l(d),i==null||i(d,...u)});return wd({timezone:t,value:o,defaultValue:void 0,onChange:c,valueManager:s})},Bn={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},a1=e=>Math.max(...e.map(t=>{var n;return(n=Bn[t.type])!=null?n:1})),Ci=(e,t,n)=>{if(t===Bn.year)return e.startOfYear(n);if(t===Bn.month)return e.startOfMonth(n);if(t===Bn.day)return e.startOfDay(n);let a=n;return t<Bn.minutes&&(a=e.setMinutes(a,0)),t<Bn.seconds&&(a=e.setSeconds(a,0)),t<Bn.milliseconds&&(a=e.setMilliseconds(a,0)),a},i1=({props:e,utils:t,granularity:n,timezone:a,getTodayDate:i})=>{var s;let o=i?i():Ci(t,n,rm(t,a));e.minDate!=null&&t.isAfterDay(e.minDate,o)&&(o=Ci(t,n,e.minDate)),e.maxDate!=null&&t.isBeforeDay(e.maxDate,o)&&(o=Ci(t,n,e.maxDate));const l=Qy((s=e.disableIgnoringDatePartForTimeValidation)!=null?s:!1,t);return e.minTime!=null&&l(e.minTime,o)&&(o=Ci(t,n,e.disableIgnoringDatePartForTimeValidation?e.minTime:so(t,o,e.minTime))),e.maxTime!=null&&l(o,e.maxTime)&&(o=Ci(t,n,e.disableIgnoringDatePartForTimeValidation?e.maxTime:so(t,o,e.maxTime))),o},am=(e,t)=>{const n=e.formatTokenMap[t];if(n==null)throw new Error([`MUI: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof n=="string"?{type:n,contentType:n==="meridiem"?"letter":"digit",maxLength:void 0}:{type:n.sectionType,contentType:n.contentType,maxLength:n.maxLength}},s1=e=>{switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},Ho=(e,t,n)=>{const a=[],i=e.dateWithTimezone(void 0,t),s=e.startOfWeek(i),o=e.endOfWeek(i);let l=s;for(;e.isBefore(l,o);)a.push(l),l=e.addDays(l,1);return a.map(c=>e.formatByString(c,n))},im=(e,t,n,a)=>{switch(n){case"month":return bd(e,e.dateWithTimezone(void 0,t)).map(i=>e.formatByString(i,a));case"weekDay":return Ho(e,t,a);case"meridiem":{const i=e.dateWithTimezone(void 0,t);return[e.startOfDay(i),e.endOfDay(i)].map(s=>e.formatByString(s,a))}default:return[]}},sm=(e,t,n)=>{let a=t;for(a=Number(a).toString();a.length<n;)a=`0${a}`;return a},om=(e,t,n,a,i)=>{if(i.type==="day"&&i.contentType==="digit-with-letter"){const o=e.setDate(a.longestMonth,n);return e.formatByString(o,i.format)}const s=n.toString();return i.hasLeadingZerosInInput?sm(e,s,i.maxLength):s},o1=(e,t,n,a,i,s,o)=>{const l=s1(a),c=a==="Home",d=a==="End",u=n.value===""||c||d,h=()=>{const y=i[n.type]({currentDate:s,format:n.format,contentType:n.contentType}),b=$=>om(e,t,$,y,n),m=n.type==="minutes"&&o!=null&&o.minutesStep?o.minutesStep:1;let j=parseInt(n.value,10)+l*m;if(u){if(n.type==="year"&&!d&&!c)return e.formatByString(e.dateWithTimezone(void 0,t),n.format);l>0||c?j=y.minimum:j=y.maximum}return j%m!==0&&((l<0||c)&&(j+=m-(m+j)%m),(l>0||d)&&(j-=j%m)),j>y.maximum?b(y.minimum+(j-y.maximum-1)%(y.maximum-y.minimum+1)):j<y.minimum?b(y.maximum-(y.minimum-j-1)%(y.maximum-y.minimum+1)):b(j)},p=()=>{const y=im(e,t,n.type,n.format);if(y.length===0)return n.value;if(u)return l>0||c?y[0]:y[y.length-1];const m=(y.indexOf(n.value)+y.length+l)%y.length;return y[m]};return n.contentType==="digit"||n.contentType==="digit-with-letter"?h():p()},$d=(e,t)=>{let n=e.value||e.placeholder;const a=t==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return t==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(n=Number(n).toString()),["input-rtl","input-ltr"].includes(t)&&e.contentType==="digit"&&!a&&n.length===1&&(n=`${n}‎`),t==="input-rtl"&&(n=`⁨${n}⁩`),n},Ua=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),lm=(e,t)=>{let n=0,a=t?1:0;const i=[];for(let s=0;s<e.length;s+=1){const o=e[s],l=$d(o,t?"input-rtl":"input-ltr"),c=`${o.startSeparator}${l}${o.endSeparator}`,d=Ua(c).length,u=c.length,h=Ua(l),p=a+l.indexOf(h[0])+o.startSeparator.length,y=p+h.length;i.push(G({},o,{start:n,end:n+d,startInInput:p,endInInput:y})),n+=d,a+=u}return i},l1=(e,t,n,a,i)=>{switch(a.type){case"year":return n.fieldYearPlaceholder({digitAmount:e.formatByString(e.dateWithTimezone(void 0,t),i).length,format:i});case"month":return n.fieldMonthPlaceholder({contentType:a.contentType,format:i});case"day":return n.fieldDayPlaceholder({format:i});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:a.contentType,format:i});case"hours":return n.fieldHoursPlaceholder({format:i});case"minutes":return n.fieldMinutesPlaceholder({format:i});case"seconds":return n.fieldSecondsPlaceholder({format:i});case"meridiem":return n.fieldMeridiemPlaceholder({format:i});default:return i}},Iu=(e,t,n,a)=>e.formatByString(e.parse(t,n),a),cm=(e,t,n)=>e.formatByString(e.dateWithTimezone(void 0,t),n).length===4,dm=(e,t,n,a,i)=>{if(n!=="digit")return!1;const s=e.dateWithTimezone(void 0,t);switch(a){case"year":return cm(e,t,i)?e.formatByString(e.setYear(s,1),i)==="0001":e.formatByString(e.setYear(s,2001),i)==="01";case"month":return e.formatByString(e.startOfYear(s),i).length>1;case"day":return e.formatByString(e.startOfMonth(s),i).length>1;case"weekDay":return e.formatByString(e.startOfWeek(s),i).length>1;case"hours":return e.formatByString(e.setHours(s,1),i).length>1;case"minutes":return e.formatByString(e.setMinutes(s,1),i).length>1;case"seconds":return e.formatByString(e.setSeconds(s,1),i).length>1;default:throw new Error("Invalid section type")}},c1=(e,t)=>{const n=[],{start:a,end:i}=e.escapedCharacters,s=new RegExp(`(\\${a}[^\\${i}]*\\${i})+`,"g");let o=null;for(;o=s.exec(t);)n.push({start:o.index,end:s.lastIndex-1});return n},Mu=(e,t,n,a,i,s,o,l)=>{let c="";const d=[],u=e.date(),h=S=>{if(S==="")return null;const T=am(e,S),A=dm(e,t,T.contentType,T.type,S),M=o?A:T.contentType==="digit",g=i!=null&&e.isValid(i);let D=g?e.formatByString(i,S):"",P=null;if(M)if(A)P=D===""?e.formatByString(u,S).length:D.length;else{if(T.maxLength==null)throw new Error(`MUI: The token ${S} should have a 'maxDigitNumber' property on it's adapter`);P=T.maxLength,g&&(D=sm(e,D,P))}return d.push(G({},T,{format:S,maxLength:P,value:D,placeholder:l1(e,t,n,T,S),hasLeadingZeros:A,hasLeadingZerosInFormat:A,hasLeadingZerosInInput:M,startSeparator:d.length===0?c:"",endSeparator:"",modified:!1})),null};let p=10,y=a,b=e.expandFormat(a);for(;b!==y;)if(y=b,b=e.expandFormat(y),p-=1,p<0)throw new Error("MUI: The format expansion seems to be  enter in an infinite loop. Please open an issue with the format passed to the picker component");const m=b,f=c1(e,m),j=new RegExp(`^(${Object.keys(e.formatTokenMap).sort((S,T)=>T.length-S.length).join("|")})`,"g");let $="";for(let S=0;S<m.length;S+=1){const T=f.find(P=>P.start<=S&&P.end>=S),A=m[S],M=T!=null,g=`${$}${m.slice(S)}`,D=j.test(g);!M&&A.match(/([A-Za-z]+)/)&&D?($=g.slice(0,j.lastIndex),S+=j.lastIndex-1):M&&(T==null?void 0:T.start)===S||(T==null?void 0:T.end)===S||(h($),$="",d.length===0?c+=A:d[d.length-1].endSeparator+=A)}return h($),d.map(S=>{const T=A=>{let M=A;return l&&M!==null&&M.includes(" ")&&(M=`⁩${M}⁦`),s==="spacious"&&["/",".","-"].includes(M)&&(M=` ${M} `),M};return S.startSeparator=T(S.startSeparator),S.endSeparator=T(S.endSeparator),S})},d1=(e,t)=>{const n=t.some(l=>l.type==="day"),a=[],i=[];for(let l=0;l<t.length;l+=1){const c=t[l];n&&c.type==="weekDay"||(a.push(c.format),i.push($d(c,"non-input")))}const s=a.join(" "),o=i.join(" ");return e.parse(o,s)},u1=(e,t)=>{const a=e.map(i=>{const s=$d(i,t?"input-rtl":"input-ltr");return`${i.startSeparator}${s}${i.endSeparator}`}).join("");return t?`⁦${a}⁩`:a},h1=(e,t)=>{const n=e.dateWithTimezone(void 0,t),a=e.endOfYear(n),i=e.endOfDay(n),{maxDaysInMonth:s,longestMonth:o}=bd(e,n).reduce((l,c)=>{const d=e.getDaysInMonth(c);return d>l.maxDaysInMonth?{maxDaysInMonth:d,longestMonth:c}:l},{maxDaysInMonth:0,longestMonth:null});return{year:({format:l})=>({minimum:0,maximum:cm(e,t,l)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(a)+1}),day:({currentDate:l})=>({minimum:1,maximum:l!=null&&e.isValid(l)?e.getDaysInMonth(l):s,longestMonth:o}),weekDay:({format:l,contentType:c})=>{if(c==="digit"){const d=Ho(e,t,l).map(Number);return{minimum:Math.min(...d),maximum:Math.max(...d)}}return{minimum:1,maximum:7}},hours:({format:l})=>{const c=e.getHours(i);return e.formatByString(e.endOfDay(n),l)!==c.toString()?{minimum:1,maximum:Number(e.formatByString(e.startOfDay(n),l))}:{minimum:0,maximum:c}},minutes:()=>({minimum:0,maximum:e.getMinutes(i)}),seconds:()=>({minimum:0,maximum:e.getSeconds(i)}),meridiem:()=>({minimum:0,maximum:0})}},p1=(e,t,n,a,i)=>{switch(n.type){case"year":return e.setYear(i,e.getYear(a));case"month":return e.setMonth(i,e.getMonth(a));case"weekDay":{const s=Ho(e,t,n.format),o=e.formatByString(a,n.format),l=s.indexOf(o),d=s.indexOf(n.value)-l;return e.addDays(a,d)}case"day":return e.setDate(i,e.getDate(a));case"meridiem":{const s=e.getHours(a)<12,o=e.getHours(i);return s&&o>=12?e.addHours(i,-12):!s&&o<12?e.addHours(i,12):i}case"hours":return e.setHours(i,e.getHours(a));case"minutes":return e.setMinutes(i,e.getMinutes(a));case"seconds":return e.setSeconds(i,e.getSeconds(a));default:return i}},Ou={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8},Ru=(e,t,n,a,i,s)=>[...a].sort((o,l)=>Ou[o.type]-Ou[l.type]).reduce((o,l)=>!s||l.modified?p1(e,t,l,n,o):o,i),f1=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,m1=(e,t)=>{const n={};if(!t)return e.forEach((c,d)=>{const u=d===0?null:d-1,h=d===e.length-1?null:d+1;n[d]={leftIndex:u,rightIndex:h}}),{neighbors:n,startIndex:0,endIndex:e.length-1};const a={},i={};let s=0,o=0,l=e.length-1;for(;l>=0;){o=e.findIndex((c,d)=>{var u;return d>=s&&((u=c.endSeparator)==null?void 0:u.includes(" "))&&c.endSeparator!==" / "}),o===-1&&(o=e.length-1);for(let c=o;c>=s;c-=1)i[c]=l,a[l]=c,l-=1;s=o+1}return e.forEach((c,d)=>{const u=i[d],h=u===0?null:a[u-1],p=u===e.length-1?null:a[u+1];n[d]={leftIndex:h,rightIndex:p}}),{neighbors:n,startIndex:a[0],endIndex:a[e.length-1]}},x1=["value","referenceDate"],fr={emptyValue:null,getTodayValue:rm,getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,a=qe(e,x1);return t!=null&&a.utils.isValid(t)?t:n??i1(a)},cleanValue:e1,areValuesEqual:t1,isSameError:(e,t)=>e===t,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,t)=>t==null||!e.isValid(t)?null:e.getTimezone(t),setTimezone:(e,t,n)=>n==null?null:e.setTimezone(n,t)},g1={updateReferenceValue:(e,t,n)=>t==null||!e.isValid(t)?n:t,getSectionsFromValue:(e,t,n,a,i)=>!e.isValid(t)&&!!n?n:lm(i(t),a),getValueStrFromSections:u1,getActiveDateManager:(e,t)=>({date:t.value,referenceDate:t.referenceValue,getSections:n=>n,getNewValuesFromNewActiveDate:n=>({value:n,referenceValue:n==null||!e.isValid(n)?t.referenceValue:n})}),parseValueStr:(e,t,n)=>n(e.trim(),t)},um=e=>{if(e!==void 0)return Object.keys(e).reduce((t,n)=>G({},t,{[`${n.slice(0,1).toLowerCase()}${n.slice(1)}`]:e[n]}),{})};function v1(e){return Et("MuiPickersDay",e)}const Qr=At("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),y1=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],b1=e=>{const{selected:t,disableMargin:n,disableHighlightToday:a,today:i,disabled:s,outsideCurrentMonth:o,showDaysOutsideCurrentMonth:l,classes:c}=e,d=o&&!l;return Ct({root:["root",t&&!d&&"selected",s&&"disabled",!n&&"dayWithMargin",!a&&i&&"today",o&&l&&"dayOutsideMonth",d&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},v1,c)},hm=({theme:e,ownerState:t})=>G({},e.typography.caption,{width:Zi,height:Zi,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:F(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:F(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${Qr.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${Qr.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${Qr.disabled}:not(.${Qr.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${Qr.disabled}&.${Qr.selected}`]:{opacity:.6}},!t.disableMargin&&{margin:`0 ${Uo}px`},t.outsideCurrentMonth&&t.showDaysOutsideCurrentMonth&&{color:(e.vars||e).palette.text.secondary},!t.disableHighlightToday&&t.today&&{[`&:not(.${Qr.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}),pm=(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.today&&t.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},j1=Oe(dg,{name:"MuiPickersDay",slot:"Root",overridesResolver:pm})(hm),w1=Oe("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:pm})(({theme:e,ownerState:t})=>G({},hm({theme:e,ownerState:t}),{opacity:0,pointerEvents:"none"})),$i=()=>{},C1=x.forwardRef(function(t,n){const a=ft({props:t,name:"MuiPickersDay"}),{autoFocus:i=!1,className:s,day:o,disabled:l=!1,disableHighlightToday:c=!1,disableMargin:d=!1,isAnimating:u,onClick:h,onDaySelect:p,onFocus:y=$i,onBlur:b=$i,onKeyDown:m=$i,onMouseDown:f=$i,onMouseEnter:j=$i,outsideCurrentMonth:$,selected:S=!1,showDaysOutsideCurrentMonth:T=!1,children:A,today:M=!1}=a,g=qe(a,y1),D=G({},a,{autoFocus:i,disabled:l,disableHighlightToday:c,disableMargin:d,selected:S,showDaysOutsideCurrentMonth:T,today:M}),P=b1(D),C=mt(),k=x.useRef(null),R=ga(k,n);Ja(()=>{i&&!l&&!u&&!$&&k.current.focus()},[i,l,u,$]);const O=I=>{f(I),$&&I.preventDefault()},E=I=>{l||p(o),$&&I.currentTarget.focus(),h&&h(I)};return $&&!T?r.jsx(w1,{className:vt(P.root,P.hiddenDaySpacingFiller,s),ownerState:D,role:g.role}):r.jsx(j1,G({className:vt(P.root,s),ref:R,centerRipple:!0,disabled:l,tabIndex:S?0:-1,onKeyDown:I=>m(I,o),onFocus:I=>y(I,o),onBlur:I=>b(I,o),onMouseEnter:I=>j(I,o),onClick:E,onMouseDown:O},g,{ownerState:D,children:A||C.format(o,"dayOfMonth")}))}),$1=x.memo(C1);function fm(e,t,n,a){const{value:i,onError:s}=e,o=ka(),l=x.useRef(a),c=t({adapter:o,value:i,props:e});return x.useEffect(()=>{s&&!n(c,l.current)&&s(c,i),l.current=c},[n,s,l,c,i]),c}const S1=e=>{const t=mt(),n=qr(),a=ka(),s=Ve().direction==="rtl",{valueManager:o,fieldValueManager:l,valueType:c,validator:d,internalProps:u,internalProps:{value:h,defaultValue:p,referenceDate:y,onChange:b,format:m,formatDensity:f="dense",selectedSections:j,onSelectedSectionsChange:$,shouldRespectLeadingZeros:S=!1,timezone:T}}=e,{timezone:A,value:M,handleValueChange:g}=wd({timezone:T,value:h,defaultValue:p,onChange:b,valueManager:o}),D=x.useMemo(()=>h1(t,A),[t,A]),P=x.useCallback((J,ie=null)=>l.getSectionsFromValue(t,J,ie,s,me=>Mu(t,A,n,m,me,f,S,s)),[l,m,n,s,S,t,f,A]),C=x.useMemo(()=>l.getValueStrFromSections(P(o.emptyValue),s),[l,P,o.emptyValue,s]),[k,R]=x.useState(()=>{const J=P(M),ie={sections:J,value:M,referenceValue:o.emptyValue,tempValueStrAndroid:null},me=a1(J),te=o.getInitialReferenceValue({referenceDate:y,value:M,utils:t,props:u,granularity:me,timezone:A});return G({},ie,{referenceValue:te})}),[O,E]=Ir({controlled:j,default:null,name:"useField",state:"selectedSectionIndexes"}),I=J=>{E(J),$==null||$(J),R(ie=>G({},ie,{selectedSectionQuery:null}))},V=x.useMemo(()=>{if(O==null)return null;if(O==="all")return{startIndex:0,endIndex:k.sections.length-1,shouldSelectBoundarySelectors:!0};if(typeof O=="number")return{startIndex:O,endIndex:O};if(typeof O=="string"){const J=k.sections.findIndex(ie=>ie.type===O);return{startIndex:J,endIndex:J}}return O},[O,k.sections]),U=({value:J,referenceValue:ie,sections:me})=>{if(R(pe=>G({},pe,{sections:me,value:J,referenceValue:ie,tempValueStrAndroid:null})),o.areValuesEqual(t,k.value,J))return;const te={validationError:d({adapter:a,value:J,props:G({},u,{value:J,timezone:A})})};g(J,te)},_=(J,ie)=>{const me=[...k.sections];return me[J]=G({},me[J],{value:ie,modified:!0}),lm(me,s)},z=()=>{U({value:o.emptyValue,referenceValue:k.referenceValue,sections:P(o.emptyValue)})},B=()=>{if(V==null)return;const J=k.sections[V.startIndex],ie=l.getActiveDateManager(t,k,J),te=ie.getSections(k.sections).filter(he=>he.value!=="").length===(J.value===""?0:1),pe=_(V.startIndex,""),ve=te?null:t.date(new Date("")),ge=ie.getNewValuesFromNewActiveDate(ve);(ve!=null&&!t.isValid(ve))!=(ie.date!=null&&!t.isValid(ie.date))?U(G({},ge,{sections:pe})):R(he=>G({},he,ge,{sections:pe,tempValueStrAndroid:null}))},Q=J=>{const ie=(pe,ve)=>{const ge=t.parse(pe,m);if(ge==null||!t.isValid(ge))return null;const he=Mu(t,A,n,m,ge,f,S,s);return Ru(t,A,ge,he,ve,!1)},me=l.parseValueStr(J,k.referenceValue,ie),te=l.updateReferenceValue(t,me,k.referenceValue);U({value:me,referenceValue:te,sections:P(me,k.sections)})},se=({activeSection:J,newSectionValue:ie,shouldGoToNextSection:me})=>{me&&V&&V.startIndex<k.sections.length-1?I(V.startIndex+1):V&&V.startIndex!==V.endIndex&&I(V.startIndex);const te=l.getActiveDateManager(t,k,J),pe=_(V.startIndex,ie),ve=te.getSections(pe),ge=d1(t,ve);let he,xe;if(ge!=null&&t.isValid(ge)){const oe=Ru(t,A,ge,ve,te.referenceDate,!0);he=te.getNewValuesFromNewActiveDate(oe),xe=!0}else he=te.getNewValuesFromNewActiveDate(ge),xe=(ge!=null&&!t.isValid(ge))!=(te.date!=null&&!t.isValid(te.date));return xe?U(G({},he,{sections:pe})):R(oe=>G({},oe,he,{sections:pe,tempValueStrAndroid:null}))},X=J=>R(ie=>G({},ie,{tempValueStrAndroid:J}));return x.useEffect(()=>{const J=P(k.value);R(ie=>G({},ie,{sections:J}))},[m,t.locale]),x.useEffect(()=>{let J=!1;o.areValuesEqual(t,k.value,M)?J=o.getTimezone(t,k.value)!==o.getTimezone(t,M):J=!0,J&&R(ie=>G({},ie,{value:M,referenceValue:l.updateReferenceValue(t,M,ie.referenceValue),sections:P(M)}))},[M]),{state:k,selectedSectionIndexes:V,setSelectedSections:I,clearValue:z,clearActiveSection:B,updateSectionValue:se,updateValueFromValueStr:Q,setTempAndroidValueStr:X,sectionsValueBoundaries:D,placeholder:C,timezone:A}},D1=5e3,Ma=e=>e.saveQuery!=null,T1=({sections:e,updateSectionValue:t,sectionsValueBoundaries:n,setTempAndroidValueStr:a,timezone:i})=>{const s=mt(),[o,l]=x.useState(null),c=Me(()=>l(null));x.useEffect(()=>{var y;o!=null&&((y=e[o.sectionIndex])==null?void 0:y.type)!==o.sectionType&&c()},[e,o,c]),x.useEffect(()=>{if(o!=null){const y=setTimeout(()=>c(),D1);return()=>{window.clearTimeout(y)}}return()=>{}},[o,c]);const d=({keyPressed:y,sectionIndex:b},m,f)=>{const j=y.toLowerCase(),$=e[b];if(o!=null&&(!f||f(o.value))&&o.sectionIndex===b){const T=`${o.value}${j}`,A=m(T,$);if(!Ma(A))return l({sectionIndex:b,value:T,sectionType:$.type}),A}const S=m(j,$);return Ma(S)&&!S.saveQuery?(c(),null):(l({sectionIndex:b,value:j,sectionType:$.type}),Ma(S)?null:S)},u=y=>{const b=(j,$,S)=>{const T=$.filter(A=>A.toLowerCase().startsWith(S));return T.length===0?{saveQuery:!1}:{sectionValue:T[0],shouldGoToNextSection:T.length===1}},m=(j,$,S,T)=>{const A=M=>im(s,i,$.type,M);if($.contentType==="letter")return b($.format,A($.format),j);if(S&&T!=null&&am(s,S).contentType==="letter"){const M=A(S),g=b(S,M,j);return Ma(g)?{saveQuery:!1}:G({},g,{sectionValue:T(g.sectionValue,M)})}return{saveQuery:!1}};return d(y,(j,$)=>{switch($.type){case"month":{const S=T=>Iu(s,T,s.formats.month,$.format);return m(j,$,s.formats.month,S)}case"weekDay":{const S=(T,A)=>A.indexOf(T).toString();return m(j,$,s.formats.weekday,S)}case"meridiem":return m(j,$);default:return{saveQuery:!1}}})},h=y=>{const b=(f,j)=>{const $=+`${f}`,S=n[j.type]({currentDate:null,format:j.format,contentType:j.contentType});if($>S.maximum)return{saveQuery:!1};if($<S.minimum)return{saveQuery:!0};const T=+`${f}0`>S.maximum||f.length===S.maximum.toString().length;return{sectionValue:om(s,i,$,S,j),shouldGoToNextSection:T}};return d(y,(f,j)=>{if(j.contentType==="digit"||j.contentType==="digit-with-letter")return b(f,j);if(j.type==="month"){const $=dm(s,i,"digit","month","MM"),S=b(f,{type:j.type,format:"MM",hasLeadingZerosInFormat:$,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(Ma(S))return S;const T=Iu(s,S.sectionValue,"MM",j.format);return G({},S,{sectionValue:T})}if(j.type==="weekDay"){const $=b(f,j);if(Ma($))return $;const S=Ho(s,i,j.format)[Number($.sectionValue)-1];return G({},$,{sectionValue:S})}return{saveQuery:!1}},f=>!Number.isNaN(Number(f)))};return{applyCharacterEditing:Me(y=>{const b=e[y.sectionIndex],f=y.keyPressed!==" "&&!Number.isNaN(Number(y.keyPressed))?h(y):u(y);f==null?a(null):t({activeSection:b,newSectionValue:f.sectionValue,shouldGoToNextSection:f.shouldGoToNextSection})}),resetCharacterQuery:c}};function k1(e,t){return Array.isArray(t)?t.every(n=>e.indexOf(n)!==-1):e.indexOf(t)!==-1}const P1=(e,t)=>n=>{(n.key==="Enter"||n.key===" ")&&(e(n),n.preventDefault(),n.stopPropagation()),t&&t(n)},oo=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?oo(t.shadowRoot):t:null},E1="@media (pointer: fine)",A1=["onClick","onKeyDown","onFocus","onBlur","onMouseUp","onPaste","error","clearable","onClear","disabled"],I1=e=>{const t=mt(),{state:n,selectedSectionIndexes:a,setSelectedSections:i,clearValue:s,clearActiveSection:o,updateSectionValue:l,updateValueFromValueStr:c,setTempAndroidValueStr:d,sectionsValueBoundaries:u,placeholder:h,timezone:p}=S1(e),{inputRef:y,internalProps:b,internalProps:{readOnly:m=!1,unstableFieldRef:f,minutesStep:j},forwardedProps:{onClick:$,onKeyDown:S,onFocus:T,onBlur:A,onMouseUp:M,onPaste:g,error:D,clearable:P,onClear:C,disabled:k},fieldValueManager:R,valueManager:O,validator:E}=e,I=qe(e.forwardedProps,A1),{applyCharacterEditing:V,resetCharacterQuery:U}=T1({sections:n.sections,updateSectionValue:l,sectionsValueBoundaries:u,setTempAndroidValueStr:d,timezone:p}),_=x.useRef(null),z=ga(y,_),B=x.useRef(void 0),se=Ve().direction==="rtl",X=x.useMemo(()=>m1(n.sections,se),[n.sections,se]),J=()=>{var L;if(m){i(null);return}const W=(L=_.current.selectionStart)!=null?L:0;let H;W<=n.sections[0].startInInput||W>=n.sections[n.sections.length-1].endInInput?H=1:H=n.sections.findIndex(Y=>Y.startInInput-Y.startSeparator.length>W);const ce=H===-1?n.sections.length-1:H-1;i(ce)},ie=Me((L,...W)=>{L.isDefaultPrevented()||($==null||$(L,...W),J())}),me=Me(L=>{M==null||M(L),L.preventDefault()}),te=Me((...L)=>{T==null||T(...L);const W=_.current;window.clearTimeout(B.current),B.current=setTimeout(()=>{!W||W!==_.current||a!=null||m||(W.value.length&&Number(W.selectionEnd)-Number(W.selectionStart)===W.value.length?i("all"):J())})}),pe=Me((...L)=>{A==null||A(...L),i(null)}),ve=Me(L=>{if(g==null||g(L),m){L.preventDefault();return}const W=L.clipboardData.getData("text");if(a&&a.startIndex===a.endIndex){const H=n.sections[a.startIndex],ce=/^[a-zA-Z]+$/.test(W),Y=/^[0-9]+$/.test(W),K=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(W);if(H.contentType==="letter"&&ce||H.contentType==="digit"&&Y||H.contentType==="digit-with-letter"&&K){U(),l({activeSection:H,newSectionValue:W,shouldGoToNextSection:!0}),L.preventDefault();return}if(ce||Y){L.preventDefault();return}}L.preventDefault(),U(),c(W)}),ge=Me(L=>{if(m)return;const W=L.target.value;if(W===""){U(),s();return}const H=L.nativeEvent.data,ce=H&&H.length>1,Y=ce?H:W,K=Ua(Y);if(a==null||ce){c(ce?H:K);return}let ae;if(a.startIndex===0&&a.endIndex===n.sections.length-1&&K.length===1)ae=K;else{const Ce=Ua(R.getValueStrFromSections(n.sections,se));let Ne=-1,xt=-1;for(let Wt=0;Wt<Ce.length;Wt+=1)Ne===-1&&Ce[Wt]!==K[Wt]&&(Ne=Wt),xt===-1&&Ce[Ce.length-Wt-1]!==K[K.length-Wt-1]&&(xt=Wt);const Vt=n.sections[a.startIndex];if(Ne<Vt.start||Ce.length-xt-1>Vt.end)return;const Dn=K.length-Ce.length+Vt.end-Ua(Vt.endSeparator||"").length;ae=K.slice(Vt.start+Ua(Vt.startSeparator||"").length,Dn)}if(ae.length===0){f1()?d(Y):(U(),o());return}V({keyPressed:ae,sectionIndex:a.startIndex})}),he=Me(L=>{switch(S==null||S(L),!0){case(L.key==="a"&&(L.ctrlKey||L.metaKey)):{L.preventDefault(),i("all");break}case L.key==="ArrowRight":{if(L.preventDefault(),a==null)i(X.startIndex);else if(a.startIndex!==a.endIndex)i(a.endIndex);else{const W=X.neighbors[a.startIndex].rightIndex;W!==null&&i(W)}break}case L.key==="ArrowLeft":{if(L.preventDefault(),a==null)i(X.endIndex);else if(a.startIndex!==a.endIndex)i(a.startIndex);else{const W=X.neighbors[a.startIndex].leftIndex;W!==null&&i(W)}break}case L.key==="Delete":{if(L.preventDefault(),m)break;a==null||a.startIndex===0&&a.endIndex===n.sections.length-1?s():o(),U();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(L.key):{if(L.preventDefault(),m||a==null)break;const W=n.sections[a.startIndex],H=R.getActiveDateManager(t,n,W),ce=o1(t,p,W,L.key,u,H.date,{minutesStep:j});l({activeSection:W,newSectionValue:ce,shouldGoToNextSection:!1});break}}});Ja(()=>{if(!_.current)return;if(a==null){_.current.scrollLeft&&(_.current.scrollLeft=0);return}const L=n.sections[a.startIndex],W=n.sections[a.endIndex];let H=L.startInInput,ce=W.endInInput;if(a.shouldSelectBoundarySelectors&&(H-=L.startSeparator.length,ce+=W.endSeparator.length),H!==_.current.selectionStart||ce!==_.current.selectionEnd){const Y=_.current.scrollTop;_.current===oo(document)&&_.current.setSelectionRange(H,ce),_.current.scrollTop=Y}});const xe=fm(G({},b,{value:n.value,timezone:p}),E,O.isSameError,O.defaultErrorState),oe=x.useMemo(()=>D!==void 0?D:O.hasError(xe),[O,xe,D]);x.useEffect(()=>{!oe&&!a&&U()},[n.referenceValue,a,oe]),x.useEffect(()=>(_.current&&_.current===document.activeElement&&i("all"),()=>window.clearTimeout(B.current)),[]),x.useEffect(()=>{n.tempValueStrAndroid!=null&&a!=null&&(U(),o())},[n.tempValueStrAndroid]);const Te=x.useMemo(()=>{var L;return(L=n.tempValueStrAndroid)!=null?L:R.getValueStrFromSections(n.sections,se)},[n.sections,R,n.tempValueStrAndroid,se]),He=x.useMemo(()=>a==null||n.sections[a.startIndex].contentType==="letter"?"text":"numeric",[a,n.sections]),Ue=_.current&&_.current===oo(document),ut=O.areValuesEqual(t,n.value,O.emptyValue),ke=!Ue&&ut;x.useImperativeHandle(f,()=>({getSections:()=>n.sections,getActiveSectionIndex:()=>{var L,W,H;const ce=(L=_.current.selectionStart)!=null?L:0,Y=(W=_.current.selectionEnd)!=null?W:0,K=!!((H=_.current)!=null&&H.readOnly);if(ce===0&&Y===0||K)return null;const ae=ce<=n.sections[0].startInInput?1:n.sections.findIndex(Ce=>Ce.startInInput-Ce.startSeparator.length>ce);return ae===-1?n.sections.length-1:ae-1},setSelectedSections:L=>i(L)}));const Pe=Me((L,...W)=>{var H;L.preventDefault(),C==null||C(L,...W),s(),_==null||(H=_.current)==null||H.focus(),i(0)});return G({placeholder:h,autoComplete:"off",disabled:!!k},I,{value:ke?"":Te,inputMode:He,readOnly:m,onClick:ie,onFocus:te,onBlur:pe,onPaste:ve,onChange:ge,onKeyDown:he,onMouseUp:me,onClear:Pe,error:oe,ref:z,clearable:!!(P&&!ut&&!m&&!k)})},Yo=({props:e,value:t,adapter:n})=>{if(t===null)return null;const{shouldDisableDate:a,shouldDisableMonth:i,shouldDisableYear:s,disablePast:o,disableFuture:l,timezone:c}=e,d=n.utils.dateWithTimezone(void 0,c),u=jn(n.utils,e.minDate,n.defaultDates.minDate),h=jn(n.utils,e.maxDate,n.defaultDates.maxDate);switch(!0){case!n.utils.isValid(t):return"invalidDate";case!!(a&&a(t)):return"shouldDisableDate";case!!(i&&i(t)):return"shouldDisableMonth";case!!(s&&s(t)):return"shouldDisableYear";case!!(l&&n.utils.isAfterDay(t,d)):return"disableFuture";case!!(o&&n.utils.isBeforeDay(t,d)):return"disablePast";case!!(u&&n.utils.isBeforeDay(t,u)):return"minDate";case!!(h&&n.utils.isAfterDay(t,h)):return"maxDate";default:return null}},yc=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],bc=["disablePast","disableFuture","minTime","maxTime","shouldDisableClock","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],mm=["minDateTime","maxDateTime"],M1=[...yc,...bc,...mm],xm=e=>M1.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{}),O1=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","readOnly","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef"],R1=(e,t)=>{const n=G({},e),a={},i=s=>{n.hasOwnProperty(s)&&(a[s]=n[s],delete n[s])};return O1.forEach(i),t==="date"?yc.forEach(i):t==="time"?bc.forEach(i):t==="date-time"&&(yc.forEach(i),bc.forEach(i),mm.forEach(i)),{forwardedProps:n,internalProps:a}},N1=e=>{var t,n,a;const i=mt(),s=os();return G({},e,{disablePast:(t=e.disablePast)!=null?t:!1,disableFuture:(n=e.disableFuture)!=null?n:!1,format:(a=e.format)!=null?a:i.formats.keyboardDate,minDate:jn(i,e.minDate,s.minDate),maxDate:jn(i,e.maxDate,s.maxDate)})},F1=({props:e,inputRef:t})=>{const n=N1(e),{forwardedProps:a,internalProps:i}=R1(n,"date");return I1({inputRef:t,forwardedProps:a,internalProps:i,valueManager:fr,fieldValueManager:g1,validator:Yo,valueType:"date"})},L1=Oe(Lr)({[`& .${cu.container}`]:{outline:0},[`& .${cu.paper}`]:{outline:0,minWidth:qo}}),V1=Oe(Vr)({"&:first-of-type":{padding:0}});function z1(e){var t,n;const{children:a,onDismiss:i,open:s,slots:o,slotProps:l}=e,c=(t=o==null?void 0:o.dialog)!=null?t:L1,d=(n=o==null?void 0:o.mobileTransition)!=null?n:bn;return r.jsx(c,G({open:s,onClose:i},l==null?void 0:l.dialog,{TransitionComponent:d,TransitionProps:l==null?void 0:l.mobileTransition,PaperComponent:o==null?void 0:o.mobilePaper,PaperProps:l==null?void 0:l.mobilePaper,children:r.jsx(V1,{children:a})}))}function _1(e){return Et("MuiPickersPopper",e)}At("MuiPickersPopper",["root","paper"]);const W1="@media (prefers-reduced-motion: reduce)",Qa=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),Nu=Qa&&Qa[1]?parseInt(Qa[1],10):null,Fu=Qa&&Qa[2]?parseInt(Qa[2],10):null,B1=Nu&&Nu<10||Fu&&Fu<13||!1,gm=()=>Ro(W1,{defaultMatches:!1})||B1,U1=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],q1=e=>{const{classes:t}=e;return Ct({root:["root"],paper:["paper"]},_1,t)},H1=Oe(ug,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({zIndex:e.zIndex.modal})),Y1=Oe(Ie,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({ownerState:e})=>G({outline:0,transformOrigin:"top center"},e.placement.includes("top")&&{transformOrigin:"bottom center"}));function G1(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function Q1(e,t){const n=x.useRef(!1),a=x.useRef(!1),i=x.useRef(null),s=x.useRef(!1);x.useEffect(()=>{if(!e)return;function c(){s.current=!0}return document.addEventListener("mousedown",c,!0),document.addEventListener("touchstart",c,!0),()=>{document.removeEventListener("mousedown",c,!0),document.removeEventListener("touchstart",c,!0),s.current=!1}},[e]);const o=Me(c=>{if(!s.current)return;const d=a.current;a.current=!1;const u=jl(i.current);if(!i.current||"clientX"in c&&G1(c,u))return;if(n.current){n.current=!1;return}let h;c.composedPath?h=c.composedPath().indexOf(i.current)>-1:h=!u.documentElement.contains(c.target)||i.current.contains(c.target),!h&&!d&&t(c)}),l=()=>{a.current=!0};return x.useEffect(()=>{if(e){const c=jl(i.current),d=()=>{n.current=!0};return c.addEventListener("touchstart",o),c.addEventListener("touchmove",d),()=>{c.removeEventListener("touchstart",o),c.removeEventListener("touchmove",d)}}},[e,o]),x.useEffect(()=>{if(e){const c=jl(i.current);return c.addEventListener("click",o),()=>{c.removeEventListener("click",o),a.current=!1}}},[e,o]),[i,l,l]}const K1=x.forwardRef((e,t)=>{const{PaperComponent:n,popperPlacement:a,ownerState:i,children:s,paperSlotProps:o,paperClasses:l,onPaperClick:c,onPaperTouchStart:d}=e,u=qe(e,U1),h=G({},i,{placement:a}),p=zt({elementType:n,externalSlotProps:o,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:l,ownerState:h});return r.jsx(n,G({},u,p,{onClick:y=>{var b;c(y),(b=p.onClick)==null||b.call(p,y)},onTouchStart:y=>{var b;d(y),(b=p.onTouchStart)==null||b.call(p,y)},ownerState:h,children:s}))});function Z1(e){var t,n,a,i;const s=ft({props:e,name:"MuiPickersPopper"}),{anchorEl:o,children:l,containerRef:c=null,shouldRestoreFocus:d,onBlur:u,onDismiss:h,open:p,role:y,placement:b,slots:m,slotProps:f,reduceAnimations:j}=s;x.useEffect(()=>{function z(B){p&&(B.key==="Escape"||B.key==="Esc")&&h()}return document.addEventListener("keydown",z),()=>{document.removeEventListener("keydown",z)}},[h,p]);const $=x.useRef(null);x.useEffect(()=>{y==="tooltip"||d&&!d()||(p?$.current=oo(document):$.current&&$.current instanceof HTMLElement&&setTimeout(()=>{$.current instanceof HTMLElement&&$.current.focus()}))},[p,y,d]);const[S,T,A]=Q1(p,u??h),M=x.useRef(null),g=ga(M,c),D=ga(g,S),P=s,C=q1(P),k=gm(),R=j??k,O=z=>{z.key==="Escape"&&(z.stopPropagation(),h())},E=((t=m==null?void 0:m.desktopTransition)!=null?t:R)?bn:hg,I=(n=m==null?void 0:m.desktopTrapFocus)!=null?n:pg,V=(a=m==null?void 0:m.desktopPaper)!=null?a:Y1,U=(i=m==null?void 0:m.popper)!=null?i:H1,_=zt({elementType:U,externalSlotProps:f==null?void 0:f.popper,additionalProps:{transition:!0,role:y,open:p,anchorEl:o,placement:b,onKeyDown:O},className:C.root,ownerState:s});return r.jsx(U,G({},_,{children:({TransitionProps:z,placement:B})=>r.jsx(I,G({open:p,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:y==="tooltip",isEnabled:()=>!0},f==null?void 0:f.desktopTrapFocus,{children:r.jsx(E,G({},z,f==null?void 0:f.desktopTransition,{children:r.jsx(K1,{PaperComponent:V,ownerState:P,popperPlacement:B,ref:D,onPaperClick:T,onPaperTouchStart:A,paperClasses:C.paper,paperSlotProps:f==null?void 0:f.desktopPaper,children:l})}))}))}))}function X1(e){return Et("MuiPickersToolbar",e)}At("MuiPickersToolbar",["root","content"]);const J1=e=>{const{classes:t,isLandscape:n}=e;return Ct({root:["root"],content:["content"],penIconButton:["penIconButton",n&&"penIconButtonLandscape"]},X1,t)},eb=Oe("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>G({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3)},t.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})),tb=Oe("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(e,t)=>t.content})(({ownerState:e})=>{var t;return{display:"flex",flexWrap:"wrap",width:"100%",justifyContent:e.isLandscape?"flex-start":"space-between",flexDirection:e.isLandscape?(t=e.landscapeDirection)!=null?t:"column":"row",flex:1,alignItems:e.isLandscape?"flex-start":"center"}}),nb=x.forwardRef(function(t,n){const a=ft({props:t,name:"MuiPickersToolbar"}),{children:i,className:s,toolbarTitle:o,hidden:l,titleId:c}=a,d=a,u=J1(d);return l?null:r.jsxs(eb,{ref:n,className:vt(u.root,s),ownerState:d,children:[r.jsx(v,{color:"text.secondary",variant:"overline",id:c,children:o}),r.jsx(tb,{className:u.content,ownerState:d,children:i})]})}),rb=({open:e,onOpen:t,onClose:n})=>{const a=x.useRef(typeof e=="boolean").current,[i,s]=x.useState(!1);x.useEffect(()=>{if(a){if(typeof e!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");s(e)}},[a,e]);const o=x.useCallback(l=>{a||s(l),l&&t&&t(),!l&&n&&n()},[a,t,n]);return{isOpen:i,setIsOpen:o}},ab=e=>{const{action:t,hasChanged:n,dateState:a,isControlled:i}=e,s=!i&&!a.hasBeenModifiedSinceMount;return t.name==="setValueFromField"?!0:t.name==="setValueFromAction"?s&&["accept","today","clear"].includes(t.pickerAction)?!0:n(a.lastPublishedValue):t.name==="setValueFromView"&&t.selectionState!=="shallow"||t.name==="setValueFromShortcut"?s?!0:n(a.lastPublishedValue):!1},ib=e=>{const{action:t,hasChanged:n,dateState:a,isControlled:i,closeOnSelect:s}=e,o=!i&&!a.hasBeenModifiedSinceMount;return t.name==="setValueFromAction"?o&&["accept","today","clear"].includes(t.pickerAction)?!0:n(a.lastCommittedValue):t.name==="setValueFromView"&&t.selectionState==="finish"&&s?o?!0:n(a.lastCommittedValue):t.name==="setValueFromShortcut"?t.changeImportance==="accept"&&n(a.lastCommittedValue):!1},sb=e=>{const{action:t,closeOnSelect:n}=e;return t.name==="setValueFromAction"?!0:t.name==="setValueFromView"?t.selectionState==="finish"&&n:t.name==="setValueFromShortcut"?t.changeImportance==="accept":!1},ob=({props:e,valueManager:t,valueType:n,wrapperVariant:a,validator:i})=>{const{onAccept:s,onChange:o,value:l,defaultValue:c,closeOnSelect:d=a==="desktop",selectedSections:u,onSelectedSectionsChange:h,timezone:p}=e,{current:y}=x.useRef(c),{current:b}=x.useRef(l!==void 0),m=mt(),f=ka(),[j,$]=Ir({controlled:u,default:null,name:"usePickerValue",state:"selectedSections"}),{isOpen:S,setIsOpen:T}=rb(e),[A,M]=x.useState(()=>{let te;return l!==void 0?te=l:y!==void 0?te=y:te=t.emptyValue,{draft:te,lastPublishedValue:te,lastCommittedValue:te,lastControlledValue:l,hasBeenModifiedSinceMount:!1}}),{timezone:g,handleValueChange:D}=wd({timezone:p,value:l,defaultValue:y,onChange:o,valueManager:t});fm(G({},e,{value:A.draft,timezone:g}),i,t.isSameError,t.defaultErrorState);const P=Me(te=>{const pe={action:te,dateState:A,hasChanged:xe=>!t.areValuesEqual(m,te.value,xe),isControlled:b,closeOnSelect:d},ve=ab(pe),ge=ib(pe),he=sb(pe);if(M(xe=>G({},xe,{draft:te.value,lastPublishedValue:ve?te.value:xe.lastPublishedValue,lastCommittedValue:ge?te.value:xe.lastCommittedValue,hasBeenModifiedSinceMount:!0})),ve){const oe={validationError:te.name==="setValueFromField"?te.context.validationError:i({adapter:f,value:te.value,props:G({},e,{value:te.value,timezone:g})})};te.name==="setValueFromShortcut"&&te.shortcut!=null&&(oe.shortcut=te.shortcut),D(te.value,oe)}ge&&s&&s(te.value),he&&T(!1)});if(l!==void 0&&(A.lastControlledValue===void 0||!t.areValuesEqual(m,A.lastControlledValue,l))){const te=t.areValuesEqual(m,A.draft,l);M(pe=>G({},pe,{lastControlledValue:l},te?{}:{lastCommittedValue:l,lastPublishedValue:l,draft:l,hasBeenModifiedSinceMount:!0}))}const C=Me(()=>{P({value:t.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),k=Me(()=>{P({value:A.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),R=Me(()=>{P({value:A.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),O=Me(()=>{P({value:A.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),E=Me(()=>{P({value:t.getTodayValue(m,g,n),name:"setValueFromAction",pickerAction:"today"})}),I=Me(()=>T(!0)),V=Me(()=>T(!1)),U=Me((te,pe="partial")=>P({name:"setValueFromView",value:te,selectionState:pe})),_=Me((te,pe,ve)=>P({name:"setValueFromShortcut",value:te,changeImportance:pe??"accept",shortcut:ve})),z=Me((te,pe)=>P({name:"setValueFromField",value:te,context:pe})),B=Me(te=>{$(te),h==null||h(te)}),Q={onClear:C,onAccept:k,onDismiss:R,onCancel:O,onSetToday:E,onOpen:I,onClose:V},se={value:A.draft,onChange:z,selectedSections:j,onSelectedSectionsChange:B},X=x.useMemo(()=>t.cleanValue(m,A.draft),[m,t,A.draft]),J={value:X,onChange:U,onClose:V,open:S,onSelectedSectionsChange:B},me=G({},Q,{value:X,onChange:U,onSelectShortcut:_,isValid:te=>{const pe=i({adapter:f,value:te,props:G({},e,{value:te,timezone:g})});return!t.hasError(pe)}});return{open:S,fieldProps:se,viewProps:J,layoutProps:me,actions:Q}},lb=["className","sx"],cb=({props:e,propsFromPickerValue:t,additionalViewProps:n,inputRef:a,autoFocusView:i})=>{const{onChange:s,open:o,onSelectedSectionsChange:l,onClose:c}=t,{view:d,views:u,openTo:h,onViewChange:p,viewRenderers:y,timezone:b}=e,m=qe(e,lb),{view:f,setView:j,defaultView:$,focusedView:S,setFocusedView:T,setValueAndGoToNextView:A}=nm({view:d,views:u,openTo:h,onChange:s,onViewChange:p,autoFocus:i}),{hasUIView:M,viewModeLookup:g}=x.useMemo(()=>u.reduce((E,I)=>{let V;return y[I]!=null?V="UI":V="field",E.viewModeLookup[I]=V,V==="UI"&&(E.hasUIView=!0),E},{hasUIView:!1,viewModeLookup:{}}),[y,u]),D=x.useMemo(()=>u.reduce((E,I)=>y[I]!=null&&Gy(I)?E+1:E,0),[y,u]),P=g[f],C=Me(()=>P==="UI"),[k,R]=x.useState(P==="UI"?f:null);return k!==f&&g[f]==="UI"&&R(f),Ja(()=>{P==="field"&&o&&(c(),setTimeout(()=>{a==null||a.current.focus(),l(f)}))},[f]),Ja(()=>{if(!o)return;let E=f;P==="field"&&k!=null&&(E=k),E!==$&&g[E]==="UI"&&g[$]==="UI"&&(E=$),E!==f&&j(E),T(E,!0)},[o]),{hasUIView:M,shouldRestoreFocus:C,layoutProps:{views:u,view:k,onViewChange:j},renderCurrentView:()=>{if(k==null)return null;const E=y[k];return E==null?null:E(G({},m,n,t,{views:u,timezone:b,onChange:A,view:k,onViewChange:j,focusedView:S,onFocusedViewChange:T,showViewSwitcher:D>1,timeViewsCount:D}))}}};function Lu(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const db=(e,t)=>{const[n,a]=x.useState(Lu);return Ja(()=>{const s=()=>{a(Lu())};return window.addEventListener("orientationchange",s),()=>{window.removeEventListener("orientationchange",s)}},[]),k1(e,["hours","minutes","seconds"])?!1:(t||n)==="landscape"},ub=({props:e,propsFromPickerValue:t,propsFromPickerViews:n,wrapperVariant:a})=>{const{orientation:i}=e,s=db(n.views,i);return{layoutProps:G({},n,t,{isLandscape:s,wrapperVariant:a,disabled:e.disabled,readOnly:e.readOnly})}},vm=(e,t="warning")=>{let n=!1;const a=Array.isArray(e)?e.join(`
`):e;return()=>{n||(n=!0,t==="error"?console.error(a):console.warn(a))}};vm(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]);const ym=({props:e,valueManager:t,valueType:n,wrapperVariant:a,inputRef:i,additionalViewProps:s,validator:o,autoFocusView:l})=>{const c=ob({props:e,valueManager:t,valueType:n,wrapperVariant:a,validator:o}),d=cb({props:e,inputRef:i,additionalViewProps:s,autoFocusView:l,propsFromPickerValue:c.viewProps}),u=ub({props:e,wrapperVariant:a,propsFromPickerValue:c.layoutProps,propsFromPickerViews:d.layoutProps});return{open:c.open,actions:c.actions,fieldProps:c.fieldProps,renderCurrentView:d.renderCurrentView,hasUIView:d.hasUIView,shouldRestoreFocus:d.shouldRestoreFocus,layoutProps:u.layoutProps}};function bm(e){return Et("MuiPickersLayout",e)}const Sl=At("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),hb=["onAccept","onClear","onCancel","onSetToday","actions"];function pb(e){const{onAccept:t,onClear:n,onCancel:a,onSetToday:i,actions:s}=e,o=qe(e,hb),l=qr();if(s==null||s.length===0)return null;const c=s==null?void 0:s.map(d=>{switch(d){case"clear":return r.jsx(ue,{onClick:n,children:l.clearButtonLabel},d);case"cancel":return r.jsx(ue,{onClick:a,children:l.cancelButtonLabel},d);case"accept":return r.jsx(ue,{onClick:t,children:l.okButtonLabel},d);case"today":return r.jsx(ue,{onClick:i,children:l.todayButtonLabel},d);default:return null}});return r.jsx(ui,G({},o,{children:c}))}const fb=["items","changeImportance","isLandscape","onChange","isValid"],mb=["getValue"];function xb(e){const{items:t,changeImportance:n,onChange:a,isValid:i}=e,s=qe(e,fb);if(t==null||t.length===0)return null;const o=t.map(l=>{let{getValue:c}=l,d=qe(l,mb);const u=c({isValid:i});return{label:d.label,onClick:()=>{a(u,n,d)},disabled:!i(u)}});return r.jsx(un,G({dense:!0,sx:[{maxHeight:yd,maxWidth:200,overflow:"auto"},...Array.isArray(s.sx)?s.sx:[s.sx]]},s,{children:o.map(l=>r.jsx(kt,{children:r.jsx(de,G({},l))},l.label))}))}function gb(e){return e.view!==null}const vb=e=>{const{classes:t,isLandscape:n}=e;return Ct({root:["root",n&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},bm,t)},yb=e=>{var t,n;const{wrapperVariant:a,onAccept:i,onClear:s,onCancel:o,onSetToday:l,view:c,views:d,onViewChange:u,value:h,onChange:p,onSelectShortcut:y,isValid:b,isLandscape:m,disabled:f,readOnly:j,children:$,components:S,componentsProps:T,slots:A,slotProps:M}=e,g=A??um(S),D=M??T,P=vb(e),C=(t=g==null?void 0:g.actionBar)!=null?t:pb,k=zt({elementType:C,externalSlotProps:D==null?void 0:D.actionBar,additionalProps:{onAccept:i,onClear:s,onCancel:o,onSetToday:l,actions:a==="desktop"?[]:["cancel","accept"],className:P.actionBar},ownerState:G({},e,{wrapperVariant:a})}),R=r.jsx(C,G({},k)),O=g==null?void 0:g.toolbar,E=zt({elementType:O,externalSlotProps:D==null?void 0:D.toolbar,additionalProps:{isLandscape:m,onChange:p,value:h,view:c,onViewChange:u,views:d,disabled:f,readOnly:j,className:P.toolbar},ownerState:G({},e,{wrapperVariant:a})}),I=gb(E)&&O?r.jsx(O,G({},E)):null,V=$,U=g==null?void 0:g.tabs,_=c&&U?r.jsx(U,G({view:c,onViewChange:u,className:P.tabs},D==null?void 0:D.tabs)):null,z=(n=g==null?void 0:g.shortcuts)!=null?n:xb,B=zt({elementType:z,externalSlotProps:D==null?void 0:D.shortcuts,additionalProps:{isValid:b,isLandscape:m,onChange:y,className:P.shortcuts},ownerState:{isValid:b,isLandscape:m,onChange:y,className:P.shortcuts,wrapperVariant:a}}),Q=c&&z?r.jsx(z,G({},B)):null;return{toolbar:I,content:V,tabs:_,actionBar:R,shortcuts:Q}},bb=yb,jb=e=>{const{isLandscape:t,classes:n}=e;return Ct({root:["root",t&&"landscape"],contentWrapper:["contentWrapper"]},bm,n)},jm=Oe("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${Sl.toolbar}`]:t.isLandscape?{gridColumn:e.direction==="rtl"?3:1,gridRow:"2 / 3"}:{gridColumn:"2 / 4",gridRow:1},[`.${Sl.shortcuts}`]:t.isLandscape?{gridColumn:"2 / 4",gridRow:1}:{gridColumn:e.direction==="rtl"?3:1,gridRow:"2 / 3"},[`& .${Sl.actionBar}`]:{gridColumn:"1 / 4",gridRow:3}}));jm.propTypes={as:q.elementType,ownerState:q.shape({isLandscape:q.bool.isRequired}).isRequired,sx:q.oneOfType([q.arrayOf(q.oneOfType([q.func,q.object,q.bool])),q.func,q.object])};const wb=Oe("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(e,t)=>t.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),wm=function(t){const n=ft({props:t,name:"MuiPickersLayout"}),{toolbar:a,content:i,tabs:s,actionBar:o,shortcuts:l}=bb(n),{sx:c,className:d,isLandscape:u,ref:h,wrapperVariant:p}=n,y=n,b=jb(y);return r.jsxs(jm,{ref:h,sx:c,className:vt(d,b.root),ownerState:y,children:[u?l:a,u?a:l,r.jsx(wb,{className:b.contentWrapper,children:p==="desktop"?r.jsxs(x.Fragment,{children:[i,s]}):r.jsxs(x.Fragment,{children:[s,i]})}),o]})},Cb=e=>Et("MuiPickersSlideTransition",e),gn=At("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),$b=["children","className","reduceAnimations","slideDirection","transKey","classes"],Sb=e=>{const{classes:t,slideDirection:n}=e,a={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return Ct(a,Cb,t)},Db=Oe(jf,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${gn["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${gn["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${gn.slideEnterActive}`]:t.slideEnterActive},{[`.${gn.slideExit}`]:t.slideExit},{[`.${gn["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${gn["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${gn["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${gn["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${gn.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${gn.slideExit}`]:{transform:"translate(0%)"},[`& .${gn["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${gn["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function Tb(e){const t=ft({props:e,name:"MuiPickersSlideTransition"}),{children:n,className:a,reduceAnimations:i,transKey:s}=t,o=qe(t,$b),l=Sb(t),c=Ve();if(i)return r.jsx("div",{className:vt(l.root,a),children:n});const d={exit:l.exit,enterActive:l.enterActive,enter:l.enter,exitActive:l.exitActive};return r.jsx(Db,{className:vt(l.root,a),childFactory:u=>x.cloneElement(u,{classNames:d}),role:"presentation",children:r.jsx(fg,G({mountOnEnter:!0,unmountOnExit:!0,timeout:c.transitions.duration.complex,classNames:d},o,{children:n}),s)})}const Cm=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:a,maxDate:i,disableFuture:s,disablePast:o,timezone:l})=>{const c=ka();return x.useCallback(d=>Yo({adapter:c,value:d,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:a,maxDate:i,disableFuture:s,disablePast:o,timezone:l}})!==null,[c,e,t,n,a,i,s,o,l])},kb=e=>Et("MuiDayCalendar",e);At("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const Pb=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],Eb=["ownerState"],Ab=e=>{const{classes:t}=e;return Ct({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},kb,t)},$m=(Zi+Uo*2)*6,Ib=Oe("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Mb=Oe("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),Ob=Oe(v,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),Rb=Oe(v,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:e.palette.text.disabled})),Nb=Oe(v,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})(({theme:e})=>G({},e.typography.caption,{width:Zi,height:Zi,padding:0,margin:`0 ${Uo}px`,color:e.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),Fb=Oe("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:$m}),Lb=Oe(Tb,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:$m}),Vb=Oe("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),zb=Oe("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:`${Uo}px 0`,display:"flex",justifyContent:"center"});function _b(e){var t,n,a;let{parentProps:i,day:s,focusableDay:o,selectedDays:l,isDateDisabled:c,currentMonthNumber:d,isViewFocused:u}=e,h=qe(e,Pb);const{disabled:p,disableHighlightToday:y,isMonthSwitchingAnimating:b,showDaysOutsideCurrentMonth:m,components:f,componentsProps:j,slots:$,slotProps:S,timezone:T}=i,A=mt(),M=Bo(T),g=o!==null&&A.isSameDay(s,o),D=l.some(U=>A.isSameDay(U,s)),P=A.isSameDay(s,M),C=(t=(n=$==null?void 0:$.day)!=null?n:f==null?void 0:f.Day)!=null?t:$1,k=zt({elementType:C,externalSlotProps:(a=S==null?void 0:S.day)!=null?a:j==null?void 0:j.day,additionalProps:G({disableHighlightToday:y,showDaysOutsideCurrentMonth:m,role:"gridcell",isAnimating:b,"data-timestamp":A.toJsDate(s).valueOf()},h),ownerState:G({},i,{day:s,selected:D})}),R=qe(k,Eb),O=x.useMemo(()=>p||c(s),[p,c,s]),E=x.useMemo(()=>A.getMonth(s)!==d,[A,s,d]),I=x.useMemo(()=>{const U=A.startOfMonth(A.setMonth(s,d));return m?A.isSameDay(s,A.startOfWeek(U)):A.isSameDay(s,U)},[d,s,m,A]),V=x.useMemo(()=>{const U=A.endOfMonth(A.setMonth(s,d));return m?A.isSameDay(s,A.endOfWeek(U)):A.isSameDay(s,U)},[d,s,m,A]);return r.jsx(C,G({},R,{day:s,disabled:O,autoFocus:u&&g,today:P,outsideCurrentMonth:E,isFirstVisibleCell:I,isLastVisibleCell:V,selected:D,tabIndex:g?0:-1,"aria-selected":D,"aria-current":P?"date":void 0}))}function Wb(e){const t=ft({props:e,name:"MuiDayCalendar"}),{onFocusedDayChange:n,className:a,currentMonth:i,selectedDays:s,focusedDay:o,loading:l,onSelectedDaysChange:c,onMonthSwitchingAnimationEnd:d,readOnly:u,reduceAnimations:h,renderLoading:p=()=>r.jsx("span",{children:"..."}),slideDirection:y,TransitionProps:b,disablePast:m,disableFuture:f,minDate:j,maxDate:$,shouldDisableDate:S,shouldDisableMonth:T,shouldDisableYear:A,dayOfWeekFormatter:M,hasFocus:g,onFocusedViewChange:D,gridLabelId:P,displayWeekNumber:C,fixedWeekNumber:k,autoFocus:R,timezone:O}=t,E=Bo(O),I=mt(),V=Ab(t),_=Ve().direction==="rtl",z=M||((ke,Pe)=>I.format(Pe,"weekdayShort").charAt(0).toUpperCase()),B=Cm({shouldDisableDate:S,shouldDisableMonth:T,shouldDisableYear:A,minDate:j,maxDate:$,disablePast:m,disableFuture:f,timezone:O}),Q=qr(),[se,X]=Ir({name:"DayCalendar",state:"hasFocus",controlled:g,default:R??!1}),[J,ie]=x.useState(()=>o||E),me=Me(ke=>{u||c(ke)}),te=ke=>{B(ke)||(n(ke),ie(ke),D==null||D(!0),X(!0))},pe=Me((ke,Pe)=>{switch(ke.key){case"ArrowUp":te(I.addDays(Pe,-7)),ke.preventDefault();break;case"ArrowDown":te(I.addDays(Pe,7)),ke.preventDefault();break;case"ArrowLeft":{const L=I.addDays(Pe,_?1:-1),W=I.addMonths(Pe,_?1:-1),H=_i({utils:I,date:L,minDate:_?L:I.startOfMonth(W),maxDate:_?I.endOfMonth(W):L,isDateDisabled:B,timezone:O});te(H||L),ke.preventDefault();break}case"ArrowRight":{const L=I.addDays(Pe,_?-1:1),W=I.addMonths(Pe,_?-1:1),H=_i({utils:I,date:L,minDate:_?I.startOfMonth(W):L,maxDate:_?L:I.endOfMonth(W),isDateDisabled:B,timezone:O});te(H||L),ke.preventDefault();break}case"Home":te(I.startOfWeek(Pe)),ke.preventDefault();break;case"End":te(I.endOfWeek(Pe)),ke.preventDefault();break;case"PageUp":te(I.addMonths(Pe,1)),ke.preventDefault();break;case"PageDown":te(I.addMonths(Pe,-1)),ke.preventDefault();break}}),ve=Me((ke,Pe)=>te(Pe)),ge=Me((ke,Pe)=>{se&&I.isSameDay(J,Pe)&&(D==null||D(!1))}),he=I.getMonth(i),xe=x.useMemo(()=>s.filter(ke=>!!ke).map(ke=>I.startOfDay(ke)),[I,s]),oe=he,Te=x.useMemo(()=>x.createRef(),[oe]),He=I.startOfWeek(E),Ue=x.useMemo(()=>{const ke=I.startOfMonth(i),Pe=I.endOfMonth(i);return B(J)||I.isAfterDay(J,Pe)||I.isBeforeDay(J,ke)?_i({utils:I,date:J,minDate:ke,maxDate:Pe,disablePast:m,disableFuture:f,isDateDisabled:B,timezone:O}):J},[i,f,m,J,B,I,O]),ut=x.useMemo(()=>{const ke=I.setTimezone(i,O),Pe=I.getWeekArray(ke);let L=I.addMonths(ke,1);for(;k&&Pe.length<k;){const W=I.getWeekArray(L),H=I.isSameDay(Pe[Pe.length-1][0],W[0][0]);W.slice(H?1:0).forEach(ce=>{Pe.length<k&&Pe.push(ce)}),L=I.addMonths(L,1)}return Pe},[i,k,I,O]);return r.jsxs(Ib,{role:"grid","aria-labelledby":P,className:V.root,children:[r.jsxs(Mb,{role:"row",className:V.header,children:[C&&r.jsx(Rb,{variant:"caption",role:"columnheader","aria-label":Q.calendarWeekNumberHeaderLabel,className:V.weekNumberLabel,children:Q.calendarWeekNumberHeaderText}),r1(I,E).map((ke,Pe)=>{var L;const W=I.format(ke,"weekdayShort");return r.jsx(Ob,{variant:"caption",role:"columnheader","aria-label":I.format(I.addDays(He,Pe),"weekday"),className:V.weekDayLabel,children:(L=z==null?void 0:z(W,ke))!=null?L:W},W+Pe.toString())})]}),l?r.jsx(Fb,{className:V.loadingContainer,children:p()}):r.jsx(Lb,G({transKey:oe,onExited:d,reduceAnimations:h,slideDirection:y,className:vt(a,V.slideTransition)},b,{nodeRef:Te,children:r.jsx(Vb,{ref:Te,role:"rowgroup",className:V.monthContainer,children:ut.map((ke,Pe)=>r.jsxs(zb,{role:"row",className:V.weekContainer,"aria-rowindex":Pe+1,children:[C&&r.jsx(Nb,{className:V.weekNumber,role:"rowheader","aria-label":Q.calendarWeekNumberAriaLabelText(I.getWeekNumber(ke[0])),children:Q.calendarWeekNumberText(I.getWeekNumber(ke[0]))}),ke.map((L,W)=>r.jsx(_b,{parentProps:t,day:L,selectedDays:xe,focusableDay:Ue,onKeyDown:pe,onFocus:ve,onBlur:ge,onDaySelect:me,isDateDisabled:B,currentMonthNumber:he,isViewFocused:se,"aria-colindex":W+1},L.toString()))]},`week-${ke[0]}`))})}))]})}const Bb=(e,t,n)=>(a,i)=>{switch(i.type){case"changeMonth":return G({},a,{slideDirection:i.direction,currentMonth:i.newMonth,isMonthSwitchingAnimating:!e});case"finishMonthSwitchingAnimation":return G({},a,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(a.focusedDay!=null&&i.focusedDay!=null&&n.isSameDay(i.focusedDay,a.focusedDay))return a;const s=i.focusedDay!=null&&!t&&!n.isSameMonth(a.currentMonth,i.focusedDay);return G({},a,{focusedDay:i.focusedDay,isMonthSwitchingAnimating:s&&!e&&!i.withoutMonthSwitchingAnimation,currentMonth:s?n.startOfMonth(i.focusedDay):a.currentMonth,slideDirection:i.focusedDay!=null&&n.isAfterDay(i.focusedDay,a.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},Ub=e=>{const{value:t,referenceDate:n,defaultCalendarMonth:a,disableFuture:i,disablePast:s,disableSwitchToMonthOnDayFocus:o=!1,maxDate:l,minDate:c,onMonthChange:d,reduceAnimations:u,shouldDisableDate:h,timezone:p}=e,y=mt(),b=x.useRef(Bb(!!u,o,y)).current,m=x.useMemo(()=>{let g=null;return n?g=n:a&&(g=y.startOfMonth(a)),fr.getInitialReferenceValue({value:t,utils:y,timezone:p,props:e,referenceDate:g,granularity:Bn.day})},[]),[f,j]=x.useReducer(b,{isMonthSwitchingAnimating:!1,focusedDay:m,currentMonth:y.startOfMonth(m),slideDirection:"left"}),$=x.useCallback(g=>{j(G({type:"changeMonth"},g)),d&&d(g.newMonth)},[d]),S=x.useCallback(g=>{const D=g;y.isSameMonth(D,f.currentMonth)||$({newMonth:y.startOfMonth(D),direction:y.isAfterDay(D,f.currentMonth)?"left":"right"})},[f.currentMonth,$,y]),T=Cm({shouldDisableDate:h,minDate:c,maxDate:l,disableFuture:i,disablePast:s,timezone:p}),A=x.useCallback(()=>{j({type:"finishMonthSwitchingAnimation"})},[]),M=Me((g,D)=>{T(g)||j({type:"changeFocusedDay",focusedDay:g,withoutMonthSwitchingAnimation:D})});return{referenceDate:m,calendarState:f,changeMonth:S,changeFocusedDay:M,isDateDisabled:T,onMonthSwitchingAnimationEnd:A,handleChangeMonth:$}},qb=["ownerState"],Hb=({clearable:e,fieldProps:t,InputProps:n,onClear:a,slots:i,slotProps:s,components:o,componentsProps:l})=>{var c,d,u,h,p,y;const b=qr(),m=(c=(d=i==null?void 0:i.clearButton)!=null?d:o==null?void 0:o.ClearButton)!=null?c:Ae,f=zt({elementType:m,externalSlotProps:(u=s==null?void 0:s.clearButton)!=null?u:l==null?void 0:l.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:b.fieldClearLabel}}),j=qe(f,qb),$=(h=(p=i==null?void 0:i.clearIcon)!=null?p:o==null?void 0:o.ClearIcon)!=null?h:Fy,S=zt({elementType:$,externalSlotProps:(y=s==null?void 0:s.clearIcon)!=null?y:l==null?void 0:l.clearIcon,ownerState:{}}),T=G({},n,{endAdornment:r.jsxs(x.Fragment,{children:[e&&r.jsx($e,{position:"end",sx:{marginRight:n!=null&&n.endAdornment?-1:-1.5},children:r.jsx(m,G({},j,{onClick:a,children:r.jsx($,G({fontSize:"small"},S))}))}),n==null?void 0:n.endAdornment]})}),A=G({},t,{sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(t.sx)?t.sx:[t.sx]]});return{InputProps:T,fieldProps:A}},Yb=["components","componentsProps","slots","slotProps","InputProps","inputProps"],Gb=["inputRef"],Qb=["ref","onPaste","onKeyDown","inputMode","readOnly","clearable","onClear"],Sm=x.forwardRef(function(t,n){var a,i,s;const o=ft({props:t,name:"MuiDateField"}),{components:l,componentsProps:c,slots:d,slotProps:u,InputProps:h,inputProps:p}=o,y=qe(o,Yb),b=o,m=(a=(i=d==null?void 0:d.textField)!=null?i:l==null?void 0:l.TextField)!=null?a:fe,f=zt({elementType:m,externalSlotProps:(s=u==null?void 0:u.textField)!=null?s:c==null?void 0:c.textField,externalForwardedProps:y,ownerState:b}),{inputRef:j}=f,$=qe(f,Gb);$.inputProps=G({},p,$.inputProps),$.InputProps=G({},h,$.InputProps);const S=F1({props:$,inputRef:j}),{ref:T,onPaste:A,onKeyDown:M,inputMode:g,readOnly:D,clearable:P,onClear:C}=S,k=qe(S,Qb),{InputProps:R,fieldProps:O}=Hb({onClear:C,clearable:P,fieldProps:k,InputProps:k.InputProps,slots:d,slotProps:u,components:l,componentsProps:c});return r.jsx(m,G({ref:n},O,{InputProps:G({},R,{readOnly:D}),inputProps:G({},k.inputProps,{inputMode:g,onPaste:A,onKeyDown:M,ref:T})}))}),Kb=e=>Et("MuiPickersFadeTransitionGroup",e);At("MuiPickersFadeTransitionGroup",["root"]);const Zb=e=>{const{classes:t}=e;return Ct({root:["root"]},Kb,t)},Xb=Oe(jf,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"});function Dm(e){const t=ft({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:a,reduceAnimations:i,transKey:s}=t,o=Zb(t),l=Ve();return i?n:r.jsx(Xb,{className:vt(o.root,a),children:r.jsx(bn,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:l.transitions.duration.enteringScreen,enter:l.transitions.duration.enteringScreen,exit:0},children:n},s)})}function Jb(e){return Et("MuiPickersMonth",e)}const xs=At("MuiPickersMonth",["root","monthButton","disabled","selected"]),e2=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],t2=e=>{const{disabled:t,selected:n,classes:a}=e;return Ct({root:["root"],monthButton:["monthButton",t&&"disabled",n&&"selected"]},Jb,a)},n2=Oe("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.monthsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),r2=Oe("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,t)=>[t.monthButton,{[`&.${xs.disabled}`]:t.disabled},{[`&.${xs.selected}`]:t.selected}]})(({theme:e})=>G({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:F(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:F(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${xs.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${xs.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),a2=x.memo(function(t){const n=ft({props:t,name:"MuiPickersMonth"}),{autoFocus:a,children:i,disabled:s,selected:o,value:l,tabIndex:c,onClick:d,onKeyDown:u,onFocus:h,onBlur:p,"aria-current":y,"aria-label":b}=n,m=qe(n,e2),f=x.useRef(null),j=t2(n);return Ja(()=>{if(a){var $;($=f.current)==null||$.focus()}},[a]),r.jsx(n2,G({className:j.root,ownerState:n},m,{children:r.jsx(r2,{ref:f,disabled:s,type:"button",role:"radio",tabIndex:s?-1:c,"aria-current":y,"aria-checked":o,"aria-label":b,onClick:$=>d($,l),onKeyDown:$=>u($,l),onFocus:$=>h($,l),onBlur:$=>p($,l),className:j.monthButton,ownerState:n,children:i})}))});function i2(e){return Et("MuiMonthCalendar",e)}At("MuiMonthCalendar",["root"]);const s2=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],o2=e=>{const{classes:t}=e;return Ct({root:["root"]},i2,t)};function l2(e,t){const n=mt(),a=os(),i=ft({props:e,name:t});return G({disableFuture:!1,disablePast:!1},i,{minDate:jn(n,i.minDate,a.minDate),maxDate:jn(n,i.maxDate,a.maxDate)})}const c2=Oe("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:qo,boxSizing:"border-box"}),d2=x.forwardRef(function(t,n){const a=l2(t,"MuiMonthCalendar"),{className:i,value:s,defaultValue:o,referenceDate:l,disabled:c,disableFuture:d,disablePast:u,maxDate:h,minDate:p,onChange:y,shouldDisableMonth:b,readOnly:m,disableHighlightToday:f,autoFocus:j=!1,onMonthFocus:$,hasFocus:S,onFocusedViewChange:T,monthsPerRow:A=3,timezone:M,gridLabelId:g}=a,D=qe(a,s2),{value:P,handleValueChange:C,timezone:k}=Cd({name:"MonthCalendar",timezone:M,value:s,defaultValue:o,onChange:y,valueManager:fr}),R=Bo(k),O=wf(),E=mt(),I=x.useMemo(()=>fr.getInitialReferenceValue({value:P,utils:E,props:a,timezone:k,referenceDate:l,granularity:Bn.month}),[]),V=a,U=o2(V),_=x.useMemo(()=>E.getMonth(R),[E,R]),z=x.useMemo(()=>P!=null?E.getMonth(P):f?null:E.getMonth(I),[P,E,f,I]),[B,Q]=x.useState(()=>z||_),[se,X]=Ir({name:"MonthCalendar",state:"hasFocus",controlled:S,default:j??!1}),J=Me(he=>{X(he),T&&T(he)}),ie=x.useCallback(he=>{const xe=E.startOfMonth(u&&E.isAfter(R,p)?R:p),oe=E.startOfMonth(d&&E.isBefore(R,h)?R:h),Te=E.startOfMonth(he);return E.isBefore(Te,xe)||E.isAfter(Te,oe)?!0:b?b(Te):!1},[d,u,h,p,R,b,E]),me=Me((he,xe)=>{if(m)return;const oe=E.setMonth(P??I,xe);C(oe)}),te=Me(he=>{ie(E.setMonth(P??I,he))||(Q(he),J(!0),$&&$(he))});x.useEffect(()=>{Q(he=>z!==null&&he!==z?z:he)},[z]);const pe=Me((he,xe)=>{switch(he.key){case"ArrowUp":te((12+xe-3)%12),he.preventDefault();break;case"ArrowDown":te((12+xe+3)%12),he.preventDefault();break;case"ArrowLeft":te((12+xe+(O.direction==="ltr"?-1:1))%12),he.preventDefault();break;case"ArrowRight":te((12+xe+(O.direction==="ltr"?1:-1))%12),he.preventDefault();break}}),ve=Me((he,xe)=>{te(xe)}),ge=Me((he,xe)=>{B===xe&&J(!1)});return r.jsx(c2,G({ref:n,className:vt(U.root,i),ownerState:V,role:"radiogroup","aria-labelledby":g},D,{children:bd(E,P??I).map(he=>{const xe=E.getMonth(he),oe=E.format(he,"monthShort"),Te=E.format(he,"month"),He=xe===z,Ue=c||ie(he);return r.jsx(a2,{selected:He,value:xe,onClick:me,onKeyDown:pe,autoFocus:se&&xe===B,disabled:Ue,tabIndex:xe===B?0:-1,onFocus:ve,onBlur:ge,"aria-current":_===xe?"date":void 0,"aria-label":Te,monthsPerRow:A,children:oe},oe)})}))});function u2(e){return Et("MuiPickersYear",e)}const gs=At("MuiPickersYear",["root","yearButton","selected","disabled"]),h2=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],p2=e=>{const{disabled:t,selected:n,classes:a}=e;return Ct({root:["root"],yearButton:["yearButton",t&&"disabled",n&&"selected"]},u2,a)},f2=Oe("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.yearsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),m2=Oe("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,t)=>[t.yearButton,{[`&.${gs.disabled}`]:t.disabled},{[`&.${gs.selected}`]:t.selected}]})(({theme:e})=>G({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:F(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:F(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${gs.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${gs.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),x2=x.memo(function(t){const n=ft({props:t,name:"MuiPickersYear"}),{autoFocus:a,className:i,children:s,disabled:o,selected:l,value:c,tabIndex:d,onClick:u,onKeyDown:h,onFocus:p,onBlur:y,"aria-current":b}=n,m=qe(n,h2),f=x.useRef(null),j=p2(n);return x.useEffect(()=>{a&&f.current.focus()},[a]),r.jsx(f2,G({className:vt(j.root,i),ownerState:n},m,{children:r.jsx(m2,{ref:f,disabled:o,type:"button",role:"radio",tabIndex:o?-1:d,"aria-current":b,"aria-checked":l,onClick:$=>u($,c),onKeyDown:$=>h($,c),onFocus:$=>p($,c),onBlur:$=>y($,c),className:j.yearButton,ownerState:n,children:s})}))});function g2(e){return Et("MuiYearCalendar",e)}At("MuiYearCalendar",["root"]);const v2=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],y2=e=>{const{classes:t}=e;return Ct({root:["root"]},g2,t)};function b2(e,t){var n;const a=mt(),i=os(),s=ft({props:e,name:t});return G({disablePast:!1,disableFuture:!1},s,{yearsPerRow:(n=s.yearsPerRow)!=null?n:3,minDate:jn(a,s.minDate,i.minDate),maxDate:jn(a,s.maxDate,i.maxDate)})}const j2=Oe("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:qo,maxHeight:Xy,boxSizing:"border-box",position:"relative"}),w2=x.forwardRef(function(t,n){const a=b2(t,"MuiYearCalendar"),{autoFocus:i,className:s,value:o,defaultValue:l,referenceDate:c,disabled:d,disableFuture:u,disablePast:h,maxDate:p,minDate:y,onChange:b,readOnly:m,shouldDisableYear:f,disableHighlightToday:j,onYearFocus:$,hasFocus:S,onFocusedViewChange:T,yearsPerRow:A,timezone:M,gridLabelId:g}=a,D=qe(a,v2),{value:P,handleValueChange:C,timezone:k}=Cd({name:"YearCalendar",timezone:M,value:o,defaultValue:l,onChange:b,valueManager:fr}),R=Bo(k),O=wf(),E=mt(),I=x.useMemo(()=>fr.getInitialReferenceValue({value:P,utils:E,props:a,timezone:k,referenceDate:c,granularity:Bn.year}),[]),V=a,U=y2(V),_=x.useMemo(()=>E.getYear(R),[E,R]),z=x.useMemo(()=>P!=null?E.getYear(P):j?null:E.getYear(I),[P,E,j,I]),[B,Q]=x.useState(()=>z||_),[se,X]=Ir({name:"YearCalendar",state:"hasFocus",controlled:S,default:i??!1}),J=Me(oe=>{X(oe),T&&T(oe)}),ie=x.useCallback(oe=>{if(h&&E.isBeforeYear(oe,R)||u&&E.isAfterYear(oe,R)||y&&E.isBeforeYear(oe,y)||p&&E.isAfterYear(oe,p))return!0;if(!f)return!1;const Te=E.startOfYear(oe);return f(Te)},[u,h,p,y,R,f,E]),me=Me((oe,Te)=>{if(m)return;const He=E.setYear(P??I,Te);C(He)}),te=Me(oe=>{ie(E.setYear(P??I,oe))||(Q(oe),J(!0),$==null||$(oe))});x.useEffect(()=>{Q(oe=>z!==null&&oe!==z?z:oe)},[z]);const pe=Me((oe,Te)=>{switch(oe.key){case"ArrowUp":te(Te-A),oe.preventDefault();break;case"ArrowDown":te(Te+A),oe.preventDefault();break;case"ArrowLeft":te(Te+(O.direction==="ltr"?-1:1)),oe.preventDefault();break;case"ArrowRight":te(Te+(O.direction==="ltr"?1:-1)),oe.preventDefault();break}}),ve=Me((oe,Te)=>{te(Te)}),ge=Me((oe,Te)=>{B===Te&&J(!1)}),he=x.useRef(null),xe=ga(n,he);return x.useEffect(()=>{if(i||he.current===null)return;const oe=he.current.querySelector('[tabindex="0"]');if(!oe)return;const Te=oe.offsetHeight,He=oe.offsetTop,Ue=he.current.clientHeight,ut=he.current.scrollTop,ke=He+Te;Te>Ue||He<ut||(he.current.scrollTop=ke-Ue/2-Te/2)},[i]),r.jsx(j2,G({ref:xe,className:vt(U.root,s),ownerState:V,role:"radiogroup","aria-labelledby":g},D,{children:E.getYearRange(y,p).map(oe=>{const Te=E.getYear(oe),He=Te===z,Ue=d||ie(oe);return r.jsx(x2,{selected:He,value:Te,onClick:me,onKeyDown:pe,autoFocus:se&&Te===B,disabled:Ue,tabIndex:Te===B?0:-1,onFocus:ve,onBlur:ge,"aria-current":_===Te?"date":void 0,yearsPerRow:A,children:E.format(oe,"year")},E.format(oe,"year"))})}))}),C2=e=>Et("MuiPickersCalendarHeader",e),$2=At("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),S2=["slots","slotProps","components","componentsProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone"],D2=["ownerState"],T2=e=>{const{classes:t}=e;return Ct({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},C2,t)},k2=Oe("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),P2=Oe("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>G({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),E2=Oe("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),A2=Oe(Ae,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})(({ownerState:e})=>G({marginRight:"auto"},e.view==="year"&&{[`.${$2.switchViewIcon}`]:{transform:"rotate(180deg)"}})),I2=Oe(My,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),M2=x.forwardRef(function(t,n){var a,i,s,o;const l=qr(),c=mt(),d=ft({props:t,name:"MuiPickersCalendarHeader"}),{slots:u,slotProps:h,components:p,currentMonth:y,disabled:b,disableFuture:m,disablePast:f,maxDate:j,minDate:$,onMonthChange:S,onViewChange:T,view:A,reduceAnimations:M,views:g,labelId:D,className:P,timezone:C}=d,k=qe(d,S2),R=d,O=T2(d),E=(a=(i=u==null?void 0:u.switchViewButton)!=null?i:p==null?void 0:p.SwitchViewButton)!=null?a:A2,I=zt({elementType:E,externalSlotProps:h==null?void 0:h.switchViewButton,additionalProps:{size:"small","aria-label":l.calendarViewSwitchingButtonAriaLabel(A)},ownerState:R,className:O.switchViewButton}),V=(s=(o=u==null?void 0:u.switchViewIcon)!=null?o:p==null?void 0:p.SwitchViewIcon)!=null?s:I2,U=zt({elementType:V,externalSlotProps:h==null?void 0:h.switchViewIcon,ownerState:void 0,className:O.switchViewIcon}),_=qe(U,D2),z=()=>S(c.addMonths(y,1),"left"),B=()=>S(c.addMonths(y,-1),"right"),Q=Ky(y,{disableFuture:m,maxDate:j,timezone:C}),se=Zy(y,{disablePast:f,minDate:$,timezone:C}),X=()=>{if(!(g.length===1||!T||b))if(g.length===2)T(g.find(J=>J!==A)||g[0]);else{const J=g.indexOf(A)!==0?0:1;T(g[J])}};return g.length===1&&g[0]==="year"?null:r.jsxs(k2,G({},k,{ownerState:R,className:vt(P,O.root),ref:n,children:[r.jsxs(P2,{role:"presentation",onClick:X,ownerState:R,"aria-live":"polite",className:O.labelContainer,children:[r.jsx(Dm,{reduceAnimations:M,transKey:c.format(y,"monthAndYear"),children:r.jsx(E2,{id:D,ownerState:R,className:O.label,children:c.format(y,"monthAndYear")})}),g.length>1&&!b&&r.jsx(E,G({},I,{children:r.jsx(V,G({},_))}))]}),r.jsx(bn,{in:A==="day",children:r.jsx(qy,{slots:u,slotProps:h,onGoToPrevious:B,isPreviousDisabled:se,previousLabel:l.previousMonth,onGoToNext:z,isNextDisabled:Q,nextLabel:l.nextMonth})})]}))}),O2=e=>Et("MuiDateCalendar",e);At("MuiDateCalendar",["root","viewTransitionContainer"]);const R2=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],N2=e=>{const{classes:t}=e;return Ct({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},O2,t)};function F2(e,t){var n,a,i,s,o,l,c;const d=mt(),u=os(),h=gm(),p=ft({props:e,name:t});return G({},p,{loading:(n=p.loading)!=null?n:!1,disablePast:(a=p.disablePast)!=null?a:!1,disableFuture:(i=p.disableFuture)!=null?i:!1,openTo:(s=p.openTo)!=null?s:"day",views:(o=p.views)!=null?o:["year","day"],reduceAnimations:(l=p.reduceAnimations)!=null?l:h,renderLoading:(c=p.renderLoading)!=null?c:()=>r.jsx("span",{children:"..."}),minDate:jn(d,p.minDate,u.minDate),maxDate:jn(d,p.maxDate,u.maxDate)})}const L2=Oe(Jy,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",height:yd}),V2=Oe(Dm,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,t)=>t.viewTransitionContainer})({}),z2=x.forwardRef(function(t,n){var a,i,s;const o=mt(),l=Zc(),c=F2(t,"MuiDateCalendar"),{autoFocus:d,onViewChange:u,value:h,defaultValue:p,referenceDate:y,disableFuture:b,disablePast:m,defaultCalendarMonth:f,onChange:j,onYearChange:$,onMonthChange:S,reduceAnimations:T,shouldDisableDate:A,shouldDisableMonth:M,shouldDisableYear:g,view:D,views:P,openTo:C,className:k,disabled:R,readOnly:O,minDate:E,maxDate:I,disableHighlightToday:V,focusedView:U,onFocusedViewChange:_,showDaysOutsideCurrentMonth:z,fixedWeekNumber:B,dayOfWeekFormatter:Q,components:se,componentsProps:X,slots:J,slotProps:ie,loading:me,renderLoading:te,displayWeekNumber:pe,yearsPerRow:ve,monthsPerRow:ge,timezone:he}=c,xe=qe(c,R2),{value:oe,handleValueChange:Te,timezone:He}=Cd({name:"DateCalendar",timezone:he,value:h,defaultValue:p,onChange:j,valueManager:fr}),{view:Ue,setView:ut,focusedView:ke,setFocusedView:Pe,goToNextView:L,setValueAndGoToNextView:W}=nm({view:D,views:P,openTo:C,onChange:Te,onViewChange:u,autoFocus:d,focusedView:U,onFocusedViewChange:_}),{referenceDate:H,calendarState:ce,changeFocusedDay:Y,changeMonth:K,handleChangeMonth:ae,isDateDisabled:Ce,onMonthSwitchingAnimationEnd:Ne}=Ub({value:oe,defaultCalendarMonth:f,referenceDate:y,reduceAnimations:T,onMonthChange:S,minDate:E,maxDate:I,shouldDisableDate:A,disablePast:m,disableFuture:b,timezone:He}),xt=R&&oe||E,Vt=R&&oe||I,Xt=`${l}-grid-label`,Dn=ke!==null,Wt=(a=(i=J==null?void 0:J.calendarHeader)!=null?i:se==null?void 0:se.CalendarHeader)!=null?a:M2,Rn=zt({elementType:Wt,externalSlotProps:(s=ie==null?void 0:ie.calendarHeader)!=null?s:X==null?void 0:X.calendarHeader,additionalProps:{views:P,view:Ue,currentMonth:ce.currentMonth,onViewChange:ut,onMonthChange:(bt,Fn)=>ae({newMonth:bt,direction:Fn}),minDate:xt,maxDate:Vt,disabled:R,disablePast:m,disableFuture:b,reduceAnimations:T,timezone:He,labelId:Xt,slots:J,slotProps:ie},ownerState:c}),Yr=Me(bt=>{const Fn=o.startOfMonth(bt),bi=o.endOfMonth(bt),wr=Ce(bt)?_i({utils:o,date:bt,minDate:o.isBefore(E,Fn)?Fn:E,maxDate:o.isAfter(I,bi)?bi:I,disablePast:m,disableFuture:b,isDateDisabled:Ce,timezone:He}):bt;wr?(W(wr,"finish"),S==null||S(Fn)):(L(),K(Fn)),Y(wr,!0)}),jr=Me(bt=>{const Fn=o.startOfYear(bt),bi=o.endOfYear(bt),wr=Ce(bt)?_i({utils:o,date:bt,minDate:o.isBefore(E,Fn)?Fn:E,maxDate:o.isAfter(I,bi)?bi:I,disablePast:m,disableFuture:b,isDateDisabled:Ce,timezone:He}):bt;wr?(W(wr,"finish"),$==null||$(wr)):(L(),K(Fn)),Y(wr,!0)}),Gr=Me(bt=>Te(bt&&so(o,bt,oe??H),"finish",Ue));x.useEffect(()=>{oe!=null&&o.isValid(oe)&&K(oe)},[oe]);const Nn=c,fs=N2(Nn),vl={disablePast:m,disableFuture:b,maxDate:I,minDate:E},yl={disableHighlightToday:V,readOnly:O,disabled:R,timezone:He,gridLabelId:Xt},bl=x.useRef(Ue);x.useEffect(()=>{bl.current!==Ue&&(ke===bl.current&&Pe(Ue,!0),bl.current=Ue)},[ke,Pe,Ue]);const og=x.useMemo(()=>[oe],[oe]);return r.jsxs(L2,G({ref:n,className:vt(fs.root,k),ownerState:Nn},xe,{children:[r.jsx(Wt,G({},Rn)),r.jsx(V2,{reduceAnimations:T,className:fs.viewTransitionContainer,transKey:Ue,ownerState:Nn,children:r.jsxs("div",{children:[Ue==="year"&&r.jsx(w2,G({},vl,yl,{value:oe,onChange:jr,shouldDisableYear:g,hasFocus:Dn,onFocusedViewChange:bt=>Pe("year",bt),yearsPerRow:ve,referenceDate:H})),Ue==="month"&&r.jsx(d2,G({},vl,yl,{hasFocus:Dn,className:k,value:oe,onChange:Yr,shouldDisableMonth:M,onFocusedViewChange:bt=>Pe("month",bt),monthsPerRow:ge,referenceDate:H})),Ue==="day"&&r.jsx(Wb,G({},ce,vl,yl,{onMonthSwitchingAnimationEnd:Ne,onFocusedDayChange:Y,reduceAnimations:T,selectedDays:og,onSelectedDaysChange:Gr,shouldDisableDate:A,shouldDisableMonth:M,shouldDisableYear:g,hasFocus:Dn,onFocusedViewChange:bt=>Pe("day",bt),showDaysOutsideCurrentMonth:z,fixedWeekNumber:B,dayOfWeekFormatter:Q,displayWeekNumber:pe,components:se,componentsProps:X,slots:J,slotProps:ie,loading:me,renderLoading:te}))]})})]}))});function _2(e){return Et("MuiDatePickerToolbar",e)}At("MuiDatePickerToolbar",["root","title"]);const W2=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className"],B2=e=>{const{classes:t}=e;return Ct({root:["root"],title:["title"]},_2,t)},U2=Oe(nb,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),q2=Oe(v,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(e,t)=>t.title})(({ownerState:e})=>G({},e.isLandscape&&{margin:"auto 16px auto auto"})),H2=x.forwardRef(function(t,n){const a=ft({props:t,name:"MuiDatePickerToolbar"}),{value:i,isLandscape:s,toolbarFormat:o,toolbarPlaceholder:l="––",views:c,className:d}=a,u=qe(a,W2),h=mt(),p=qr(),y=B2(a),b=x.useMemo(()=>{if(!i)return l;const f=jd(h,{format:o,views:c},!0);return h.formatByString(i,f)},[i,o,l,h,c]),m=a;return r.jsx(U2,G({ref:n,toolbarTitle:p.datePickerToolbarTitle,isLandscape:s,className:vt(y.root,d)},u,{children:r.jsx(q2,{variant:"h4",align:s?"left":"center",ownerState:m,className:y.title,children:b})}))});function Tm(e,t){var n,a,i,s;const o=mt(),l=os(),c=ft({props:e,name:t}),d=x.useMemo(()=>{var h;return((h=c.localeText)==null?void 0:h.toolbarTitle)==null?c.localeText:G({},c.localeText,{datePickerToolbarTitle:c.localeText.toolbarTitle})},[c.localeText]),u=(n=c.slots)!=null?n:um(c.components);return G({},c,{localeText:d},Hy({views:c.views,openTo:c.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:(a=c.disableFuture)!=null?a:!1,disablePast:(i=c.disablePast)!=null?i:!1,minDate:jn(o,c.minDate,l.minDate),maxDate:jn(o,c.maxDate,l.maxDate),slots:G({toolbar:H2},u),slotProps:(s=c.slotProps)!=null?s:c.componentsProps})}const Y2=["props","getOpenDialogAriaText"],G2=["ownerState"],Q2=["ownerState"],K2=e=>{var t,n,a,i,s;let{props:o,getOpenDialogAriaText:l}=e,c=qe(e,Y2);const{slots:d,slotProps:u,className:h,sx:p,format:y,formatDensity:b,timezone:m,name:f,label:j,inputRef:$,readOnly:S,disabled:T,autoFocus:A,localeText:M,reduceAnimations:g}=o,D=mt(),P=x.useRef(null),C=x.useRef(null),k=Zc(),R=(t=u==null||(n=u.toolbar)==null?void 0:n.hidden)!=null?t:!1,{open:O,actions:E,hasUIView:I,layoutProps:V,renderCurrentView:U,shouldRestoreFocus:_,fieldProps:z}=ym(G({},c,{props:o,inputRef:P,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),B=(a=d.inputAdornment)!=null?a:$e,Q=zt({elementType:B,externalSlotProps:u==null?void 0:u.inputAdornment,additionalProps:{position:"end"},ownerState:o}),se=qe(Q,G2),X=(i=d.openPickerButton)!=null?i:Ae,J=zt({elementType:X,externalSlotProps:u==null?void 0:u.openPickerButton,additionalProps:{disabled:T||S,onClick:O?E.onClose:E.onOpen,"aria-label":l(z.value,D),edge:se.position},ownerState:o}),ie=qe(J,Q2),me=d.openPickerIcon,te=d.field,pe=zt({elementType:te,externalSlotProps:u==null?void 0:u.field,additionalProps:G({},z,R&&{id:k},{readOnly:S,disabled:T,className:h,sx:p,format:y,formatDensity:b,timezone:m,label:j,name:f,autoFocus:A&&!o.open,focused:O?!0:void 0}),ownerState:o});I&&(pe.InputProps=G({},pe.InputProps,{ref:C},!o.disableOpenPicker&&{[`${se.position}Adornment`]:r.jsx(B,G({},se,{children:r.jsx(X,G({},ie,{children:r.jsx(me,G({},u==null?void 0:u.openPickerIcon))}))}))}));const ve=G({textField:d.textField,clearIcon:d.clearIcon,clearButton:d.clearButton},pe.slots),ge=(s=d.layout)!=null?s:wm,he=ga(P,pe.inputRef,$);let xe=k;R&&(j?xe=`${k}-label`:xe=void 0);const oe=G({},u,{toolbar:G({},u==null?void 0:u.toolbar,{titleId:k}),popper:G({"aria-labelledby":xe},u==null?void 0:u.popper)});return{renderPicker:()=>r.jsxs(Ur,{localeText:M,children:[r.jsx(te,G({},pe,{slots:ve,slotProps:oe,inputRef:he})),r.jsx(Z1,G({role:"dialog",placement:"bottom-start",anchorEl:C.current},E,{open:O,slots:d,slotProps:oe,shouldRestoreFocus:_,reduceAnimations:g,children:r.jsx(ge,G({},V,oe==null?void 0:oe.layout,{slots:d,slotProps:oe,children:U()}))}))]})}},Ka=({view:e,onViewChange:t,views:n,focusedView:a,onFocusedViewChange:i,value:s,defaultValue:o,referenceDate:l,onChange:c,className:d,classes:u,disableFuture:h,disablePast:p,minDate:y,maxDate:b,shouldDisableDate:m,shouldDisableMonth:f,shouldDisableYear:j,reduceAnimations:$,onMonthChange:S,monthsPerRow:T,onYearChange:A,yearsPerRow:M,defaultCalendarMonth:g,components:D,componentsProps:P,slots:C,slotProps:k,loading:R,renderLoading:O,disableHighlightToday:E,readOnly:I,disabled:V,showDaysOutsideCurrentMonth:U,dayOfWeekFormatter:_,sx:z,autoFocus:B,fixedWeekNumber:Q,displayWeekNumber:se,timezone:X})=>r.jsx(z2,{view:e,onViewChange:t,views:n.filter(Au),focusedView:a&&Au(a)?a:null,onFocusedViewChange:i,value:s,defaultValue:o,referenceDate:l,onChange:c,className:d,classes:u,disableFuture:h,disablePast:p,minDate:y,maxDate:b,shouldDisableDate:m,shouldDisableMonth:f,shouldDisableYear:j,reduceAnimations:$,onMonthChange:S,monthsPerRow:T,onYearChange:A,yearsPerRow:M,defaultCalendarMonth:g,components:D,componentsProps:P,slots:C,slotProps:k,loading:R,renderLoading:O,disableHighlightToday:E,readOnly:I,disabled:V,showDaysOutsideCurrentMonth:U,dayOfWeekFormatter:_,sx:z,autoFocus:B,fixedWeekNumber:Q,displayWeekNumber:se,timezone:X}),km=x.forwardRef(function(t,n){var a,i,s,o;const l=qr(),c=mt(),d=Tm(t,"MuiDesktopDatePicker"),u=G({day:Ka,month:Ka,year:Ka},d.viewRenderers),h=G({},d,{viewRenderers:u,format:jd(c,d,!1),yearsPerRow:(a=d.yearsPerRow)!=null?a:4,slots:G({openPickerIcon:Ny,field:Sm},d.slots),slotProps:G({},d.slotProps,{field:y=>{var b;return G({},vd((b=d.slotProps)==null?void 0:b.field,y),xm(d),{ref:n})},toolbar:G({hidden:!0},(i=d.slotProps)==null?void 0:i.toolbar)})}),{renderPicker:p}=K2({props:h,valueManager:fr,valueType:"date",getOpenDialogAriaText:(s=(o=h.localeText)==null?void 0:o.openDatePickerDialogue)!=null?s:l.openDatePickerDialogue,validator:Yo});return p()});km.propTypes={autoFocus:q.bool,className:q.string,closeOnSelect:q.bool,components:q.object,componentsProps:q.object,dayOfWeekFormatter:q.func,defaultCalendarMonth:q.any,defaultValue:q.any,disabled:q.bool,disableFuture:q.bool,disableHighlightToday:q.bool,disableOpenPicker:q.bool,disablePast:q.bool,displayWeekNumber:q.bool,fixedWeekNumber:q.number,format:q.string,formatDensity:q.oneOf(["dense","spacious"]),inputRef:Cf,label:q.node,loading:q.bool,localeText:q.object,maxDate:q.any,minDate:q.any,monthsPerRow:q.oneOf([3,4]),name:q.string,onAccept:q.func,onChange:q.func,onClose:q.func,onError:q.func,onMonthChange:q.func,onOpen:q.func,onSelectedSectionsChange:q.func,onViewChange:q.func,onYearChange:q.func,open:q.bool,openTo:q.oneOf(["day","month","year"]),orientation:q.oneOf(["landscape","portrait"]),readOnly:q.bool,reduceAnimations:q.bool,referenceDate:q.any,renderLoading:q.func,selectedSections:q.oneOfType([q.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),q.number,q.shape({endIndex:q.number.isRequired,startIndex:q.number.isRequired})]),shouldDisableDate:q.func,shouldDisableMonth:q.func,shouldDisableYear:q.func,showDaysOutsideCurrentMonth:q.bool,slotProps:q.object,slots:q.object,sx:q.oneOfType([q.arrayOf(q.oneOfType([q.func,q.object,q.bool])),q.func,q.object]),timezone:q.string,value:q.any,view:q.oneOf(["day","month","year"]),viewRenderers:q.shape({day:q.func,month:q.func,year:q.func}),views:q.arrayOf(q.oneOf(["day","month","year"]).isRequired),yearsPerRow:q.oneOf([3,4])};const Z2=["props","getOpenDialogAriaText"],X2=e=>{var t,n,a;let{props:i,getOpenDialogAriaText:s}=e,o=qe(e,Z2);const{slots:l,slotProps:c,className:d,sx:u,format:h,formatDensity:p,timezone:y,name:b,label:m,inputRef:f,readOnly:j,disabled:$,localeText:S}=i,T=mt(),A=x.useRef(null),M=Zc(),g=(t=c==null||(n=c.toolbar)==null?void 0:n.hidden)!=null?t:!1,{open:D,actions:P,layoutProps:C,renderCurrentView:k,fieldProps:R}=ym(G({},o,{props:i,inputRef:A,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),O=l.field,E=zt({elementType:O,externalSlotProps:c==null?void 0:c.field,additionalProps:G({},R,g&&{id:M},!($||j)&&{onClick:P.onOpen,onKeyDown:P1(P.onOpen)},{readOnly:j??!0,disabled:$,className:d,sx:u,format:h,formatDensity:p,timezone:y,label:m,name:b}),ownerState:i});E.inputProps=G({},E.inputProps,{"aria-label":s(R.value,T)});const I=G({textField:l.textField},E.slots),V=(a=l.layout)!=null?a:wm,U=ga(A,E.inputRef,f);let _=M;g&&(m?_=`${M}-label`:_=void 0);const z=G({},c,{toolbar:G({},c==null?void 0:c.toolbar,{titleId:M}),mobilePaper:G({"aria-labelledby":_},c==null?void 0:c.mobilePaper)});return{renderPicker:()=>r.jsxs(Ur,{localeText:S,children:[r.jsx(O,G({},E,{slots:I,slotProps:z,inputRef:U})),r.jsx(z1,G({},P,{open:D,slots:l,slotProps:z,children:r.jsx(V,G({},C,z==null?void 0:z.layout,{slots:l,slotProps:z,children:k()}))}))]})}},Pm=x.forwardRef(function(t,n){var a,i,s;const o=qr(),l=mt(),c=Tm(t,"MuiMobileDatePicker"),d=G({day:Ka,month:Ka,year:Ka},c.viewRenderers),u=G({},c,{viewRenderers:d,format:jd(l,c,!1),slots:G({field:Sm},c.slots),slotProps:G({},c.slotProps,{field:p=>{var y;return G({},vd((y=c.slotProps)==null?void 0:y.field,p),xm(c),{ref:n})},toolbar:G({hidden:!1},(a=c.slotProps)==null?void 0:a.toolbar)})}),{renderPicker:h}=X2({props:u,valueManager:fr,valueType:"date",getOpenDialogAriaText:(i=(s=u.localeText)==null?void 0:s.openDatePickerDialogue)!=null?i:o.openDatePickerDialogue,validator:Yo});return h()});Pm.propTypes={autoFocus:q.bool,className:q.string,closeOnSelect:q.bool,components:q.object,componentsProps:q.object,dayOfWeekFormatter:q.func,defaultCalendarMonth:q.any,defaultValue:q.any,disabled:q.bool,disableFuture:q.bool,disableHighlightToday:q.bool,disableOpenPicker:q.bool,disablePast:q.bool,displayWeekNumber:q.bool,fixedWeekNumber:q.number,format:q.string,formatDensity:q.oneOf(["dense","spacious"]),inputRef:Cf,label:q.node,loading:q.bool,localeText:q.object,maxDate:q.any,minDate:q.any,monthsPerRow:q.oneOf([3,4]),name:q.string,onAccept:q.func,onChange:q.func,onClose:q.func,onError:q.func,onMonthChange:q.func,onOpen:q.func,onSelectedSectionsChange:q.func,onViewChange:q.func,onYearChange:q.func,open:q.bool,openTo:q.oneOf(["day","month","year"]),orientation:q.oneOf(["landscape","portrait"]),readOnly:q.bool,reduceAnimations:q.bool,referenceDate:q.any,renderLoading:q.func,selectedSections:q.oneOfType([q.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),q.number,q.shape({endIndex:q.number.isRequired,startIndex:q.number.isRequired})]),shouldDisableDate:q.func,shouldDisableMonth:q.func,shouldDisableYear:q.func,showDaysOutsideCurrentMonth:q.bool,slotProps:q.object,slots:q.object,sx:q.oneOfType([q.arrayOf(q.oneOfType([q.func,q.object,q.bool])),q.func,q.object]),timezone:q.string,value:q.any,view:q.oneOf(["day","month","year"]),viewRenderers:q.shape({day:q.func,month:q.func,year:q.func}),views:q.arrayOf(q.oneOf(["day","month","year"]).isRequired),yearsPerRow:q.oneOf([3,4])};const J2=["desktopModeMediaQuery"],Rr=x.forwardRef(function(t,n){const a=ft({props:t,name:"MuiDatePicker"}),{desktopModeMediaQuery:i=E1}=a,s=qe(a,J2);return Ro(i,{defaultMatches:!0})?r.jsx(km,G({ref:n},s)):r.jsx(Pm,G({ref:n},s))});var Em={exports:{}};(function(e,t){(function(n,a){e.exports=a()})(ss,function(){var n=1e3,a=6e4,i=36e5,s="millisecond",o="second",l="minute",c="hour",d="day",u="week",h="month",p="quarter",y="year",b="date",m="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,j=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,$={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(E){var I=["th","st","nd","rd"],V=E%100;return"["+E+(I[(V-20)%10]||I[V]||I[0])+"]"}},S=function(E,I,V){var U=String(E);return!U||U.length>=I?E:""+Array(I+1-U.length).join(V)+E},T={s:S,z:function(E){var I=-E.utcOffset(),V=Math.abs(I),U=Math.floor(V/60),_=V%60;return(I<=0?"+":"-")+S(U,2,"0")+":"+S(_,2,"0")},m:function E(I,V){if(I.date()<V.date())return-E(V,I);var U=12*(V.year()-I.year())+(V.month()-I.month()),_=I.clone().add(U,h),z=V-_<0,B=I.clone().add(U+(z?-1:1),h);return+(-(U+(V-_)/(z?_-B:B-_))||0)},a:function(E){return E<0?Math.ceil(E)||0:Math.floor(E)},p:function(E){return{M:h,y,w:u,d,D:b,h:c,m:l,s:o,ms:s,Q:p}[E]||String(E||"").toLowerCase().replace(/s$/,"")},u:function(E){return E===void 0}},A="en",M={};M[A]=$;var g="$isDayjsObject",D=function(E){return E instanceof R||!(!E||!E[g])},P=function E(I,V,U){var _;if(!I)return A;if(typeof I=="string"){var z=I.toLowerCase();M[z]&&(_=z),V&&(M[z]=V,_=z);var B=I.split("-");if(!_&&B.length>1)return E(B[0])}else{var Q=I.name;M[Q]=I,_=Q}return!U&&_&&(A=_),_||!U&&A},C=function(E,I){if(D(E))return E.clone();var V=typeof I=="object"?I:{};return V.date=E,V.args=arguments,new R(V)},k=T;k.l=P,k.i=D,k.w=function(E,I){return C(E,{locale:I.$L,utc:I.$u,x:I.$x,$offset:I.$offset})};var R=function(){function E(V){this.$L=P(V.locale,null,!0),this.parse(V),this.$x=this.$x||V.x||{},this[g]=!0}var I=E.prototype;return I.parse=function(V){this.$d=function(U){var _=U.date,z=U.utc;if(_===null)return new Date(NaN);if(k.u(_))return new Date;if(_ instanceof Date)return new Date(_);if(typeof _=="string"&&!/Z$/i.test(_)){var B=_.match(f);if(B){var Q=B[2]-1||0,se=(B[7]||"0").substring(0,3);return z?new Date(Date.UTC(B[1],Q,B[3]||1,B[4]||0,B[5]||0,B[6]||0,se)):new Date(B[1],Q,B[3]||1,B[4]||0,B[5]||0,B[6]||0,se)}}return new Date(_)}(V),this.init()},I.init=function(){var V=this.$d;this.$y=V.getFullYear(),this.$M=V.getMonth(),this.$D=V.getDate(),this.$W=V.getDay(),this.$H=V.getHours(),this.$m=V.getMinutes(),this.$s=V.getSeconds(),this.$ms=V.getMilliseconds()},I.$utils=function(){return k},I.isValid=function(){return this.$d.toString()!==m},I.isSame=function(V,U){var _=C(V);return this.startOf(U)<=_&&_<=this.endOf(U)},I.isAfter=function(V,U){return C(V)<this.startOf(U)},I.isBefore=function(V,U){return this.endOf(U)<C(V)},I.$g=function(V,U,_){return k.u(V)?this[U]:this.set(_,V)},I.unix=function(){return Math.floor(this.valueOf()/1e3)},I.valueOf=function(){return this.$d.getTime()},I.startOf=function(V,U){var _=this,z=!!k.u(U)||U,B=k.p(V),Q=function(ve,ge){var he=k.w(_.$u?Date.UTC(_.$y,ge,ve):new Date(_.$y,ge,ve),_);return z?he:he.endOf(d)},se=function(ve,ge){return k.w(_.toDate()[ve].apply(_.toDate("s"),(z?[0,0,0,0]:[23,59,59,999]).slice(ge)),_)},X=this.$W,J=this.$M,ie=this.$D,me="set"+(this.$u?"UTC":"");switch(B){case y:return z?Q(1,0):Q(31,11);case h:return z?Q(1,J):Q(0,J+1);case u:var te=this.$locale().weekStart||0,pe=(X<te?X+7:X)-te;return Q(z?ie-pe:ie+(6-pe),J);case d:case b:return se(me+"Hours",0);case c:return se(me+"Minutes",1);case l:return se(me+"Seconds",2);case o:return se(me+"Milliseconds",3);default:return this.clone()}},I.endOf=function(V){return this.startOf(V,!1)},I.$set=function(V,U){var _,z=k.p(V),B="set"+(this.$u?"UTC":""),Q=(_={},_[d]=B+"Date",_[b]=B+"Date",_[h]=B+"Month",_[y]=B+"FullYear",_[c]=B+"Hours",_[l]=B+"Minutes",_[o]=B+"Seconds",_[s]=B+"Milliseconds",_)[z],se=z===d?this.$D+(U-this.$W):U;if(z===h||z===y){var X=this.clone().set(b,1);X.$d[Q](se),X.init(),this.$d=X.set(b,Math.min(this.$D,X.daysInMonth())).$d}else Q&&this.$d[Q](se);return this.init(),this},I.set=function(V,U){return this.clone().$set(V,U)},I.get=function(V){return this[k.p(V)]()},I.add=function(V,U){var _,z=this;V=Number(V);var B=k.p(U),Q=function(J){var ie=C(z);return k.w(ie.date(ie.date()+Math.round(J*V)),z)};if(B===h)return this.set(h,this.$M+V);if(B===y)return this.set(y,this.$y+V);if(B===d)return Q(1);if(B===u)return Q(7);var se=(_={},_[l]=a,_[c]=i,_[o]=n,_)[B]||1,X=this.$d.getTime()+V*se;return k.w(X,this)},I.subtract=function(V,U){return this.add(-1*V,U)},I.format=function(V){var U=this,_=this.$locale();if(!this.isValid())return _.invalidDate||m;var z=V||"YYYY-MM-DDTHH:mm:ssZ",B=k.z(this),Q=this.$H,se=this.$m,X=this.$M,J=_.weekdays,ie=_.months,me=_.meridiem,te=function(ge,he,xe,oe){return ge&&(ge[he]||ge(U,z))||xe[he].slice(0,oe)},pe=function(ge){return k.s(Q%12||12,ge,"0")},ve=me||function(ge,he,xe){var oe=ge<12?"AM":"PM";return xe?oe.toLowerCase():oe};return z.replace(j,function(ge,he){return he||function(xe){switch(xe){case"YY":return String(U.$y).slice(-2);case"YYYY":return k.s(U.$y,4,"0");case"M":return X+1;case"MM":return k.s(X+1,2,"0");case"MMM":return te(_.monthsShort,X,ie,3);case"MMMM":return te(ie,X);case"D":return U.$D;case"DD":return k.s(U.$D,2,"0");case"d":return String(U.$W);case"dd":return te(_.weekdaysMin,U.$W,J,2);case"ddd":return te(_.weekdaysShort,U.$W,J,3);case"dddd":return J[U.$W];case"H":return String(Q);case"HH":return k.s(Q,2,"0");case"h":return pe(1);case"hh":return pe(2);case"a":return ve(Q,se,!0);case"A":return ve(Q,se,!1);case"m":return String(se);case"mm":return k.s(se,2,"0");case"s":return String(U.$s);case"ss":return k.s(U.$s,2,"0");case"SSS":return k.s(U.$ms,3,"0");case"Z":return B}return null}(ge)||B.replace(":","")})},I.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},I.diff=function(V,U,_){var z,B=this,Q=k.p(U),se=C(V),X=(se.utcOffset()-this.utcOffset())*a,J=this-se,ie=function(){return k.m(B,se)};switch(Q){case y:z=ie()/12;break;case h:z=ie();break;case p:z=ie()/3;break;case u:z=(J-X)/6048e5;break;case d:z=(J-X)/864e5;break;case c:z=J/i;break;case l:z=J/a;break;case o:z=J/n;break;default:z=J}return _?z:k.a(z)},I.daysInMonth=function(){return this.endOf(h).$D},I.$locale=function(){return M[this.$L]},I.locale=function(V,U){if(!V)return this.$L;var _=this.clone(),z=P(V,U,!0);return z&&(_.$L=z),_},I.clone=function(){return k.w(this.$d,this)},I.toDate=function(){return new Date(this.valueOf())},I.toJSON=function(){return this.isValid()?this.toISOString():null},I.toISOString=function(){return this.$d.toISOString()},I.toString=function(){return this.$d.toUTCString()},E}(),O=R.prototype;return C.prototype=O,[["$ms",s],["$s",o],["$m",l],["$H",c],["$W",d],["$M",h],["$y",y],["$D",b]].forEach(function(E){O[E[1]]=function(I){return this.$g(I,E[0],E[1])}}),C.extend=function(E,I){return E.$i||(E(I,R,C),E.$i=!0),C},C.locale=P,C.isDayjs=D,C.unix=function(E){return C(1e3*E)},C.en=M[A],C.Ls=M,C.p={},C})})(Em);var ej=Em.exports;const ze=Da(ej);var Am={exports:{}};(function(e,t){(function(n,a){e.exports=a()})(ss,function(){var n="week",a="year";return function(i,s,o){var l=s.prototype;l.week=function(c){if(c===void 0&&(c=null),c!==null)return this.add(7*(c-this.week()),"day");var d=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=o(this).startOf(a).add(1,a).date(d),h=o(this).endOf(n);if(u.isBefore(h))return 1}var p=o(this).startOf(a).date(d).startOf(n).subtract(1,"millisecond"),y=this.diff(p,n,!0);return y<0?o(this).startOf("week").week():Math.ceil(y)},l.weeks=function(c){return c===void 0&&(c=null),this.week(c)}}})})(Am);var tj=Am.exports;const nj=Da(tj);var Im={exports:{}};(function(e,t){(function(n,a){e.exports=a()})(ss,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,s=/\d\d/,o=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,c={},d=function(f){return(f=+f)+(f>68?1900:2e3)},u=function(f){return function(j){this[f]=+j}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(f){(this.zone||(this.zone={})).offset=function(j){if(!j||j==="Z")return 0;var $=j.match(/([+-]|\d\d)/g),S=60*$[1]+(+$[2]||0);return S===0?0:$[0]==="+"?-S:S}(f)}],p=function(f){var j=c[f];return j&&(j.indexOf?j:j.s.concat(j.f))},y=function(f,j){var $,S=c.meridiem;if(S){for(var T=1;T<=24;T+=1)if(f.indexOf(S(T,0,j))>-1){$=T>12;break}}else $=f===(j?"pm":"PM");return $},b={A:[l,function(f){this.afternoon=y(f,!1)}],a:[l,function(f){this.afternoon=y(f,!0)}],Q:[i,function(f){this.month=3*(f-1)+1}],S:[i,function(f){this.milliseconds=100*+f}],SS:[s,function(f){this.milliseconds=10*+f}],SSS:[/\d{3}/,function(f){this.milliseconds=+f}],s:[o,u("seconds")],ss:[o,u("seconds")],m:[o,u("minutes")],mm:[o,u("minutes")],H:[o,u("hours")],h:[o,u("hours")],HH:[o,u("hours")],hh:[o,u("hours")],D:[o,u("day")],DD:[s,u("day")],Do:[l,function(f){var j=c.ordinal,$=f.match(/\d+/);if(this.day=$[0],j)for(var S=1;S<=31;S+=1)j(S).replace(/\[|\]/g,"")===f&&(this.day=S)}],w:[o,u("week")],ww:[s,u("week")],M:[o,u("month")],MM:[s,u("month")],MMM:[l,function(f){var j=p("months"),$=(p("monthsShort")||j.map(function(S){return S.slice(0,3)})).indexOf(f)+1;if($<1)throw new Error;this.month=$%12||$}],MMMM:[l,function(f){var j=p("months").indexOf(f)+1;if(j<1)throw new Error;this.month=j%12||j}],Y:[/[+-]?\d+/,u("year")],YY:[s,function(f){this.year=d(f)}],YYYY:[/\d{4}/,u("year")],Z:h,ZZ:h};function m(f){var j,$;j=f,$=c&&c.formats;for(var S=(f=j.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(C,k,R){var O=R&&R.toUpperCase();return k||$[R]||n[R]||$[O].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(E,I,V){return I||V.slice(1)})})).match(a),T=S.length,A=0;A<T;A+=1){var M=S[A],g=b[M],D=g&&g[0],P=g&&g[1];S[A]=P?{regex:D,parser:P}:M.replace(/^\[|\]$/g,"")}return function(C){for(var k={},R=0,O=0;R<T;R+=1){var E=S[R];if(typeof E=="string")O+=E.length;else{var I=E.regex,V=E.parser,U=C.slice(O),_=I.exec(U)[0];V.call(k,_),C=C.replace(_,"")}}return function(z){var B=z.afternoon;if(B!==void 0){var Q=z.hours;B?Q<12&&(z.hours+=12):Q===12&&(z.hours=0),delete z.afternoon}}(k),k}}return function(f,j,$){$.p.customParseFormat=!0,f&&f.parseTwoDigitYear&&(d=f.parseTwoDigitYear);var S=j.prototype,T=S.parse;S.parse=function(A){var M=A.date,g=A.utc,D=A.args;this.$u=g;var P=D[1];if(typeof P=="string"){var C=D[2]===!0,k=D[3]===!0,R=C||k,O=D[2];k&&(O=D[2]),c=this.$locale(),!C&&O&&(c=$.Ls[O]),this.$d=function(U,_,z,B){try{if(["x","X"].indexOf(_)>-1)return new Date((_==="X"?1e3:1)*U);var Q=m(_)(U),se=Q.year,X=Q.month,J=Q.day,ie=Q.hours,me=Q.minutes,te=Q.seconds,pe=Q.milliseconds,ve=Q.zone,ge=Q.week,he=new Date,xe=J||(se||X?1:he.getDate()),oe=se||he.getFullYear(),Te=0;se&&!X||(Te=X>0?X-1:he.getMonth());var He,Ue=ie||0,ut=me||0,ke=te||0,Pe=pe||0;return ve?new Date(Date.UTC(oe,Te,xe,Ue,ut,ke,Pe+60*ve.offset*1e3)):z?new Date(Date.UTC(oe,Te,xe,Ue,ut,ke,Pe)):(He=new Date(oe,Te,xe,Ue,ut,ke,Pe),ge&&(He=B(He).week(ge).toDate()),He)}catch{return new Date("")}}(M,P,g,$),this.init(),O&&O!==!0&&(this.$L=this.locale(O).$L),R&&M!=this.format(P)&&(this.$d=new Date("")),c={}}else if(P instanceof Array)for(var E=P.length,I=1;I<=E;I+=1){D[1]=P[I-1];var V=$.apply(this,D);if(V.isValid()){this.$d=V.$d,this.$L=V.$L,this.init();break}I===E&&(this.$d=new Date(""))}else T.call(this,A)}}})})(Im);var rj=Im.exports;const aj=Da(rj);var Mm={exports:{}};(function(e,t){(function(n,a){e.exports=a()})(ss,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(a,i,s){var o=i.prototype,l=o.format;s.en.formats=n,o.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var d=this.$locale().formats,u=function(h,p){return h.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(y,b,m){var f=m&&m.toUpperCase();return b||p[m]||n[m]||p[f].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(j,$,S){return $||S.slice(1)})})}(c,d===void 0?{}:d);return l.call(this,u)}}})})(Mm);var ij=Mm.exports;const sj=Da(ij);var Om={exports:{}};(function(e,t){(function(n,a){e.exports=a()})(ss,function(){return function(n,a,i){a.prototype.isBetween=function(s,o,l,c){var d=i(s),u=i(o),h=(c=c||"()")[0]==="(",p=c[1]===")";return(h?this.isAfter(d,l):!this.isBefore(d,l))&&(p?this.isBefore(u,l):!this.isAfter(u,l))||(h?this.isBefore(d,l):!this.isAfter(d,l))&&(p?this.isAfter(u,l):!this.isBefore(u,l))}}})})(Om);var oj=Om.exports;const lj=Da(oj);ze.extend(aj);ze.extend(sj);ze.extend(lj);const cj=vm(["Your locale has not been found.","Either the locale key is not a supported one. Locales supported by dayjs are available here: https://github.com/iamkun/dayjs/tree/dev/src/locale","Or you forget to import the locale from 'dayjs/locale/{localeUsed}'","fallback on English locale"]),dj={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},uj={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",fullDateWithWeekday:"dddd, LL",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",monthAndYear:"MMMM YYYY",monthAndDate:"MMMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",fullDateTime:"lll",fullDateTime12h:"ll hh:mm A",fullDateTime24h:"ll HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},Dl=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),Vu=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),hj=(e,t)=>t?(...n)=>e(...n).locale(t):e;class Go{constructor({locale:t,formats:n,instance:a}={}){var i;this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.rawDayJsInstance=void 0,this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=dj,this.setLocaleToValue=s=>{const o=this.getCurrentLocaleCode();return o===s.locale()?s:s.locale(o)},this.hasUTCPlugin=()=>typeof ze.utc<"u",this.hasTimezonePlugin=()=>typeof ze.tz<"u",this.isSame=(s,o,l)=>{const c=this.setTimezone(o,this.getTimezone(s));return s.format(l)===c.format(l)},this.cleanTimezone=s=>{switch(s){case"default":return;case"system":return ze.tz.guess();default:return s}},this.createSystemDate=s=>{if(this.rawDayJsInstance)return this.rawDayJsInstance(s);if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const o=ze.tz.guess();return o!=="UTC"?ze.tz(s,o):ze(s)}return ze(s)},this.createUTCDate=s=>{if(!this.hasUTCPlugin())throw new Error(Dl);return ze.utc(s)},this.createTZDate=(s,o)=>{if(!this.hasUTCPlugin())throw new Error(Dl);if(!this.hasTimezonePlugin())throw new Error(Vu);const l=s!==void 0&&!s.endsWith("Z");return ze(s).tz(this.cleanTimezone(o),l)},this.getLocaleFormats=()=>{const s=ze.Ls,o=this.locale||"en";let l=s[o];return l===void 0&&(cj(),l=s.en),l.formats},this.adjustOffset=s=>{if(!this.hasTimezonePlugin())return s;const o=this.getTimezone(s);if(o!=="UTC"){var l,c;const d=s.tz(this.cleanTimezone(o),!0);if(((l=d.$offset)!=null?l:0)===((c=s.$offset)!=null?c:0))return s;s.$offset=d.$offset}return s},this.date=s=>s===null?null:this.dayjs(s),this.dateWithTimezone=(s,o)=>{if(s===null)return null;let l;return o==="UTC"?l=this.createUTCDate(s):o==="system"||o==="default"&&!this.hasTimezonePlugin()?l=this.createSystemDate(s):l=this.createTZDate(s,o),this.locale===void 0?l:l.locale(this.locale)},this.getTimezone=s=>{if(this.hasTimezonePlugin()){var o;const l=(o=s.$x)==null?void 0:o.$timezone;if(l)return l}return this.hasUTCPlugin()&&s.isUTC()?"UTC":"system"},this.setTimezone=(s,o)=>{if(this.getTimezone(s)===o)return s;if(o==="UTC"){if(!this.hasUTCPlugin())throw new Error(Dl);return s.utc()}if(o==="system")return s.local();if(!this.hasTimezonePlugin()){if(o==="default")return s;throw new Error(Vu)}return ze.tz(s,this.cleanTimezone(o))},this.toJsDate=s=>s.toDate(),this.parseISO=s=>this.dayjs(s),this.toISO=s=>s.toISOString(),this.parse=(s,o)=>s===""?null:this.dayjs(s,o,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=s=>{const o=this.getLocaleFormats(),l=c=>c.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(d,u,h)=>u||h.slice(1));return s.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(c,d,u)=>{const h=u&&u.toUpperCase();return d||o[u]||l(o[h])})},this.getFormatHelperText=s=>this.expandFormat(s).replace(/a/gi,"(a|p)m").toLocaleLowerCase(),this.isNull=s=>s===null,this.isValid=s=>this.dayjs(s).isValid(),this.format=(s,o)=>this.formatByString(s,this.formats[o]),this.formatByString=(s,o)=>this.dayjs(s).format(o),this.formatNumber=s=>s,this.getDiff=(s,o,l)=>s.diff(o,l),this.isEqual=(s,o)=>s===null&&o===null?!0:this.dayjs(s).toDate().getTime()===this.dayjs(o).toDate().getTime(),this.isSameYear=(s,o)=>this.isSame(s,o,"YYYY"),this.isSameMonth=(s,o)=>this.isSame(s,o,"YYYY-MM"),this.isSameDay=(s,o)=>this.isSame(s,o,"YYYY-MM-DD"),this.isSameHour=(s,o)=>s.isSame(o,"hour"),this.isAfter=(s,o)=>s>o,this.isAfterYear=(s,o)=>this.hasUTCPlugin()?!this.isSameYear(s,o)&&s.utc()>o.utc():s.isAfter(o,"year"),this.isAfterDay=(s,o)=>this.hasUTCPlugin()?!this.isSameDay(s,o)&&s.utc()>o.utc():s.isAfter(o,"day"),this.isBefore=(s,o)=>s<o,this.isBeforeYear=(s,o)=>this.hasUTCPlugin()?!this.isSameYear(s,o)&&s.utc()<o.utc():s.isBefore(o,"year"),this.isBeforeDay=(s,o)=>this.hasUTCPlugin()?!this.isSameDay(s,o)&&s.utc()<o.utc():s.isBefore(o,"day"),this.isWithinRange=(s,[o,l])=>s>=o&&s<=l,this.startOfYear=s=>this.adjustOffset(s.startOf("year")),this.startOfMonth=s=>this.adjustOffset(s.startOf("month")),this.startOfWeek=s=>this.adjustOffset(s.startOf("week")),this.startOfDay=s=>this.adjustOffset(s.startOf("day")),this.endOfYear=s=>this.adjustOffset(s.endOf("year")),this.endOfMonth=s=>this.adjustOffset(s.endOf("month")),this.endOfWeek=s=>this.adjustOffset(s.endOf("week")),this.endOfDay=s=>this.adjustOffset(s.endOf("day")),this.addYears=(s,o)=>this.adjustOffset(o<0?s.subtract(Math.abs(o),"year"):s.add(o,"year")),this.addMonths=(s,o)=>this.adjustOffset(o<0?s.subtract(Math.abs(o),"month"):s.add(o,"month")),this.addWeeks=(s,o)=>this.adjustOffset(o<0?s.subtract(Math.abs(o),"week"):s.add(o,"week")),this.addDays=(s,o)=>this.adjustOffset(o<0?s.subtract(Math.abs(o),"day"):s.add(o,"day")),this.addHours=(s,o)=>this.adjustOffset(o<0?s.subtract(Math.abs(o),"hour"):s.add(o,"hour")),this.addMinutes=(s,o)=>this.adjustOffset(o<0?s.subtract(Math.abs(o),"minute"):s.add(o,"minute")),this.addSeconds=(s,o)=>this.adjustOffset(o<0?s.subtract(Math.abs(o),"second"):s.add(o,"second")),this.getYear=s=>s.year(),this.getMonth=s=>s.month(),this.getDate=s=>s.date(),this.getHours=s=>s.hour(),this.getMinutes=s=>s.minute(),this.getSeconds=s=>s.second(),this.getMilliseconds=s=>s.millisecond(),this.setYear=(s,o)=>this.adjustOffset(s.set("year",o)),this.setMonth=(s,o)=>this.adjustOffset(s.set("month",o)),this.setDate=(s,o)=>this.adjustOffset(s.set("date",o)),this.setHours=(s,o)=>this.adjustOffset(s.set("hour",o)),this.setMinutes=(s,o)=>this.adjustOffset(s.set("minute",o)),this.setSeconds=(s,o)=>this.adjustOffset(s.set("second",o)),this.setMilliseconds=(s,o)=>this.adjustOffset(s.set("millisecond",o)),this.getDaysInMonth=s=>s.daysInMonth(),this.getNextMonth=s=>this.addMonths(s,1),this.getPreviousMonth=s=>this.addMonths(s,-1),this.getMonthArray=s=>{const l=[s.startOf("year")];for(;l.length<12;){const c=l[l.length-1];l.push(this.addMonths(c,1))}return l},this.mergeDateAndTime=(s,o)=>s.hour(o.hour()).minute(o.minute()).second(o.second()),this.getWeekdays=()=>{const s=this.dayjs().startOf("week");return[0,1,2,3,4,5,6].map(o=>this.formatByString(this.addDays(s,o),"dd"))},this.getWeekArray=s=>{const o=this.setLocaleToValue(s),l=o.startOf("month").startOf("week"),c=o.endOf("month").endOf("week");let d=0,u=l;const h=[];for(;u<c;){const p=Math.floor(d/7);h[p]=h[p]||[],h[p].push(u),u=this.addDays(u,1),d+=1}return h},this.getWeekNumber=s=>s.week(),this.getYearRange=(s,o)=>{const l=s.startOf("year"),c=o.endOf("year"),d=[];let u=l;for(;u<c;)d.push(u),u=this.addYears(u,1);return d},this.getMeridiemText=s=>s==="am"?"AM":"PM",this.rawDayJsInstance=a,this.dayjs=hj((i=this.rawDayJsInstance)!=null?i:ze,t),this.locale=t,this.formats=G({},uj,n),ze.extend(nj)}}function Rm(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Rm(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function Pa(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=Rm(e))&&(a&&(a+=" "),a+=t);return a}let pj={data:""},fj=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||pj,mj=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xj=/\/\*[^]*?\*\/|  +/g,zu=/\n+/g,la=(e,t)=>{let n="",a="",i="";for(let s in e){let o=e[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":a+=s[1]=="f"?la(o,s):s+"{"+la(o,s[1]=="k"?"":t)+"}":typeof o=="object"?a+=la(o,t?t.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=la.p?la.p(s,o):s+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+a},rr={},Nm=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Nm(e[n]);return t}return e},gj=(e,t,n,a,i)=>{let s=Nm(e),o=rr[s]||(rr[s]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(s));if(!rr[o]){let c=s!==e?e:(d=>{let u,h,p=[{}];for(;u=mj.exec(d.replace(xj,""));)u[4]?p.shift():u[3]?(h=u[3].replace(zu," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][u[1]]=u[2].replace(zu," ").trim();return p[0]})(e);rr[o]=la(i?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&rr.g?rr.g:null;return n&&(rr.g=rr[o]),((c,d,u,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(rr[o],t,a,l),o},vj=(e,t,n)=>e.reduce((a,i,s)=>{let o=t[s];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":la(l,""):l===!1?"":l}return a+i+(o??"")},"");function Sd(e){let t=this||{},n=e.call?e(t.p):e;return gj(n.unshift?n.raw?vj(n,[].slice.call(arguments,1),t.p):n.reduce((a,i)=>Object.assign(a,i&&i.call?i(t.p):i),{}):n,fj(t.target),t.g,t.o,t.k)}Sd.bind({g:1});Sd.bind({k:1});function _u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Fm(e,t,n){return t&&_u(e.prototype,t),n&&_u(e,n),e}function ht(){return ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ht.apply(this,arguments)}function Lm(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function ls(e,t){if(e==null)return{};var n={},a=Object.keys(e),i,s;for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Wu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Bu=function(){return""},Vm=re.createContext({enqueueSnackbar:Bu,closeSnackbar:Bu}),sa={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},Uu=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Dd=function(t){return""+Uu(t.vertical)+Uu(t.horizontal)},vs=function(t){return!!t||t===0},ys="unmounted",Oa="exited",Ra="entering",Si="entered",qu="exiting",Td=function(e){Lm(t,e);function t(a){var i;i=e.call(this,a)||this;var s=a.appear,o;return i.appearStatus=null,a.in?s?(o=Oa,i.appearStatus=Ra):o=Si:a.unmountOnExit||a.mountOnEnter?o=ys:o=Oa,i.state={status:o},i.nextCallback=null,i}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===ys?{status:Oa}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Ra&&o!==Si&&(s=Ra):(o===Ra||o===Si)&&(s=qu)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s=i,o=i;return i!=null&&typeof i!="number"&&typeof i!="string"&&(o=i.exit,s=i.enter),{exit:o,enter:s}},n.updateStatus=function(i,s){i===void 0&&(i=!1),s!==null?(this.cancelNextCallback(),s===Ra?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===Oa&&this.setState({status:ys})},n.performEnter=function(i){var s=this,o=this.props.enter,l=i,c=this.getTimeouts();if(!i&&!o){this.safeSetState({status:Si},function(){s.props.onEntered&&s.props.onEntered(s.node,l)});return}this.props.onEnter&&this.props.onEnter(this.node,l),this.safeSetState({status:Ra},function(){s.props.onEntering&&s.props.onEntering(s.node,l),s.onTransitionEnd(c.enter,function(){s.safeSetState({status:Si},function(){s.props.onEntered&&s.props.onEntered(s.node,l)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts();if(!s){this.safeSetState({status:Oa},function(){i.props.onExited&&i.props.onExited(i.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:qu},function(){i.props.onExiting&&i.props.onExiting(i.node),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Oa},function(){i.props.onExited&&i.props.onExited(i.node)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(){o&&(o=!1,s.nextCallback=null,i())},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=i==null&&!this.props.addEndListener;if(!this.node||o){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ys)return null;var s=this.props,o=s.children,l=ls(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return o(i,l)},Fm(t,[{key:"node",get:function(){var i,s=(i=this.props.nodeRef)===null||i===void 0?void 0:i.current;if(!s)throw new Error("notistack - Custom snackbar is not refForwarding");return s}}]),t}(re.Component);function Na(){}Td.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Na,onEntering:Na,onEntered:Na,onExit:Na,onExiting:Na,onExited:Na};function Hu(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function jc(e,t){return x.useMemo(function(){return e==null&&t==null?null:function(n){Hu(e,n),Hu(t,n)}},[e,t])}function lo(e){var t=e.timeout,n=e.style,a=n===void 0?{}:n,i=e.mode;return{duration:typeof t=="object"?t[i]||0:t,easing:a.transitionTimingFunction,delay:a.transitionDelay}}var wc={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},zm=function(t){t.scrollTop=t.scrollTop},Yu=function(t){return Math.round(t)+"ms"};function qa(e,t){e===void 0&&(e=["all"]);var n=t||{},a=n.duration,i=a===void 0?300:a,s=n.easing,o=s===void 0?wc.easeInOut:s,l=n.delay,c=l===void 0?0:l,d=Array.isArray(e)?e:[e];return d.map(function(u){var h=typeof i=="string"?i:Yu(i),p=typeof c=="string"?c:Yu(c);return u+" "+h+" "+o+" "+p}).join(",")}function yj(e){return e&&e.ownerDocument||document}function _m(e){var t=yj(e);return t.defaultView||window}function bj(e,t){t===void 0&&(t=166);var n;function a(){for(var i=this,s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=function(){e.apply(i,o)};clearTimeout(n),n=setTimeout(c,t)}return a.clear=function(){clearTimeout(n)},a}function jj(e,t){var n=t.getBoundingClientRect(),a=_m(t),i;if(t.fakeTransform)i=t.fakeTransform;else{var s=a.getComputedStyle(t);i=s.getPropertyValue("-webkit-transform")||s.getPropertyValue("transform")}var o=0,l=0;if(i&&i!=="none"&&typeof i=="string"){var c=i.split("(")[1].split(")")[0].split(",");o=parseInt(c[4],10),l=parseInt(c[5],10)}switch(e){case"left":return"translateX("+(a.innerWidth+o-n.left)+"px)";case"right":return"translateX(-"+(n.left+n.width-o)+"px)";case"up":return"translateY("+(a.innerHeight+l-n.top)+"px)";default:return"translateY(-"+(n.top+n.height-l)+"px)"}}function bs(e,t){if(t){var n=jj(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}}var Wm=x.forwardRef(function(e,t){var n=e.children,a=e.direction,i=a===void 0?"down":a,s=e.in,o=e.style,l=e.timeout,c=l===void 0?0:l,d=e.onEnter,u=e.onEntered,h=e.onExit,p=e.onExited,y=ls(e,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),b=x.useRef(null),m=jc(n.ref,b),f=jc(m,t),j=function(g,D){bs(i,g),zm(g),d&&d(g,D)},$=function(g){var D=(o==null?void 0:o.transitionTimingFunction)||wc.easeOut,P=lo({timeout:c,mode:"enter",style:ht({},o,{transitionTimingFunction:D})});g.style.webkitTransition=qa("-webkit-transform",P),g.style.transition=qa("transform",P),g.style.webkitTransform="none",g.style.transform="none"},S=function(g){var D=(o==null?void 0:o.transitionTimingFunction)||wc.sharp,P=lo({timeout:c,mode:"exit",style:ht({},o,{transitionTimingFunction:D})});g.style.webkitTransition=qa("-webkit-transform",P),g.style.transition=qa("transform",P),bs(i,g),h&&h(g)},T=function(g){g.style.webkitTransition="",g.style.transition="",p&&p(g)},A=x.useCallback(function(){b.current&&bs(i,b.current)},[i]);return x.useEffect(function(){if(!(s||i==="down"||i==="right")){var M=bj(function(){b.current&&bs(i,b.current)}),g=_m(b.current);return g.addEventListener("resize",M),function(){M.clear(),g.removeEventListener("resize",M)}}},[i,s]),x.useEffect(function(){s||A()},[s,A]),x.createElement(Td,Object.assign({appear:!0,nodeRef:b,onEnter:j,onEntered:u,onEntering:$,onExit:S,onExited:T,in:s,timeout:c},y),function(M,g){return x.cloneElement(n,ht({ref:f,style:ht({visibility:M==="exited"&&!s?"hidden":void 0},o,{},n.props.style)},g))})});Wm.displayName="Slide";var Qo=function(t){return re.createElement("svg",Object.assign({viewBox:"0 0 24 24",focusable:"false",style:{fontSize:20,marginInlineEnd:8,userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0}},t))},wj=function(){return re.createElement(Qo,null,re.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},Cj=function(){return re.createElement(Qo,null,re.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},$j=function(){return re.createElement(Qo,null,re.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},Sj=function(){return re.createElement(Qo,null,re.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},Dj={default:void 0,success:re.createElement(wj,null),warning:re.createElement(Cj,null),error:re.createElement($j,null),info:re.createElement(Sj,null)},fa={maxSnack:3,persist:!1,hideIconVariant:!1,disableWindowBlurListener:!1,variant:"default",autoHideDuration:5e3,iconVariant:Dj,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:Wm,transitionDuration:{enter:225,exit:195}},Tj=function(t,n){var a=function(s){return typeof s=="number"||s===null};return a(t)?t:a(n)?n:fa.autoHideDuration},kj=function(t,n){var a=function(s,o){return o.some(function(l){return typeof s===l})};return a(t,["string","number"])?t:a(t,["object"])?ht({},fa.transitionDuration,{},a(n,["object"])&&n,{},t):a(n,["string","number"])?n:a(n,["object"])?ht({},fa.transitionDuration,{},n):fa.transitionDuration},Pj=function(t,n){return function(a,i){return i===void 0&&(i=!1),i?ht({},fa[a],{},n[a],{},t[a]):a==="autoHideDuration"?Tj(t.autoHideDuration,n.autoHideDuration):a==="transitionDuration"?kj(t.transitionDuration,n.transitionDuration):t[a]||n[a]||fa[a]}};function cs(e){return Object.entries(e).reduce(function(t,n){var a,i=n[0],s=n[1];return ht({},t,(a={},a[i]=Sd(s),a))},{})}var ai={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent",MuiContentVariant:function(t){return"notistack-MuiContent-"+t}},Gu=cs({root:{height:0},entered:{height:"auto"}}),Tl="0px",kl=175,Bm=x.forwardRef(function(e,t){var n=e.children,a=e.in,i=e.onExited,s=x.useRef(null),o=x.useRef(null),l=jc(t,o),c=function(){return s.current?s.current.clientHeight:0},d=function(m){m.style.height=Tl},u=function(m){var f=c(),j=lo({timeout:kl,mode:"enter"}),$=j.duration,S=j.easing;m.style.transitionDuration=typeof $=="string"?$:$+"ms",m.style.height=f+"px",m.style.transitionTimingFunction=S||""},h=function(m){m.style.height="auto"},p=function(m){m.style.height=c()+"px"},y=function(m){zm(m);var f=lo({timeout:kl,mode:"exit"}),j=f.duration,$=f.easing;m.style.transitionDuration=typeof j=="string"?j:j+"ms",m.style.height=Tl,m.style.transitionTimingFunction=$||""};return x.createElement(Td,{in:a,unmountOnExit:!0,onEnter:d,onEntered:h,onEntering:u,onExit:p,onExited:i,onExiting:y,nodeRef:o,timeout:kl},function(b,m){return x.createElement("div",Object.assign({ref:l,className:Pa(Gu.root,b==="entered"&&Gu.entered),style:ht({pointerEvents:"all",overflow:"hidden",minHeight:Tl,transition:qa("height")},b==="entered"&&{overflow:"visible"},{},b==="exited"&&!a&&{visibility:"hidden"})},m),x.createElement("div",{ref:s,className:ai.CollapseWrapper,style:{display:"flex",width:"100%"}},n))})});Bm.displayName="Collapse";var Qu={right:"left",left:"right",bottom:"up",top:"down"},Ej=function(t){return t.horizontal!=="center"?Qu[t.horizontal]:Qu[t.vertical]},Aj=function(t){return"anchorOrigin"+Dd(t)},Ij=function(t){t===void 0&&(t={});var n={containerRoot:!0,containerAnchorOriginTopCenter:!0,containerAnchorOriginBottomCenter:!0,containerAnchorOriginTopRight:!0,containerAnchorOriginBottomRight:!0,containerAnchorOriginTopLeft:!0,containerAnchorOriginBottomLeft:!0};return Object.keys(t).filter(function(a){return!n[a]}).reduce(function(a,i){var s;return ht({},a,(s={},s[i]=t[i],s))},{})},Mj=function(){};function Wi(e,t){return e.reduce(function(n,a){return a==null?n:function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=[].concat(o);t&&c.indexOf(t)===-1&&c.push(t),n.apply(this,c),a.apply(this,c)}},Mj)}var Oj=typeof window<"u"?x.useLayoutEffect:x.useEffect;function Ku(e){var t=x.useRef(e);return Oj(function(){t.current=e}),x.useCallback(function(){return t.current.apply(void 0,arguments)},[])}var Um=x.forwardRef(function(e,t){var n=e.children,a=e.className,i=e.autoHideDuration,s=e.disableWindowBlurListener,o=s===void 0?!1:s,l=e.onClose,c=e.id,d=e.open,u=e.SnackbarProps,h=u===void 0?{}:u,p=x.useRef(),y=Ku(function(){l&&l.apply(void 0,arguments)}),b=Ku(function(S){!l||S==null||(p.current&&clearTimeout(p.current),p.current=setTimeout(function(){y(null,"timeout",c)},S))});x.useEffect(function(){return d&&b(i),function(){p.current&&clearTimeout(p.current)}},[d,i,b]);var m=function(){p.current&&clearTimeout(p.current)},f=x.useCallback(function(){i!=null&&b(i*.5)},[i,b]),j=function(T){h.onMouseEnter&&h.onMouseEnter(T),m()},$=function(T){h.onMouseLeave&&h.onMouseLeave(T),f()};return x.useEffect(function(){if(!o&&d)return window.addEventListener("focus",f),window.addEventListener("blur",m),function(){window.removeEventListener("focus",f),window.removeEventListener("blur",m)}},[o,f,d]),x.createElement("div",Object.assign({ref:t},h,{className:Pa(ai.Snackbar,a),onMouseEnter:j,onMouseLeave:$}),n)});Um.displayName="Snackbar";var Pl,Rj=cs({root:(Pl={display:"flex",flexWrap:"wrap",flexGrow:1},Pl[sa.upSm]={flexGrow:"initial",minWidth:"288px"},Pl)}),qm=x.forwardRef(function(e,t){var n=e.className,a=ls(e,["className"]);return re.createElement("div",Object.assign({ref:t,className:Pa(Rj.root,n)},a))});qm.displayName="SnackbarContent";var Di=cs({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),Zu="notistack-snackbar",Hm=x.forwardRef(function(e,t){var n=e.id,a=e.message,i=e.action,s=e.iconVariant,o=e.variant,l=e.hideIconVariant,c=e.style,d=e.className,u=s[o],h=i;return typeof h=="function"&&(h=h(n)),re.createElement(qm,{ref:t,role:"alert","aria-describedby":Zu,style:c,className:Pa(ai.MuiContent,ai.MuiContentVariant(o),Di.root,Di[o],d,!l&&u&&Di.lessPadding)},re.createElement("div",{id:Zu,className:Di.message},l?null:u,a),h&&re.createElement("div",{className:Di.action},h))});Hm.displayName="MaterialDesignContent";var Nj=x.memo(Hm),Fj=cs({wrappedRoot:{width:"100%",position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0,minWidth:"288px"}}),Lj=function(t){var n=x.useRef(),a=x.useState(!0),i=a[0],s=a[1],o=Wi([t.snack.onClose,t.onClose]),l=function(){t.snack.requestClose&&o(null,"instructed",t.snack.id)},c=x.useCallback(function(){n.current=setTimeout(function(){s(function(P){return!P})},125)},[]);x.useEffect(function(){return function(){n.current&&clearTimeout(n.current)}},[]);var d=t.snack,u=t.classes,h=t.Component,p=h===void 0?Nj:h,y=x.useMemo(function(){return Ij(u)},[u]),b=d.open,m=d.SnackbarProps,f=d.TransitionComponent,j=d.TransitionProps,$=d.transitionDuration,S=d.disableWindowBlurListener,T=d.content,A=ls(d,["open","SnackbarProps","TransitionComponent","TransitionProps","transitionDuration","disableWindowBlurListener","content","entered","requestClose","onEnter","onEntered","onExit","onExited"]),M=ht({direction:Ej(A.anchorOrigin),timeout:$},j),g=T;typeof g=="function"&&(g=g(A.id,A.message));var D=["onEnter","onEntered","onExit","onExited"].reduce(function(P,C){var k;return ht({},P,(k={},k[C]=Wi([t.snack[C],t[C]],A.id),k))},{});return re.createElement(Bm,{in:i,onExited:D.onExited},re.createElement(Um,{open:b,id:A.id,disableWindowBlurListener:S,autoHideDuration:A.autoHideDuration,className:Pa(Fj.wrappedRoot,y.root,y[Aj(A.anchorOrigin)]),SnackbarProps:m,onClose:o},re.createElement(f,Object.assign({},M,{appear:!0,in:b,onExit:D.onExit,onExited:c,onEnter:D.onEnter,onEntered:Wi([D.onEntered,l],A.id)}),g||re.createElement(p,Object.assign({},A)))))},Ti,El,js,ws,Al,ar={view:{default:20,dense:4},snackbar:{default:6,dense:2}},Xu="."+ai.CollapseWrapper,Il=16,Cs=cs({root:(Ti={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:qa(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},Ti[Xu]={padding:ar.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},Ti.maxWidth="calc(100% - "+ar.view.default*2+"px)",Ti[sa.downXs]={width:"100%",maxWidth:"calc(100% - "+Il*2+"px)"},Ti),rootDense:(El={},El[Xu]={padding:ar.snackbar.dense+"px 0px"},El),top:{top:ar.view.default-ar.snackbar.default+"px",flexDirection:"column"},bottom:{bottom:ar.view.default-ar.snackbar.default+"px",flexDirection:"column-reverse"},left:(js={left:ar.view.default+"px"},js[sa.upSm]={alignItems:"flex-start"},js[sa.downXs]={left:Il+"px"},js),right:(ws={right:ar.view.default+"px"},ws[sa.upSm]={alignItems:"flex-end"},ws[sa.downXs]={right:Il+"px"},ws),center:(Al={left:"50%",transform:"translateX(-50%)"},Al[sa.upSm]={alignItems:"center"},Al)}),Vj=function(t){var n=t.classes,a=n===void 0?{}:n,i=t.anchorOrigin,s=t.dense,o=t.children,l=Pa(ai.SnackbarContainer,Cs[i.vertical],Cs[i.horizontal],Cs.root,a.containerRoot,a["containerAnchorOrigin"+Dd(i)],s&&Cs.rootDense);return re.createElement("div",{className:l},o)},zj=x.memo(Vj),Ju=function(t){var n=typeof t=="string"||x.isValidElement(t);return!n},_j=function(e){Lm(t,e);function t(a){var i;return i=e.call(this,a)||this,i.enqueueSnackbar=function(s,o){if(o===void 0&&(o={}),s==null)throw new Error("enqueueSnackbar called with invalid argument");var l=Ju(s)?s:o,c=Ju(s)?s.message:s,d=l.key,u=l.preventDuplicate,h=ls(l,["key","preventDuplicate"]),p=vs(d),y=p?d:new Date().getTime()+Math.random(),b=Pj(h,i.props),m=ht({id:y},h,{message:c,open:!0,entered:!1,requestClose:!1,persist:b("persist"),action:b("action"),content:b("content"),variant:b("variant"),anchorOrigin:b("anchorOrigin"),disableWindowBlurListener:b("disableWindowBlurListener"),autoHideDuration:b("autoHideDuration"),hideIconVariant:b("hideIconVariant"),TransitionComponent:b("TransitionComponent"),transitionDuration:b("transitionDuration"),TransitionProps:b("TransitionProps",!0),iconVariant:b("iconVariant",!0),style:b("style",!0),SnackbarProps:b("SnackbarProps",!0),className:Pa(i.props.className,h.className)});return m.persist&&(m.autoHideDuration=void 0),i.setState(function(f){if(u===void 0&&i.props.preventDuplicate||u){var j=function(A){return p?A.id===y:A.message===c},$=f.queue.findIndex(j)>-1,S=f.snacks.findIndex(j)>-1;if($||S)return f}return i.handleDisplaySnack(ht({},f,{queue:[].concat(f.queue,[m])}))}),y},i.handleDisplaySnack=function(s){var o=s.snacks;return o.length>=i.maxSnack?i.handleDismissOldest(s):i.processQueue(s)},i.processQueue=function(s){var o=s.queue,l=s.snacks;return o.length>0?ht({},s,{snacks:[].concat(l,[o[0]]),queue:o.slice(1,o.length)}):s},i.handleDismissOldest=function(s){if(s.snacks.some(function(u){return!u.open||u.requestClose}))return s;var o=!1,l=!1,c=s.snacks.reduce(function(u,h){return u+(h.open&&h.persist?1:0)},0);c===i.maxSnack&&(l=!0);var d=s.snacks.map(function(u){return!o&&(!u.persist||l)?(o=!0,u.entered?(u.onClose&&u.onClose(null,"maxsnack",u.id),i.props.onClose&&i.props.onClose(null,"maxsnack",u.id),ht({},u,{open:!1})):ht({},u,{requestClose:!0})):ht({},u)});return ht({},s,{snacks:d})},i.handleEnteredSnack=function(s,o,l){if(!vs(l))throw new Error("handleEnteredSnack Cannot be called with undefined key");i.setState(function(c){var d=c.snacks;return{snacks:d.map(function(u){return u.id===l?ht({},u,{entered:!0}):ht({},u)})}})},i.handleCloseSnack=function(s,o,l){i.props.onClose&&i.props.onClose(s,o,l);var c=l===void 0;i.setState(function(d){var u=d.snacks,h=d.queue;return{snacks:u.map(function(p){return!c&&p.id!==l?ht({},p):p.entered?ht({},p,{open:!1}):ht({},p,{requestClose:!0})}),queue:h.filter(function(p){return p.id!==l})}})},i.closeSnackbar=function(s){var o=i.state.snacks.find(function(l){return l.id===s});vs(s)&&o&&o.onClose&&o.onClose(null,"instructed",s),i.handleCloseSnack(null,"instructed",s)},i.handleExitedSnack=function(s,o){if(!vs(o))throw new Error("handleExitedSnack Cannot be called with undefined key");i.setState(function(l){var c=i.processQueue(ht({},l,{snacks:l.snacks.filter(function(d){return d.id!==o})}));return c.queue.length===0?c:i.handleDismissOldest(c)})},i.enqueueSnackbar,i.closeSnackbar,i.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:i.enqueueSnackbar.bind(Wu(i)),closeSnackbar:i.closeSnackbar.bind(Wu(i))}},i}var n=t.prototype;return n.render=function(){var i=this,s=this.state.contextValue,o=this.props,l=o.domRoot,c=o.children,d=o.dense,u=d===void 0?!1:d,h=o.Components,p=h===void 0?{}:h,y=o.classes,b=this.state.snacks.reduce(function(f,j){var $,S=Dd(j.anchorOrigin),T=f[S]||[];return ht({},f,($={},$[S]=[].concat(T,[j]),$))},{}),m=Object.keys(b).map(function(f){var j=b[f],$=j[0];return re.createElement(zj,{key:f,dense:u,anchorOrigin:$.anchorOrigin,classes:y},j.map(function(S){return re.createElement(Lj,{key:S.id,snack:S,classes:y,Component:p[S.variant],onClose:i.handleCloseSnack,onEnter:i.props.onEnter,onExit:i.props.onExit,onExited:Wi([i.handleExitedSnack,i.props.onExited],S.id),onEntered:Wi([i.handleEnteredSnack,i.props.onEntered],S.id)})}))});return re.createElement(Vm.Provider,{value:s},c,l?ud.createPortal(m,l):m)},Fm(t,[{key:"maxSnack",get:function(){return this.props.maxSnack||fa.maxSnack}}]),t}(x.Component),Wj=function(){return x.useContext(Vm)};const eh={customers:[],selectedCustomer:null,loading:!1,error:null,filters:{limit:10,offset:0,hasVehicles:void 0,hasContracts:void 0,hasCollaterals:void 0},totalCount:0},Ym=dr({name:"customers",initialState:eh,reducers:{setCustomers:(e,t)=>{e.customers=t.payload.customers,e.totalCount=t.payload.total,e.error=null},setSelectedCustomer:(e,t)=>{e.selectedCustomer=t.payload,e.error=null},setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload,e.loading=!1},setFilters:(e,t)=>{const n={...e.filters,...t.payload};Object.keys(n).some(i=>{const s=i;return e.filters[s]!==n[s]})&&(e.filters=n)},resetFilters:e=>{e.filters=eh.filters},clearSelectedCustomer:e=>{e.selectedCustomer=null},addCustomer:(e,t)=>{e.customers.push(t.payload),e.totalCount+=1}}}),{setCustomers:Bj,setSelectedCustomer:Gm,setLoading:Bi,setError:Cc,setFilters:Uj,resetFilters:vA,clearSelectedCustomer:yA,addCustomer:bA}=Ym.actions,qj=Ym.reducer,th={vehicles:[],loading:!1,error:null,selectedVehicle:null,filters:{limit:10,offset:0},totalCount:0},Qm=dr({name:"vehicles",initialState:th,reducers:{setVehicles:(e,t)=>{e.vehicles=t.payload.vehicles,e.totalCount=t.payload.total,e.loading=!1,e.error=null},setSelectedVehicle:(e,t)=>{e.selectedVehicle=t.payload,e.error=null},setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload,e.loading=!1},setFilters:(e,t)=>{const n={...e.filters,...t.payload};Object.keys(n).some(i=>{const s=i;return e.filters[s]!==n[s]})&&(e.filters=n)},resetFilters:e=>{e.filters=th.filters},clearSelectedVehicle:e=>{e.selectedVehicle=null}}}),{setVehicles:Hj,setLoading:nh,setError:Yj,setSelectedVehicle:jA,setFilters:Gj,resetFilters:wA,clearSelectedVehicle:CA}=Qm.actions,Qj=Qm.reducer,rh={logs:[],selectedLog:null,filters:{limit:10,offset:0},loading:!1,error:null,totalCount:0},Kj=dr({name:"audit",initialState:rh,reducers:{setAuditLogs:(e,t)=>{e.logs=t.payload.logs,e.totalCount=t.payload.total,e.loading=!1,e.error=null},setSelectedLog:(e,t)=>{e.selectedLog=t.payload},setFilters:(e,t)=>{e.filters={...e.filters,...t.payload}},clearFilters:e=>{e.filters=rh.filters},setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload,e.loading=!1},clearSelectedLog:e=>{e.selectedLog=null}}}),Zj=Kj.reducer;var co=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,i,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(u){d=[6,u],i=0}finally{a=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},uo=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,a=t.length,i=e.length;n<a;n++,i++)e[i]=t[n];return e},Xj=Object.defineProperty,Jj=Object.defineProperties,e3=Object.getOwnPropertyDescriptors,ho=Object.getOwnPropertySymbols,Km=Object.prototype.hasOwnProperty,Zm=Object.prototype.propertyIsEnumerable,ah=function(e,t,n){return t in e?Xj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Tt=function(e,t){for(var n in t||(t={}))Km.call(t,n)&&ah(e,n,t[n]);if(ho)for(var a=0,i=ho(t);a<i.length;a++){var n=i[a];Zm.call(t,n)&&ah(e,n,t[n])}return e},Hn=function(e,t){return Jj(e,e3(t))},ih=function(e,t){var n={};for(var a in e)Km.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&ho)for(var i=0,s=ho(e);i<s.length;i++){var a=s[i];t.indexOf(a)<0&&Zm.call(e,a)&&(n[a]=e[a])}return n},po=function(e,t,n){return new Promise(function(a,i){var s=function(c){try{l(n.next(c))}catch(d){i(d)}},o=function(c){try{l(n.throw(c))}catch(d){i(d)}},l=function(c){return c.done?a(c.value):Promise.resolve(c.value).then(s,o)};l((n=n.apply(e,t)).next())})},gt;(function(e){e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected"})(gt||(gt={}));function t3(e){return{status:e,isUninitialized:e===gt.uninitialized,isLoading:e===gt.pending,isSuccess:e===gt.fulfilled,isError:e===gt.rejected}}function n3(e){return new RegExp("(^|:)//").test(e)}var r3=function(e){return e.replace(/\/$/,"")},a3=function(e){return e.replace(/^\//,"")};function i3(e,t){if(!e)return t;if(!t)return e;if(n3(t))return t;var n=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=r3(e),t=a3(t),""+e+n+t}var sh=function(e){return[].concat.apply([],e)};function s3(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function o3(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var oh=ya;function Xm(e,t){if(e===t||!(oh(e)&&oh(t)||Array.isArray(e)&&Array.isArray(t)))return t;for(var n=Object.keys(t),a=Object.keys(e),i=n.length===a.length,s=Array.isArray(t)?[]:{},o=0,l=n;o<l.length;o++){var c=l[o];s[c]=Xm(e[c],t[c]),i&&(i=e[c]===s[c])}return i?e:s}var lh=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fetch.apply(void 0,e)},l3=function(e){return e.status>=200&&e.status<=299},c3=function(e){return/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"")};function ch(e){if(!ya(e))return e;for(var t=Tt({},e),n=0,a=Object.entries(t);n<a.length;n++){var i=a[n],s=i[0],o=i[1];o===void 0&&delete t[s]}return t}function Ko(e){var t=this;e===void 0&&(e={});var n=e,a=n.baseUrl,i=n.prepareHeaders,s=i===void 0?function(S){return S}:i,o=n.fetchFn,l=o===void 0?lh:o,c=n.paramsSerializer,d=n.isJsonContentType,u=d===void 0?c3:d,h=n.jsonContentType,p=h===void 0?"application/json":h,y=n.jsonReplacer,b=n.timeout,m=n.responseHandler,f=n.validateStatus,j=ih(n,["baseUrl","prepareHeaders","fetchFn","paramsSerializer","isJsonContentType","jsonContentType","jsonReplacer","timeout","responseHandler","validateStatus"]);return typeof fetch>"u"&&l===lh&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),function(S,T){return po(t,null,function(){var A,M,g,D,P,C,k,R,O,E,I,V,U,_,z,B,Q,se,X,J,ie,me,te,pe,ve,ge,he,xe,oe,Te,He,Ue,ut,ke,Pe,L;return co(this,function(W){switch(W.label){case 0:return A=T.signal,M=T.getState,g=T.extra,D=T.endpoint,P=T.forced,C=T.type,R=typeof S=="string"?{url:S}:S,O=R.url,E=R.headers,I=E===void 0?new Headers(j.headers):E,V=R.params,U=V===void 0?void 0:V,_=R.responseHandler,z=_===void 0?m??"json":_,B=R.validateStatus,Q=B===void 0?f??l3:B,se=R.timeout,X=se===void 0?b:se,J=ih(R,["url","headers","params","responseHandler","validateStatus","timeout"]),ie=Tt(Hn(Tt({},j),{signal:A}),J),I=new Headers(ch(I)),me=ie,[4,s(I,{getState:M,extra:g,endpoint:D,forced:P,type:C})];case 1:me.headers=W.sent()||I,te=function(H){return typeof H=="object"&&(ya(H)||Array.isArray(H)||typeof H.toJSON=="function")},!ie.headers.has("content-type")&&te(ie.body)&&ie.headers.set("content-type",p),te(ie.body)&&u(ie.headers)&&(ie.body=JSON.stringify(ie.body,y)),U&&(pe=~O.indexOf("?")?"&":"?",ve=c?c(U):new URLSearchParams(ch(U)),O+=pe+ve),O=i3(a,O),ge=new Request(O,ie),he=new Request(O,ie),k={request:he},oe=!1,Te=X&&setTimeout(function(){oe=!0,T.abort()},X),W.label=2;case 2:return W.trys.push([2,4,5,6]),[4,l(ge)];case 3:return xe=W.sent(),[3,6];case 4:return He=W.sent(),[2,{error:{status:oe?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(He)},meta:k}];case 5:return Te&&clearTimeout(Te),[7];case 6:Ue=xe.clone(),k.response=Ue,ke="",W.label=7;case 7:return W.trys.push([7,9,,10]),[4,Promise.all([$(xe,z).then(function(H){return ut=H},function(H){return Pe=H}),Ue.text().then(function(H){return ke=H},function(){})])];case 8:if(W.sent(),Pe)throw Pe;return[3,10];case 9:return L=W.sent(),[2,{error:{status:"PARSING_ERROR",originalStatus:xe.status,data:ke,error:String(L)},meta:k}];case 10:return[2,Q(xe,ut)?{data:ut,meta:k}:{error:{status:xe.status,data:ut},meta:k}]}})})};function $(S,T){return po(this,null,function(){var A;return co(this,function(M){switch(M.label){case 0:return typeof T=="function"?[2,T(S)]:(T==="content-type"&&(T=u(S.headers)?"json":"text"),T!=="json"?[3,2]:[4,S.text()]);case 1:return A=M.sent(),[2,A.length?JSON.parse(A):null];case 2:return[2,S.text()]}})})}}var dh=function(){function e(t,n){n===void 0&&(n=void 0),this.value=t,this.meta=n}return e}(),kd=fi("__rtkq/focused"),Jm=fi("__rtkq/unfocused"),Pd=fi("__rtkq/online"),ex=fi("__rtkq/offline"),Qn;(function(e){e.query="query",e.mutation="mutation"})(Qn||(Qn={}));function tx(e){return e.type===Qn.query}function d3(e){return e.type===Qn.mutation}function Ed(e,t,n,a,i,s){return u3(e)?e(t,n,a,i).map($c).map(s):Array.isArray(e)?e.map($c).map(s):[]}function u3(e){return typeof e=="function"}function $c(e){return typeof e=="string"?{type:e}:e}function Ml(e){return e!=null}var Xi=Symbol("forceQueryFn"),Sc=function(e){return typeof e[Xi]=="function"};function h3(e){var t=e.serializeQueryArgs,n=e.queryThunk,a=e.mutationThunk,i=e.api,s=e.context,o=new Map,l=new Map,c=i.internalActions,d=c.unsubscribeQueryResult,u=c.removeMutationResult,h=c.updateSubscriptionOptions;return{buildInitiateQuery:$,buildInitiateMutation:S,getRunningQueryThunk:b,getRunningMutationThunk:m,getRunningQueriesThunk:f,getRunningMutationsThunk:j,getRunningOperationPromises:y,removalWarning:p};function p(){throw new Error(`This method had to be removed due to a conceptual bug in RTK.
       Please see https://github.com/reduxjs/redux-toolkit/pull/2481 for details.
       See https://redux-toolkit.js.org/rtk-query/usage/server-side-rendering for new guidance on SSR.`)}function y(){typeof process<"u";var T=function(A){return Array.from(A.values()).flatMap(function(M){return M?Object.values(M):[]})};return uo(uo([],T(o)),T(l)).filter(Ml)}function b(T,A){return function(M){var g,D=s.endpointDefinitions[T],P=t({queryArgs:A,endpointDefinition:D,endpointName:T});return(g=o.get(M))==null?void 0:g[P]}}function m(T,A){return function(M){var g;return(g=l.get(M))==null?void 0:g[A]}}function f(){return function(T){return Object.values(o.get(T)||{}).filter(Ml)}}function j(){return function(T){return Object.values(l.get(T)||{}).filter(Ml)}}function $(T,A){var M=function(g,D){var P=D===void 0?{}:D,C=P.subscribe,k=C===void 0?!0:C,R=P.forceRefetch,O=P.subscriptionOptions,E=Xi,I=P[E];return function(V,U){var _,z,B=t({queryArgs:g,endpointDefinition:A,endpointName:T}),Q=n((_={type:"query",subscribe:k,forceRefetch:R,subscriptionOptions:O,endpointName:T,originalArgs:g,queryCacheKey:B},_[Xi]=I,_)),se=i.endpoints[T].select(g),X=V(Q),J=se(U()),ie=X.requestId,me=X.abort,te=J.requestId!==ie,pe=(z=o.get(V))==null?void 0:z[B],ve=function(){return se(U())},ge=Object.assign(I?X.then(ve):te&&!pe?Promise.resolve(J):Promise.all([pe,X]).then(ve),{arg:g,requestId:ie,subscriptionOptions:O,queryCacheKey:B,abort:me,unwrap:function(){return po(this,null,function(){var xe;return co(this,function(oe){switch(oe.label){case 0:return[4,ge];case 1:if(xe=oe.sent(),xe.isError)throw xe.error;return[2,xe.data]}})})},refetch:function(){return V(M(g,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){k&&V(d({queryCacheKey:B,requestId:ie}))},updateSubscriptionOptions:function(xe){ge.subscriptionOptions=xe,V(h({endpointName:T,requestId:ie,queryCacheKey:B,options:xe}))}});if(!pe&&!te&&!I){var he=o.get(V)||{};he[B]=ge,o.set(V,he),ge.then(function(){delete he[B],Object.keys(he).length||o.delete(V)})}return ge}};return M}function S(T){return function(A,M){var g=M===void 0?{}:M,D=g.track,P=D===void 0?!0:D,C=g.fixedCacheKey;return function(k,R){var O=a({type:"mutation",endpointName:T,originalArgs:A,track:P,fixedCacheKey:C}),E=k(O),I=E.requestId,V=E.abort,U=E.unwrap,_=E.unwrap().then(function(se){return{data:se}}).catch(function(se){return{error:se}}),z=function(){k(u({requestId:I,fixedCacheKey:C}))},B=Object.assign(_,{arg:E.arg,requestId:I,abort:V,unwrap:U,unsubscribe:z,reset:z}),Q=l.get(k)||{};return l.set(k,Q),Q[I]=B,B.then(function(){delete Q[I],Object.keys(Q).length||l.delete(k)}),C&&(Q[C]=B,B.then(function(){Q[C]===B&&(delete Q[C],Object.keys(Q).length||l.delete(k))})),B}}}}function uh(e){return e}function p3(e){var t=this,n=e.reducerPath,a=e.baseQuery,i=e.context.endpointDefinitions,s=e.serializeQueryArgs,o=e.api,l=e.assertTagType,c=function(T,A,M,g){return function(D,P){var C=i[T],k=s({queryArgs:A,endpointDefinition:C,endpointName:T});if(D(o.internalActions.queryResultPatched({queryCacheKey:k,patches:M})),!!g){var R=o.endpoints[T].select(A)(P()),O=Ed(C.providesTags,R.data,void 0,A,{},l);D(o.internalActions.updateProvidedBy({queryCacheKey:k,providedTags:O}))}}},d=function(T,A,M,g){return g===void 0&&(g=!0),function(D,P){var C,k,R=o.endpoints[T],O=R.select(A)(P()),E={patches:[],inversePatches:[],undo:function(){return D(o.util.patchQueryData(T,A,E.inversePatches,g))}};if(O.status===gt.uninitialized)return E;var I;if("data"in O)if(mv(O.data)){var V=Wf(O.data,M),U=V[0],_=V[1],z=V[2];(C=E.patches).push.apply(C,_),(k=E.inversePatches).push.apply(k,z),I=U}else I=M(O.data),E.patches.push({op:"replace",path:[],value:I}),E.inversePatches.push({op:"replace",path:[],value:O.data});return D(o.util.patchQueryData(T,A,E.patches,g)),E}},u=function(T,A,M){return function(g){var D;return g(o.endpoints[T].initiate(A,(D={subscribe:!1,forceRefetch:!0},D[Xi]=function(){return{data:M}},D)))}},h=function(T,A){return po(t,[T,A],function(M,g){var D,P,C,k,R,O,E,I,V,U,_,z,B,Q,se,X,J,ie,me=g.signal,te=g.abort,pe=g.rejectWithValue,ve=g.fulfillWithValue,ge=g.dispatch,he=g.getState,xe=g.extra;return co(this,function(oe){switch(oe.label){case 0:D=i[M.endpointName],oe.label=1;case 1:return oe.trys.push([1,8,,13]),P=uh,C=void 0,k={signal:me,abort:te,dispatch:ge,getState:he,extra:xe,endpoint:M.endpointName,type:M.type,forced:M.type==="query"?p(M,he()):void 0},R=M.type==="query"?M[Xi]:void 0,R?(C=R(),[3,6]):[3,2];case 2:return D.query?[4,a(D.query(M.originalArgs),k,D.extraOptions)]:[3,4];case 3:return C=oe.sent(),D.transformResponse&&(P=D.transformResponse),[3,6];case 4:return[4,D.queryFn(M.originalArgs,k,D.extraOptions,function(Te){return a(Te,k,D.extraOptions)})];case 5:C=oe.sent(),oe.label=6;case 6:if(typeof process<"u",C.error)throw new dh(C.error,C.meta);return _=ve,[4,P(C.data,C.meta,M.originalArgs)];case 7:return[2,_.apply(void 0,[oe.sent(),(J={fulfilledTimeStamp:Date.now(),baseQueryMeta:C.meta},J[ms]=!0,J)])];case 8:if(z=oe.sent(),B=z,!(B instanceof dh))return[3,12];Q=uh,D.query&&D.transformErrorResponse&&(Q=D.transformErrorResponse),oe.label=9;case 9:return oe.trys.push([9,11,,12]),se=pe,[4,Q(B.value,B.meta,M.originalArgs)];case 10:return[2,se.apply(void 0,[oe.sent(),(ie={baseQueryMeta:B.meta},ie[ms]=!0,ie)])];case 11:return X=oe.sent(),B=X,[3,12];case 12:throw typeof process<"u",console.error(B),B;case 13:return[2]}})})};function p(T,A){var M,g,D,P,C=(g=(M=A[n])==null?void 0:M.queries)==null?void 0:g[T.queryCacheKey],k=(D=A[n])==null?void 0:D.config.refetchOnMountOrArgChange,R=C==null?void 0:C.fulfilledTimeStamp,O=(P=T.forceRefetch)!=null?P:T.subscribe&&k;return O?O===!0||(Number(new Date)-Number(R))/1e3>=O:!1}var y=mu(n+"/executeQuery",h,{getPendingMeta:function(){var T;return T={startedTimeStamp:Date.now()},T[ms]=!0,T},condition:function(T,A){var M=A.getState,g,D,P,C=M(),k=(D=(g=C[n])==null?void 0:g.queries)==null?void 0:D[T.queryCacheKey],R=k==null?void 0:k.fulfilledTimeStamp,O=T.originalArgs,E=k==null?void 0:k.originalArgs,I=i[T.endpointName];return Sc(T)?!0:(k==null?void 0:k.status)==="pending"?!1:p(T,C)||tx(I)&&((P=I==null?void 0:I.forceRefetch)!=null&&P.call(I,{currentArg:O,previousArg:E,endpointState:k,state:C}))?!0:!R},dispatchConditionRejection:!0}),b=mu(n+"/executeMutation",h,{getPendingMeta:function(){var T;return T={startedTimeStamp:Date.now()},T[ms]=!0,T}}),m=function(T){return"force"in T},f=function(T){return"ifOlderThan"in T},j=function(T,A,M){return function(g,D){var P=m(M)&&M.force,C=f(M)&&M.ifOlderThan,k=function(I){return I===void 0&&(I=!0),o.endpoints[T].initiate(A,{forceRefetch:I})},R=o.endpoints[T].select(A)(D());if(P)g(k());else if(C){var O=R==null?void 0:R.fulfilledTimeStamp;if(!O){g(k());return}var E=(Number(new Date)-Number(new Date(O)))/1e3>=C;E&&g(k())}else g(k(!1))}};function $(T){return function(A){var M,g;return((g=(M=A==null?void 0:A.meta)==null?void 0:M.arg)==null?void 0:g.endpointName)===T}}function S(T,A){return{matchPending:Cl(Bf(T),$(A)),matchFulfilled:Cl(mi(T),$(A)),matchRejected:Cl(Uf(T),$(A))}}return{queryThunk:y,mutationThunk:b,prefetch:j,updateQueryData:d,upsertQueryData:u,patchQueryData:c,buildMatchThunkActions:S}}function nx(e,t,n,a){return Ed(n[e.meta.arg.endpointName][t],mi(e)?e.payload:void 0,hd(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,a)}function $s(e,t,n){var a=e[t];a&&n(a)}function Ji(e){var t;return(t="arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)!=null?t:e.requestId}function hh(e,t,n){var a=e[Ji(t)];a&&n(a)}var ki={};function f3(e){var t=e.reducerPath,n=e.queryThunk,a=e.mutationThunk,i=e.context,s=i.endpointDefinitions,o=i.apiUid,l=i.extractRehydrationInfo,c=i.hasRehydrationInfo,d=e.assertTagType,u=e.config,h=fi(t+"/resetApiState"),p=dr({name:t+"/queries",initialState:ki,reducers:{removeQueryResult:{reducer:function(A,M){var g=M.payload.queryCacheKey;delete A[g]},prepare:ji()},queryResultPatched:{reducer:function(A,M){var g=M.payload,D=g.queryCacheKey,P=g.patches;$s(A,D,function(C){C.data=xu(C.data,P.concat())})},prepare:ji()}},extraReducers:function(A){A.addCase(n.pending,function(M,g){var D=g.meta,P=g.meta.arg,C,k,R=Sc(P);(P.subscribe||R)&&((k=M[C=P.queryCacheKey])!=null||(M[C]={status:gt.uninitialized,endpointName:P.endpointName})),$s(M,P.queryCacheKey,function(O){O.status=gt.pending,O.requestId=R&&O.requestId?O.requestId:D.requestId,P.originalArgs!==void 0&&(O.originalArgs=P.originalArgs),O.startedTimeStamp=D.startedTimeStamp})}).addCase(n.fulfilled,function(M,g){var D=g.meta,P=g.payload;$s(M,D.arg.queryCacheKey,function(C){var k;if(!(C.requestId!==D.requestId&&!Sc(D.arg))){var R=s[D.arg.endpointName].merge;if(C.status=gt.fulfilled,R)if(C.data!==void 0){var O=D.fulfilledTimeStamp,E=D.arg,I=D.baseQueryMeta,V=D.requestId,U=pd(C.data,function(_){return R(_,P,{arg:E.originalArgs,baseQueryMeta:I,fulfilledTimeStamp:O,requestId:V})});C.data=U}else C.data=P;else C.data=(k=s[D.arg.endpointName].structuralSharing)==null||k?Xm(xv(C.data)?gv(C.data):C.data,P):P;delete C.error,C.fulfilledTimeStamp=D.fulfilledTimeStamp}})}).addCase(n.rejected,function(M,g){var D=g.meta,P=D.condition,C=D.arg,k=D.requestId,R=g.error,O=g.payload;$s(M,C.queryCacheKey,function(E){if(!P){if(E.requestId!==k)return;E.status=gt.rejected,E.error=O??R}})}).addMatcher(c,function(M,g){for(var D=l(g).queries,P=0,C=Object.entries(D);P<C.length;P++){var k=C[P],R=k[0],O=k[1];((O==null?void 0:O.status)===gt.fulfilled||(O==null?void 0:O.status)===gt.rejected)&&(M[R]=O)}})}}),y=dr({name:t+"/mutations",initialState:ki,reducers:{removeMutationResult:{reducer:function(A,M){var g=M.payload,D=Ji(g);D in A&&delete A[D]},prepare:ji()}},extraReducers:function(A){A.addCase(a.pending,function(M,g){var D=g.meta,P=g.meta,C=P.requestId,k=P.arg,R=P.startedTimeStamp;k.track&&(M[Ji(D)]={requestId:C,status:gt.pending,endpointName:k.endpointName,startedTimeStamp:R})}).addCase(a.fulfilled,function(M,g){var D=g.payload,P=g.meta;P.arg.track&&hh(M,P,function(C){C.requestId===P.requestId&&(C.status=gt.fulfilled,C.data=D,C.fulfilledTimeStamp=P.fulfilledTimeStamp)})}).addCase(a.rejected,function(M,g){var D=g.payload,P=g.error,C=g.meta;C.arg.track&&hh(M,C,function(k){k.requestId===C.requestId&&(k.status=gt.rejected,k.error=D??P)})}).addMatcher(c,function(M,g){for(var D=l(g).mutations,P=0,C=Object.entries(D);P<C.length;P++){var k=C[P],R=k[0],O=k[1];((O==null?void 0:O.status)===gt.fulfilled||(O==null?void 0:O.status)===gt.rejected)&&R!==(O==null?void 0:O.requestId)&&(M[R]=O)}})}}),b=dr({name:t+"/invalidation",initialState:ki,reducers:{updateProvidedBy:{reducer:function(A,M){for(var g,D,P,C,k=M.payload,R=k.queryCacheKey,O=k.providedTags,E=0,I=Object.values(A);E<I.length;E++)for(var V=I[E],U=0,_=Object.values(V);U<_.length;U++){var z=_[U],B=z.indexOf(R);B!==-1&&z.splice(B,1)}for(var Q=0,se=O;Q<se.length;Q++){var X=se[Q],J=X.type,ie=X.id,me=(C=(D=(g=A[J])!=null?g:A[J]={})[P=ie||"__internal_without_id"])!=null?C:D[P]=[],te=me.includes(R);te||me.push(R)}},prepare:ji()}},extraReducers:function(A){A.addCase(p.actions.removeQueryResult,function(M,g){for(var D=g.payload.queryCacheKey,P=0,C=Object.values(M);P<C.length;P++)for(var k=C[P],R=0,O=Object.values(k);R<O.length;R++){var E=O[R],I=E.indexOf(D);I!==-1&&E.splice(I,1)}}).addMatcher(c,function(M,g){for(var D,P,C,k,R=l(g).provided,O=0,E=Object.entries(R);O<E.length;O++)for(var I=E[O],V=I[0],U=I[1],_=0,z=Object.entries(U);_<z.length;_++)for(var B=z[_],Q=B[0],se=B[1],X=(k=(P=(D=M[V])!=null?D:M[V]={})[C=Q||"__internal_without_id"])!=null?k:P[C]=[],J=0,ie=se;J<ie.length;J++){var me=ie[J],te=X.includes(me);te||X.push(me)}}).addMatcher(_f(mi(n),hd(n)),function(M,g){var D=nx(g,"providesTags",s,d),P=g.meta.arg.queryCacheKey;b.caseReducers.updateProvidedBy(M,b.actions.updateProvidedBy({queryCacheKey:P,providedTags:D}))})}}),m=dr({name:t+"/subscriptions",initialState:ki,reducers:{updateSubscriptionOptions:function(A,M){},unsubscribeQueryResult:function(A,M){},internal_probeSubscription:function(A,M){}}}),f=dr({name:t+"/internalSubscriptions",initialState:ki,reducers:{subscriptionsUpdated:{reducer:function(A,M){return xu(A,M.payload)},prepare:ji()}}}),j=dr({name:t+"/config",initialState:Tt({online:s3(),focused:o3(),middlewareRegistered:!1},u),reducers:{middlewareRegistered:function(A,M){var g=M.payload;A.middlewareRegistered=A.middlewareRegistered==="conflict"||o!==g?"conflict":!0}},extraReducers:function(A){A.addCase(Pd,function(M){M.online=!0}).addCase(ex,function(M){M.online=!1}).addCase(kd,function(M){M.focused=!0}).addCase(Jm,function(M){M.focused=!1}).addMatcher(c,function(M){return Tt({},M)})}}),$=fv({queries:p.reducer,mutations:y.reducer,provided:b.reducer,subscriptions:f.reducer,config:j.reducer}),S=function(A,M){return $(h.match(M)?void 0:A,M)},T=Hn(Tt(Tt(Tt(Tt(Tt(Tt({},j.actions),p.actions),m.actions),f.actions),y.actions),b.actions),{unsubscribeMutationResult:y.actions.removeMutationResult,resetApiState:h});return{reducer:S,actions:T}}var ua=Symbol.for("RTKQ/skipToken"),rx={status:gt.uninitialized},ph=pd(rx,function(){}),fh=pd(rx,function(){});function m3(e){var t=e.serializeQueryArgs,n=e.reducerPath,a=function(u){return ph},i=function(u){return fh};return{buildQuerySelector:l,buildMutationSelector:c,selectInvalidatedBy:d};function s(u){return Tt(Tt({},u),t3(u.status))}function o(u){var h=u[n];return h}function l(u,h){return function(p){var y=t({queryArgs:p,endpointDefinition:h,endpointName:u}),b=function(f){var j,$,S;return(S=($=(j=o(f))==null?void 0:j.queries)==null?void 0:$[y])!=null?S:ph},m=p===ua?a:b;return zi(m,s)}}function c(){return function(u){var h,p;typeof u=="object"?p=(h=Ji(u))!=null?h:ua:p=u;var y=function(m){var f,j,$;return($=(j=(f=o(m))==null?void 0:f.mutations)==null?void 0:j[p])!=null?$:fh},b=p===ua?i:y;return zi(b,s)}}function d(u,h){for(var p,y=u[n],b=new Set,m=0,f=h.map($c);m<f.length;m++){var j=f[m],$=y.provided[j.type];if($)for(var S=(p=j.id!==void 0?$[j.id]:sh(Object.values($)))!=null?p:[],T=0,A=S;T<A.length;T++){var M=A[T];b.add(M)}}return sh(Array.from(b.values()).map(function(g){var D=y.queries[g];return D?[{queryCacheKey:g,endpointName:D.endpointName,originalArgs:D.originalArgs}]:[]}))}}var Ss=WeakMap?new WeakMap:void 0,mh=function(e){var t=e.endpointName,n=e.queryArgs,a="",i=Ss==null?void 0:Ss.get(n);if(typeof i=="string")a=i;else{var s=JSON.stringify(n,function(o,l){return ya(l)?Object.keys(l).sort().reduce(function(c,d){return c[d]=l[d],c},{}):l});ya(n)&&(Ss==null||Ss.set(n,s)),a=s}return t+"("+a+")"};function x3(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(a){var i=fu(function(u){var h,p;return(p=a.extractRehydrationInfo)==null?void 0:p.call(a,u,{reducerPath:(h=a.reducerPath)!=null?h:"api"})}),s=Hn(Tt({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},a),{extractRehydrationInfo:i,serializeQueryArgs:function(u){var h=mh;if("serializeQueryArgs"in u.endpointDefinition){var p=u.endpointDefinition.serializeQueryArgs;h=function(y){var b=p(y);return typeof b=="string"?b:mh(Hn(Tt({},y),{queryArgs:b}))}}else a.serializeQueryArgs&&(h=a.serializeQueryArgs);return h(u)},tagTypes:uo([],a.tagTypes||[])}),o={endpointDefinitions:{},batch:function(u){u()},apiUid:hv(),extractRehydrationInfo:i,hasRehydrationInfo:fu(function(u){return i(u)!=null})},l={injectEndpoints:d,enhanceEndpoints:function(u){var h=u.addTagTypes,p=u.endpoints;if(h)for(var y=0,b=h;y<b.length;y++){var m=b[y];s.tagTypes.includes(m)||s.tagTypes.push(m)}if(p)for(var f=0,j=Object.entries(p);f<j.length;f++){var $=j[f],S=$[0],T=$[1];typeof T=="function"?T(o.endpointDefinitions[S]):Object.assign(o.endpointDefinitions[S]||{},T)}return l}},c=e.map(function(u){return u.init(l,s,o)});function d(u){for(var h=u.endpoints({query:function(T){return Hn(Tt({},T),{type:Qn.query})},mutation:function(T){return Hn(Tt({},T),{type:Qn.mutation})}}),p=0,y=Object.entries(h);p<y.length;p++){var b=y[p],m=b[0],f=b[1];if(!u.overrideExisting&&m in o.endpointDefinitions){typeof process<"u";continue}o.endpointDefinitions[m]=f;for(var j=0,$=c;j<$.length;j++){var S=$[j];S.injectEndpoint(m,f)}}return l}return l.injectEndpoints({endpoints:a.endpoints})}}function g3(e){for(var t in e)return!1;return!0}var v3=2147483647/1e3-1,y3=function(e){var t=e.reducerPath,n=e.api,a=e.context,i=e.internalState,s=n.internalActions,o=s.removeQueryResult,l=s.unsubscribeQueryResult;function c(p){var y=i.currentSubscriptions[p];return!!y&&!g3(y)}var d={},u=function(p,y,b){var m;if(l.match(p)){var f=y.getState()[t],j=p.payload.queryCacheKey;h(j,(m=f.queries[j])==null?void 0:m.endpointName,y,f.config)}if(n.util.resetApiState.match(p))for(var $=0,S=Object.entries(d);$<S.length;$++){var T=S[$],A=T[0],M=T[1];M&&clearTimeout(M),delete d[A]}if(a.hasRehydrationInfo(p))for(var f=y.getState()[t],g=a.extractRehydrationInfo(p).queries,D=0,P=Object.entries(g);D<P.length;D++){var C=P[D],j=C[0],k=C[1];h(j,k==null?void 0:k.endpointName,y,f.config)}};function h(p,y,b,m){var f,j=a.endpointDefinitions[y],$=(f=j==null?void 0:j.keepUnusedDataFor)!=null?f:m.keepUnusedDataFor;if($!==1/0){var S=Math.max(0,Math.min($,v3));if(!c(p)){var T=d[p];T&&clearTimeout(T),d[p]=setTimeout(function(){c(p)||b.dispatch(o({queryCacheKey:p})),delete d[p]},S*1e3)}}}return u},b3=function(e){var t=e.reducerPath,n=e.context,a=e.context.endpointDefinitions,i=e.mutationThunk,s=e.api,o=e.assertTagType,l=e.refetchQuery,c=s.internalActions.removeQueryResult,d=_f(mi(i),hd(i)),u=function(p,y){d(p)&&h(nx(p,"invalidatesTags",a,o),y),s.util.invalidateTags.match(p)&&h(Ed(p.payload,void 0,void 0,void 0,void 0,o),y)};function h(p,y){var b=y.getState(),m=b[t],f=s.util.selectInvalidatedBy(b,p);n.batch(function(){for(var j,$=Array.from(f.values()),S=0,T=$;S<T.length;S++){var A=T[S].queryCacheKey,M=m.queries[A],g=(j=m.subscriptions[A])!=null?j:{};M&&(Object.keys(g).length===0?y.dispatch(c({queryCacheKey:A})):M.status!==gt.uninitialized&&y.dispatch(l(M,A)))}})}return u},j3=function(e){var t=e.reducerPath,n=e.queryThunk,a=e.api,i=e.refetchQuery,s=e.internalState,o={},l=function(y,b){(a.internalActions.updateSubscriptionOptions.match(y)||a.internalActions.unsubscribeQueryResult.match(y))&&d(y.payload,b),(n.pending.match(y)||n.rejected.match(y)&&y.meta.condition)&&d(y.meta.arg,b),(n.fulfilled.match(y)||n.rejected.match(y)&&!y.meta.condition)&&c(y.meta.arg,b),a.util.resetApiState.match(y)&&h()};function c(y,b){var m=y.queryCacheKey,f=b.getState()[t],j=f.queries[m],$=s.currentSubscriptions[m];if(!(!j||j.status===gt.uninitialized)){var S=p($);if(Number.isFinite(S)){var T=o[m];T!=null&&T.timeout&&(clearTimeout(T.timeout),T.timeout=void 0);var A=Date.now()+S,M=o[m]={nextPollTimestamp:A,pollingInterval:S,timeout:setTimeout(function(){M.timeout=void 0,b.dispatch(i(j,m))},S)}}}}function d(y,b){var m=y.queryCacheKey,f=b.getState()[t],j=f.queries[m],$=s.currentSubscriptions[m];if(!(!j||j.status===gt.uninitialized)){var S=p($);if(!Number.isFinite(S)){u(m);return}var T=o[m],A=Date.now()+S;(!T||A<T.nextPollTimestamp)&&c({queryCacheKey:m},b)}}function u(y){var b=o[y];b!=null&&b.timeout&&clearTimeout(b.timeout),delete o[y]}function h(){for(var y=0,b=Object.keys(o);y<b.length;y++){var m=b[y];u(m)}}function p(y){y===void 0&&(y={});var b=Number.POSITIVE_INFINITY;for(var m in y)y[m].pollingInterval&&(b=Math.min(y[m].pollingInterval,b));return b}return l},w3=function(e){var t=e.reducerPath,n=e.context,a=e.api,i=e.refetchQuery,s=e.internalState,o=a.internalActions.removeQueryResult,l=function(d,u){kd.match(d)&&c(u,"refetchOnFocus"),Pd.match(d)&&c(u,"refetchOnReconnect")};function c(d,u){var h=d.getState()[t],p=h.queries,y=s.currentSubscriptions;n.batch(function(){for(var b=0,m=Object.keys(y);b<m.length;b++){var f=m[b],j=p[f],$=y[f];if(!(!$||!j)){var S=Object.values($).some(function(T){return T[u]===!0})||Object.values($).every(function(T){return T[u]===void 0})&&h.config[u];S&&(Object.keys($).length===0?d.dispatch(o({queryCacheKey:f})):j.status!==gt.uninitialized&&d.dispatch(i(j,f)))}}})}return l},xh=new Error("Promise never resolved before cacheEntryRemoved."),C3=function(e){var t=e.api,n=e.reducerPath,a=e.context,i=e.queryThunk,s=e.mutationThunk;e.internalState;var o=gu(i),l=gu(s),c=mi(i,s),d={},u=function(y,b,m){var f=h(y);if(i.pending.match(y)){var j=m[n].queries[f],$=b.getState()[n].queries[f];!j&&$&&p(y.meta.arg.endpointName,y.meta.arg.originalArgs,f,b,y.meta.requestId)}else if(s.pending.match(y)){var $=b.getState()[n].mutations[f];$&&p(y.meta.arg.endpointName,y.meta.arg.originalArgs,f,b,y.meta.requestId)}else if(c(y)){var S=d[f];S!=null&&S.valueResolved&&(S.valueResolved({data:y.payload,meta:y.meta.baseQueryMeta}),delete S.valueResolved)}else if(t.internalActions.removeQueryResult.match(y)||t.internalActions.removeMutationResult.match(y)){var S=d[f];S&&(delete d[f],S.cacheEntryRemoved())}else if(t.util.resetApiState.match(y))for(var T=0,A=Object.entries(d);T<A.length;T++){var M=A[T],g=M[0],S=M[1];delete d[g],S.cacheEntryRemoved()}};function h(y){return o(y)?y.meta.arg.queryCacheKey:l(y)?y.meta.requestId:t.internalActions.removeQueryResult.match(y)?y.payload.queryCacheKey:t.internalActions.removeMutationResult.match(y)?Ji(y.payload):""}function p(y,b,m,f,j){var $=a.endpointDefinitions[y],S=$==null?void 0:$.onCacheEntryAdded;if(S){var T={},A=new Promise(function(k){T.cacheEntryRemoved=k}),M=Promise.race([new Promise(function(k){T.valueResolved=k}),A.then(function(){throw xh})]);M.catch(function(){}),d[m]=T;var g=t.endpoints[y].select($.type===Qn.query?b:m),D=f.dispatch(function(k,R,O){return O}),P=Hn(Tt({},f),{getCacheEntry:function(){return g(f.getState())},requestId:j,extra:D,updateCachedData:$.type===Qn.query?function(k){return f.dispatch(t.util.updateQueryData(y,b,k))}:void 0,cacheDataLoaded:M,cacheEntryRemoved:A}),C=S(b,P);Promise.resolve(C).catch(function(k){if(k!==xh)throw k})}}return u},$3=function(e){var t=e.api,n=e.context,a=e.queryThunk,i=e.mutationThunk,s=Bf(a,i),o=Uf(a,i),l=mi(a,i),c={},d=function(u,h){var p,y,b;if(s(u)){var m=u.meta,f=m.requestId,j=m.arg,$=j.endpointName,S=j.originalArgs,T=n.endpointDefinitions[$],A=T==null?void 0:T.onQueryStarted;if(A){var M={},g=new Promise(function(I,V){M.resolve=I,M.reject=V});g.catch(function(){}),c[f]=M;var D=t.endpoints[$].select(T.type===Qn.query?S:f),P=h.dispatch(function(I,V,U){return U}),C=Hn(Tt({},h),{getCacheEntry:function(){return D(h.getState())},requestId:f,extra:P,updateCachedData:T.type===Qn.query?function(I){return h.dispatch(t.util.updateQueryData($,S,I))}:void 0,queryFulfilled:g});A(S,C)}}else if(l(u)){var k=u.meta,f=k.requestId,R=k.baseQueryMeta;(p=c[f])==null||p.resolve({data:u.payload,meta:R}),delete c[f]}else if(o(u)){var O=u.meta,f=O.requestId,E=O.rejectedWithValue,R=O.baseQueryMeta;(b=c[f])==null||b.reject({error:(y=u.payload)!=null?y:u.error,isUnhandledError:!E,meta:R}),delete c[f]}};return d},S3=function(e){var t=e.api,n=e.context.apiUid,a=e.reducerPath;return function(i,s){var o,l;t.util.resetApiState.match(i)&&s.dispatch(t.internalActions.middlewareRegistered(n)),typeof process<"u"}},gh,D3=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis):function(e){return(gh||(gh=Promise.resolve())).then(e).catch(function(t){return setTimeout(function(){throw t},0)})},T3=function(e){var t=e.api,n=e.queryThunk,a=e.internalState,i=t.reducerPath+"/subscriptions",s=null,o=!1,l=t.internalActions,c=l.updateSubscriptionOptions,d=l.unsubscribeQueryResult,u=function(h,p){var y,b,m,f,j,$,S,T,A;if(c.match(p)){var M=p.payload,g=M.queryCacheKey,D=M.requestId,P=M.options;return(y=h==null?void 0:h[g])!=null&&y[D]&&(h[g][D]=P),!0}if(d.match(p)){var C=p.payload,g=C.queryCacheKey,D=C.requestId;return h[g]&&delete h[g][D],!0}if(t.internalActions.removeQueryResult.match(p))return delete h[p.payload.queryCacheKey],!0;if(n.pending.match(p)){var k=p.meta,R=k.arg,D=k.requestId;if(R.subscribe){var O=(m=h[b=R.queryCacheKey])!=null?m:h[b]={};return O[D]=(j=(f=R.subscriptionOptions)!=null?f:O[D])!=null?j:{},!0}}if(n.rejected.match(p)){var E=p.meta,I=E.condition,R=E.arg,D=E.requestId;if(I&&R.subscribe){var O=(S=h[$=R.queryCacheKey])!=null?S:h[$]={};return O[D]=(A=(T=R.subscriptionOptions)!=null?T:O[D])!=null?A:{},!0}}return!1};return function(h,p){var y,b;if(s||(s=JSON.parse(JSON.stringify(a.currentSubscriptions))),t.util.resetApiState.match(h))return s=a.currentSubscriptions={},[!0,!1];if(t.internalActions.internal_probeSubscription.match(h)){var m=h.payload,f=m.queryCacheKey,j=m.requestId,$=!!((y=a.currentSubscriptions[f])!=null&&y[j]);return[!1,$]}var S=u(a.currentSubscriptions,h);if(S){o||(D3(function(){var g=JSON.parse(JSON.stringify(a.currentSubscriptions)),D=Wf(s,function(){return g}),P=D[1];p.next(t.internalActions.subscriptionsUpdated(P)),s=g,o=!1}),o=!0);var T=!!((b=h.type)!=null&&b.startsWith(i)),A=n.rejected.match(h)&&h.meta.condition&&!!h.meta.arg.subscribe,M=!T&&!A;return[M,!1]}return[!0,!1]}};function k3(e){var t=e.reducerPath,n=e.queryThunk,a=e.api,i=e.context,s=i.apiUid,o={invalidateTags:fi(t+"/invalidateTags")},l=function(h){return!!h&&typeof h.type=="string"&&h.type.startsWith(t+"/")},c=[S3,y3,b3,j3,C3,$3],d=function(h){var p=!1,y={currentSubscriptions:{}},b=Hn(Tt({},e),{internalState:y,refetchQuery:u}),m=c.map(function($){return $(b)}),f=T3(b),j=w3(b);return function($){return function(S){p||(p=!0,h.dispatch(a.internalActions.middlewareRegistered(s)));var T=Hn(Tt({},h),{next:$}),A=h.getState(),M=f(S,T,A),g=M[0],D=M[1],P;if(g?P=$(S):P=D,h.getState()[t]&&(j(S,T,A),l(S)||i.hasRehydrationInfo(S)))for(var C=0,k=m;C<k.length;C++){var R=k[C];R(S,T,A)}return P}}};return{middleware:d,actions:o};function u(h,p,y){return y===void 0&&(y={}),n(Tt({type:"query",endpointName:h.endpointName,originalArgs:h.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:p},y))}}function Cr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.assign.apply(Object,uo([e],t))}var vh=Symbol(),P3=function(){return{name:vh,init:function(e,t,n){var a=t.baseQuery,i=t.tagTypes,s=t.reducerPath,o=t.serializeQueryArgs,l=t.keepUnusedDataFor,c=t.refetchOnMountOrArgChange,d=t.refetchOnFocus,u=t.refetchOnReconnect;pv();var h=function(X){return typeof process<"u",X};Object.assign(e,{reducerPath:s,endpoints:{},internalActions:{onOnline:Pd,onOffline:ex,onFocus:kd,onFocusLost:Jm},util:{}});var p=p3({baseQuery:a,reducerPath:s,context:n,api:e,serializeQueryArgs:o,assertTagType:h}),y=p.queryThunk,b=p.mutationThunk,m=p.patchQueryData,f=p.updateQueryData,j=p.upsertQueryData,$=p.prefetch,S=p.buildMatchThunkActions,T=f3({context:n,queryThunk:y,mutationThunk:b,reducerPath:s,assertTagType:h,config:{refetchOnFocus:d,refetchOnReconnect:u,refetchOnMountOrArgChange:c,keepUnusedDataFor:l,reducerPath:s}}),A=T.reducer,M=T.actions;Cr(e.util,{patchQueryData:m,updateQueryData:f,upsertQueryData:j,prefetch:$,resetApiState:M.resetApiState}),Cr(e.internalActions,M);var g=k3({reducerPath:s,context:n,queryThunk:y,mutationThunk:b,api:e,assertTagType:h}),D=g.middleware,P=g.actions;Cr(e.util,P),Cr(e,{reducer:A,middleware:D});var C=m3({serializeQueryArgs:o,reducerPath:s}),k=C.buildQuerySelector,R=C.buildMutationSelector,O=C.selectInvalidatedBy;Cr(e.util,{selectInvalidatedBy:O});var E=h3({queryThunk:y,mutationThunk:b,api:e,serializeQueryArgs:o,context:n}),I=E.buildInitiateQuery,V=E.buildInitiateMutation,U=E.getRunningMutationThunk,_=E.getRunningMutationsThunk,z=E.getRunningQueriesThunk,B=E.getRunningQueryThunk,Q=E.getRunningOperationPromises,se=E.removalWarning;return Cr(e.util,{getRunningOperationPromises:Q,getRunningOperationPromise:se,getRunningMutationThunk:U,getRunningMutationsThunk:_,getRunningQueryThunk:B,getRunningQueriesThunk:z}),{name:vh,injectEndpoint:function(X,J){var ie,me,te=e;(me=(ie=te.endpoints)[X])!=null||(ie[X]={}),tx(J)?Cr(te.endpoints[X],{name:X,select:k(X,J),initiate:I(X,J)},S(y,X)):d3(J)&&Cr(te.endpoints[X],{name:X,select:R(),initiate:V(X)},S(b,X))}}}}},E3=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,a=t.length,i=e.length;n<a;n++,i++)e[i]=t[n];return e},A3=Object.defineProperty,I3=Object.defineProperties,M3=Object.getOwnPropertyDescriptors,yh=Object.getOwnPropertySymbols,O3=Object.prototype.hasOwnProperty,R3=Object.prototype.propertyIsEnumerable,bh=function(e,t,n){return t in e?A3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},cr=function(e,t){for(var n in t||(t={}))O3.call(t,n)&&bh(e,n,t[n]);if(yh)for(var a=0,i=yh(t);a<i.length;a++){var n=i[a];R3.call(t,n)&&bh(e,n,t[n])}return e},Vs=function(e,t){return I3(e,M3(t))};function jh(e,t,n,a){var i=x.useMemo(function(){return{queryArgs:e,serialized:typeof e=="object"?t({queryArgs:e,endpointDefinition:n,endpointName:a}):e}},[e,t,n,a]),s=x.useRef(i);return x.useEffect(function(){s.current.serialized!==i.serialized&&(s.current=i)},[i]),s.current.serialized===i.serialized?s.current.queryArgs:e}var Ol=Symbol();function Rl(e){var t=x.useRef(e);return x.useEffect(function(){ro(t.current,e)||(t.current=e)},[e]),ro(t.current,e)?t.current:e}var Ds=WeakMap?new WeakMap:void 0,N3=function(e){var t=e.endpointName,n=e.queryArgs,a="",i=Ds==null?void 0:Ds.get(n);if(typeof i=="string")a=i;else{var s=JSON.stringify(n,function(o,l){return ya(l)?Object.keys(l).sort().reduce(function(c,d){return c[d]=l[d],c},{}):l});ya(n)&&(Ds==null||Ds.set(n,s)),a=s}return t+"("+a+")"},F3=typeof window<"u"&&window.document&&window.document.createElement?x.useLayoutEffect:x.useEffect,L3=function(e){return e},V3=function(e){return e.isUninitialized?Vs(cr({},e),{isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:gt.pending}):e};function z3(e){var t=e.api,n=e.moduleOptions,a=n.batch,i=n.useDispatch,s=n.useSelector,o=n.useStore,l=n.unstable__sideEffectsInRender,c=e.serializeQueryArgs,d=e.context,u=l?function(m){return m()}:x.useEffect;return{buildQueryHooks:y,buildMutationHook:b,usePrefetch:p};function h(m,f,j){if(f!=null&&f.endpointName&&m.isUninitialized){var $=f.endpointName,S=d.endpointDefinitions[$];c({queryArgs:f.originalArgs,endpointDefinition:S,endpointName:$})===c({queryArgs:j,endpointDefinition:S,endpointName:$})&&(f=void 0)}var T=m.isSuccess?m.data:f==null?void 0:f.data;T===void 0&&(T=m.data);var A=T!==void 0,M=m.isLoading,g=!A&&M,D=m.isSuccess||M&&A;return Vs(cr({},m),{data:T,currentData:m.data,isFetching:M,isLoading:g,isSuccess:D})}function p(m,f){var j=i(),$=Rl(f);return x.useCallback(function(S,T){return j(t.util.prefetch(m,S,cr(cr({},$),T)))},[m,j,$])}function y(m){var f=function(S,T){var A=T===void 0?{}:T,M=A.refetchOnReconnect,g=A.refetchOnFocus,D=A.refetchOnMountOrArgChange,P=A.skip,C=P===void 0?!1:P,k=A.pollingInterval,R=k===void 0?0:k,O=t.endpoints[m].initiate,E=i(),I=jh(C?ua:S,N3,d.endpointDefinitions[m],m),V=Rl({refetchOnReconnect:M,refetchOnFocus:g,pollingInterval:R}),U=x.useRef(!1),_=x.useRef(),z=_.current||{},B=z.queryCacheKey,Q=z.requestId,se=!1;if(B&&Q){var X=E(t.internalActions.internal_probeSubscription({queryCacheKey:B,requestId:Q}));se=!!X}var J=!se&&U.current;return u(function(){U.current=se}),u(function(){J&&(_.current=void 0)},[J]),u(function(){var ie,me=_.current;if(typeof process<"u",I===ua){me==null||me.unsubscribe(),_.current=void 0;return}var te=(ie=_.current)==null?void 0:ie.subscriptionOptions;if(!me||me.arg!==I){me==null||me.unsubscribe();var pe=E(O(I,{subscriptionOptions:V,forceRefetch:D}));_.current=pe}else V!==te&&me.updateSubscriptionOptions(V)},[E,O,D,I,V,J]),x.useEffect(function(){return function(){var ie;(ie=_.current)==null||ie.unsubscribe(),_.current=void 0}},[]),x.useMemo(function(){return{refetch:function(){var ie;if(!_.current)throw new Error("Cannot refetch a query that has not been started yet.");return(ie=_.current)==null?void 0:ie.refetch()}}},[])},j=function(S){var T=S===void 0?{}:S,A=T.refetchOnReconnect,M=T.refetchOnFocus,g=T.pollingInterval,D=g===void 0?0:g,P=t.endpoints[m].initiate,C=i(),k=x.useState(Ol),R=k[0],O=k[1],E=x.useRef(),I=Rl({refetchOnReconnect:A,refetchOnFocus:M,pollingInterval:D});u(function(){var _,z,B=(_=E.current)==null?void 0:_.subscriptionOptions;I!==B&&((z=E.current)==null||z.updateSubscriptionOptions(I))},[I]);var V=x.useRef(I);u(function(){V.current=I},[I]);var U=x.useCallback(function(_,z){z===void 0&&(z=!1);var B;return a(function(){var Q;(Q=E.current)==null||Q.unsubscribe(),E.current=B=C(P(_,{subscriptionOptions:V.current,forceRefetch:!z})),O(_)}),B},[C,P]);return x.useEffect(function(){return function(){var _;(_=E==null?void 0:E.current)==null||_.unsubscribe()}},[]),x.useEffect(function(){R!==Ol&&!E.current&&U(R,!0)},[R,U]),x.useMemo(function(){return[U,R]},[U,R])},$=function(S,T){var A=T===void 0?{}:T,M=A.skip,g=M===void 0?!1:M,D=A.selectFromResult,P=t.endpoints[m].select,C=jh(g?ua:S,c,d.endpointDefinitions[m],m),k=x.useRef(),R=x.useMemo(function(){return zi([P(C),function(U,_){return _},function(U){return C}],h)},[P,C]),O=x.useMemo(function(){return D?zi([R],D):R},[R,D]),E=s(function(U){return O(U,k.current)},ro),I=o(),V=R(I.getState(),k.current);return F3(function(){k.current=V},[V]),E};return{useQueryState:$,useQuerySubscription:f,useLazyQuerySubscription:j,useLazyQuery:function(S){var T=j(S),A=T[0],M=T[1],g=$(M,Vs(cr({},S),{skip:M===Ol})),D=x.useMemo(function(){return{lastArg:M}},[M]);return x.useMemo(function(){return[A,g,D]},[A,g,D])},useQuery:function(S,T){var A=f(S,T),M=$(S,cr({selectFromResult:S===ua||T!=null&&T.skip?void 0:V3},T)),g=M.data,D=M.status,P=M.isLoading,C=M.isSuccess,k=M.isError,R=M.error;return x.useDebugValue({data:g,status:D,isLoading:P,isSuccess:C,isError:k,error:R}),x.useMemo(function(){return cr(cr({},M),A)},[M,A])}}}function b(m){return function(f){var j=f===void 0?{}:f,$=j.selectFromResult,S=$===void 0?L3:$,T=j.fixedCacheKey,A=t.endpoints[m],M=A.select,g=A.initiate,D=i(),P=x.useState(),C=P[0],k=P[1];x.useEffect(function(){return function(){C!=null&&C.arg.fixedCacheKey||C==null||C.reset()}},[C]);var R=x.useCallback(function(me){var te=D(g(me,{fixedCacheKey:T}));return k(te),te},[D,g,T]),O=(C||{}).requestId,E=x.useMemo(function(){return zi([M({fixedCacheKey:T,requestId:C==null?void 0:C.requestId})],S)},[M,C,S,T]),I=s(E,ro),V=T==null?C==null?void 0:C.arg.originalArgs:void 0,U=x.useCallback(function(){a(function(){C&&k(void 0),T&&D(t.internalActions.removeMutationResult({requestId:O,fixedCacheKey:T}))})},[D,T,C,O]),_=I.endpointName,z=I.data,B=I.status,Q=I.isLoading,se=I.isSuccess,X=I.isError,J=I.error;x.useDebugValue({endpointName:_,data:z,status:B,isLoading:Q,isSuccess:se,isError:X,error:J});var ie=x.useMemo(function(){return Vs(cr({},I),{originalArgs:V,reset:U})},[I,V,U]);return x.useMemo(function(){return[R,ie]},[R,ie])}}}var fo;(function(e){e.query="query",e.mutation="mutation"})(fo||(fo={}));function _3(e){return e.type===fo.query}function W3(e){return e.type===fo.mutation}function Nl(e){return e.replace(e[0],e[0].toUpperCase())}function Ts(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.assign.apply(Object,E3([e],t))}var B3=Symbol(),U3=function(e){var t=e===void 0?{}:e,n=t.batch,a=n===void 0?ud.unstable_batchedUpdates:n,i=t.useDispatch,s=i===void 0?Ta:i,o=t.useSelector,l=o===void 0?_o:o,c=t.useStore,d=c===void 0?vv:c,u=t.unstable__sideEffectsInRender,h=u===void 0?!1:u;return{name:B3,init:function(p,y,b){var m=y.serializeQueryArgs,f=p,j=z3({api:p,moduleOptions:{batch:a,useDispatch:s,useSelector:l,useStore:d,unstable__sideEffectsInRender:h},serializeQueryArgs:m,context:b}),$=j.buildQueryHooks,S=j.buildMutationHook,T=j.usePrefetch;return Ts(f,{usePrefetch:T}),Ts(b,{batch:a}),{injectEndpoint:function(A,M){if(_3(M)){var g=$(A),D=g.useQuery,P=g.useLazyQuery,C=g.useLazyQuerySubscription,k=g.useQueryState,R=g.useQuerySubscription;Ts(f.endpoints[A],{useQuery:D,useLazyQuery:P,useLazyQuerySubscription:C,useQueryState:k,useQuerySubscription:R}),p["use"+Nl(A)+"Query"]=D,p["useLazy"+Nl(A)+"Query"]=P}else if(W3(M)){var O=S(A);Ts(f.endpoints[A],{useMutation:O}),p["use"+Nl(A)+"Mutation"]=O}}}}}},Zo=x3(P3(),U3());const q3=()=>{const e="production";console.log("🚀 ~ explicitMode:",e);const t=e;console.log("🚀 ~ mode:",t);const n=t==="development",a=t==="production";let i;return i="https://fleet-credit-system-oxtz.vercel.app/",{apiUrl:i,isDevelopment:n,isProduction:a,appVersion:{}.VITE_APP_VERSION||"1.0.0",appName:{}.VITE_APP_NAME||"Fleet Management System",enableLogging:{}.VITE_ENABLE_LOGGING==="true"||n,tokenStorageKey:{}.VITE_TOKEN_STORAGE_KEY||"authToken",themeStorageKey:{}.VITE_THEME_STORAGE_KEY||"themeMode",defaultRowsPerPage:parseInt({}.VITE_DEFAULT_ROWS_PER_PAGE||"25"),enableDevTools:{}.VITE_ENABLE_REDUX_DEVTOOLS==="true"||n}},H3=q3(),ds=()=>H3.apiUrl,Ut={CUSTOMERS:"/customers",ENDORSERS:"/endorsers",VEHICLES:"/vehicles",CONTRACTS:"/contracts",ASSETS:"/assets",AUDIT:"/audit",AUTH:{LOGIN:"/auth/login",LOGOUT:"/auth/logout",REFRESH:"/auth/refresh"}},zs=Zo({reducerPath:"auditApi",baseQuery:Ko({baseUrl:ds(),prepareHeaders:e=>{const t=localStorage.getItem("authToken");return t&&e.set("authorization",`Bearer ${t}`),e}}),endpoints:e=>({getAuditLogs:e.query({query:t=>({url:Ut.AUDIT,params:{search:t.search,limit:t.limit,offset:t.offset,entityId:t.entityId,entityType:t.entityType,userId:t.userId,eventTypes:t.eventTypes?t.eventTypes.join(","):void 0,startDate:t.startDate,endDate:t.endDate}}),transformResponse:(t,n)=>{var s,o,l;let a,i;return Array.isArray(t)?(a=t,i=parseInt(((s=n==null?void 0:n.response)==null?void 0:s.headers.get("X-Total-Count"))||"0",10)):t&&typeof t=="object"&&"data"in t&&Array.isArray(t.data)?(a=t.data,i=((o=t.meta)==null?void 0:o.total)||a.length):t&&typeof t=="object"&&"logs"in t&&Array.isArray(t.logs)?(a=t.logs,i=((l=t.meta)==null?void 0:l.total)||a.length):(console.warn("Unexpected audit logs response structure:",t),a=[],i=0),{data:a,total:i}}}),getCustomerLogs:e.query({query:t=>({url:`/audit/entity/customer/${t.customerId}`,params:{limit:t.limit,offset:t.offset,search:t.search,eventTypes:t.eventTypes?t.eventTypes.join(","):void 0,startDate:t.startDate,endDate:t.endDate}}),transformResponse:(t,n)=>{var s,o,l;let a,i;return Array.isArray(t)?(a=t,i=parseInt(((s=n==null?void 0:n.response)==null?void 0:s.headers.get("X-Total-Count"))||"0",10)):t&&typeof t=="object"&&"data"in t&&Array.isArray(t.data)?(a=t.data,i=((o=t.meta)==null?void 0:o.total)||a.length):t&&typeof t=="object"&&"logs"in t&&Array.isArray(t.logs)?(a=t.logs,i=((l=t.meta)==null?void 0:l.total)||a.length):(console.warn("Unexpected customer logs response structure:",t),a=[],i=0),{data:a,total:i}}})})}),{useGetAuditLogsQuery:Y3,useGetCustomerLogsQuery:$A}=zs,_s=Zo({reducerPath:"contractApi",baseQuery:Ko({baseUrl:ds(),prepareHeaders:e=>{const t=localStorage.getItem("authToken");return t&&e.set("authorization",`Bearer ${t}`),e}}),tagTypes:["Contract","Customer","Vehicle","Endorser"],endpoints:e=>({createContract:e.mutation({query:t=>(console.log("🚀 Creating contract with data:",JSON.stringify(t,null,2)),{url:"/contracts/with-dependencies",method:"POST",body:t}),invalidatesTags:["Contract","Vehicle"],transformErrorResponse:t=>(console.error("❌ Contract creation failed:",t),t)}),createContractWithDependencies:e.mutation({query:t=>(console.log("🚀 Creating contract with dependencies:",JSON.stringify(t,null,2)),{url:"/contracts/with-dependencies",method:"POST",body:t}),invalidatesTags:["Contract","Vehicle"],transformErrorResponse:t=>(console.error("❌ Contract creation with dependencies failed:",t),t)}),getContract:e.query({query:t=>`/contracts/${t}`,providesTags:(t,n,a)=>[{type:"Contract",id:a}]}),getContracts:e.query({query:t=>({url:"/contracts",params:t}),providesTags:["Contract"]}),getCustomers:e.query({query:t=>({url:"/customers",params:t}),providesTags:["Customer"],transformResponse:t=>{let n;return Array.isArray(t)?n=t:t&&typeof t=="object"&&"data"in t&&Array.isArray(t.data)?n=t.data:t&&typeof t=="object"&&"customers"in t&&Array.isArray(t.customers)?n=t.customers:(console.warn("Unexpected customers response structure:",t),n=[]),n.map(a=>({id:a.id,name:a.type==="individual"?`${a.firstName} ${a.lastName}`.trim():a.legalName||a.administratorName,type:a.type,email:a.email,phone:a.phone}))}}),getCustomer:e.query({query:t=>`/customers/${t}`,providesTags:(t,n,a)=>[{type:"Customer",id:a}],transformResponse:t=>({id:t.id,name:t.type==="individual"?`${t.firstName} ${t.lastName}`.trim():t.legalName||t.administratorName,type:t.type,email:t.email,phone:t.phone})}),getAvailableVehicles:e.query({query:t=>({url:"/vehicles",params:t}),providesTags:["Vehicle"],transformResponse:t=>{let n;return Array.isArray(t)?n=t:t&&typeof t=="object"&&"data"in t&&Array.isArray(t.data)?n=t.data:t&&typeof t=="object"&&"vehicles"in t&&Array.isArray(t.vehicles)?n=t.vehicles:(console.warn("Unexpected vehicles response structure:",t),n=[]),n.map(a=>({id:a.id,make:a.make,model:a.model,year:a.year,licensePlate:a.licensePlate,vinNumber:a.vin,status:a.status}))}}),getVehicle:e.query({query:t=>`/vehicles/${t}`,providesTags:(t,n,a)=>[{type:"Vehicle",id:a}],transformResponse:t=>({id:t.id,make:t.make,model:t.model,year:t.year,licensePlate:t.licensePlate,vinNumber:t.vinNumber,status:t.status})}),getEndorsers:e.query({query:t=>({url:"/endorsers",params:t}),providesTags:["Endorser"],transformResponse:t=>{let n;return Array.isArray(t)?n=t:t&&typeof t=="object"&&"data"in t&&Array.isArray(t.data)?n=t.data:t&&typeof t=="object"&&"endorsers"in t&&Array.isArray(t.endorsers)?n=t.endorsers:(console.warn("Unexpected endorsers response structure:",t),n=[]),n.map(a=>({id:a.id,firstName:a.firstName,lastName:a.lastName,email:a.email,phone:a.phone,idNumber:a.idNumber,relationshipToCustomer:a.relationshipToCustomer}))}}),getEndorser:e.query({query:t=>`/endorsers/${t}`,providesTags:(t,n,a)=>[{type:"Endorser",id:a}],transformResponse:t=>({id:t.id,firstName:t.firstName,lastName:t.lastName,email:t.email,phone:t.phone,idNumber:t.idNumber,relationshipToCustomer:t.relationshipToCustomer})}),generateContractNumber:e.query({query:t=>({url:`/generate-number?type=${t}`})}),calculateLoanPayment:e.query({query:t=>({url:"/calculate-payment",params:t})})})}),{useCreateContractMutation:SA,useCreateContractWithDependenciesMutation:G3,useGetContractQuery:Q3,useGetContractsQuery:K3,useGetCustomersQuery:Z3,useGetCustomerQuery:DA,useGetAvailableVehiclesQuery:X3,useGetVehicleQuery:TA,useGetEndorsersQuery:J3,useGetEndorserQuery:kA,useGenerateContractNumberQuery:PA,useCalculateLoanPaymentQuery:EA}=_s;var zn=(e=>(e.ID_CARD="id_card",e.INSURANCE="insurance",e.TPL="tpl",e.CASCO="casco",e.DRIVING_PERMIT="driving_permit",e.CUSTOMER_REGISTRATION="customer_registration",e.ENDORSER_ID="endorser_id",e.CONTRACT_AGREEMENT="contract_agreement",e.OTHER="other",e))(zn||{});const Ws=Zo({reducerPath:"contractDocumentApi",baseQuery:Ko({baseUrl:ds(),prepareHeaders:e=>{const t=localStorage.getItem("authToken");return t&&e.set("authorization",`Bearer ${t}`),e}}),tagTypes:["ContractDocument"],endpoints:e=>({testConnection:e.query({query:()=>"/"}),uploadDocument:e.mutation({query:({file:t,data:n,sessionKey:a})=>{const i=new FormData;i.append("file",t),i.append("type",n.type),i.append("title",n.title),i.append("customerId",n.customerId),i.append("sessionKey",a),n.description&&i.append("description",n.description),n.endorserId&&i.append("endorserId",n.endorserId),n.metadata&&Object.entries(n.metadata).forEach(([s,o])=>{o!=null&&i.append(`metadata[${s}]`,String(o))}),n.expiryDate&&i.append("expiryDate",n.expiryDate),console.log("🔗 API Request Details:"),console.log("URL:",`/contract-documents/upload?sessionKey=${a}`),console.log("Method: POST"),console.log("Session Key:",a),console.log("FormData entries:");for(let[s,o]of i.entries())console.log(`  ${s}:`,o);return{url:`/contract-documents/upload?sessionKey=${a}`,method:"POST",body:i}},invalidatesTags:["ContractDocument"]}),getContractDocuments:e.query({query:t=>`/contract-documents/contract/${t}`,providesTags:["ContractDocument"]}),getDocumentRequirements:e.query({query:t=>`/contract-documents/contract/${t}/requirements`,providesTags:["ContractDocument"]}),updateDocumentStatus:e.mutation({query:({documentId:t,status:n})=>({url:`/contract-documents/${t}/status`,method:"PATCH",body:{status:n}}),invalidatesTags:["ContractDocument"]}),deleteDocument:e.mutation({query:t=>({url:`/contract-documents/${t}`,method:"DELETE"}),invalidatesTags:["ContractDocument"]}),generateContractAgreement:e.mutation({query:t=>({url:`/contract-documents/contract/${t}/generate-agreement`,method:"POST"}),invalidatesTags:["ContractDocument"]}),removePendingDocument:e.mutation({query:({documentId:t,sessionKey:n})=>({url:`/contract-documents/pending/${t}?sessionKey=${n}`,method:"DELETE"}),invalidatesTags:["ContractDocument"]}),replacePendingDocument:e.mutation({query:({documentId:t,sessionKey:n,file:a,metadata:i})=>{const s=new FormData;return s.append("file",a),i&&s.append("metadata",JSON.stringify(i)),{url:`/contract-documents/pending/${t}/replace?sessionKey=${n}`,method:"POST",body:s}},invalidatesTags:["ContractDocument"]})})}),{useTestConnectionQuery:ew,useUploadDocumentMutation:tw,useGetContractDocumentsQuery:AA,useGetDocumentRequirementsQuery:IA,useUpdateDocumentStatusMutation:MA,useDeleteDocumentMutation:OA,useGenerateContractAgreementMutation:RA,useRemovePendingDocumentMutation:NA,useReplacePendingDocumentMutation:nw}=Ws,Bs=Zo({reducerPath:"paymentsApi",baseQuery:Ko({baseUrl:ds(),prepareHeaders:e=>(e.set("Accept","application/json"),e.set("Content-Type","application/json"),e)}),tagTypes:["Payment","CustomerCredit"],endpoints:e=>({getPayments:e.query({query:(t={})=>{const n=new URLSearchParams,a={limit:10,...t};return Object.entries(a).forEach(([i,s])=>{s!=null&&s!==""&&n.append(i,String(s))}),console.log("Payment API request URL:",`/payments?${n.toString()}`),`/payments?${n.toString()}`},providesTags:["Payment"],transformResponse:t=>{var i;if(console.log("Payments API response:",t),t&&typeof t=="object"&&"data"in t&&Array.isArray(t.data)){const s=t.data,o=t.meta||{},l=o.total||s.length;return console.log("Transformed payments:",s),console.log("Meta information:",o),console.log("Total count:",l),{payments:s,total:l,meta:o}}let n,a;return Array.isArray(t)?(n=t,a=t.length):t&&typeof t=="object"&&"payments"in t&&Array.isArray(t.payments)?(n=t.payments,a=((i=t.meta)==null?void 0:i.total)||n.length):(console.warn("Unexpected payments response structure:",t),n=[],a=0),console.log("Transformed payments (fallback):",n),console.log("Total count (fallback):",a),{payments:n,total:a,meta:(t==null?void 0:t.meta)||{}}}}),getPaymentById:e.query({query:t=>`/payments/${t}`,providesTags:(t,n,a)=>[{type:"Payment",id:a}]}),getPaymentsByContract:e.query({query:({contractId:t,status:n,limit:a,offset:i})=>{const s=new URLSearchParams;return n&&s.append("status",n),a&&s.append("limit",String(a)),i&&s.append("offset",String(i)),`/payments/contract/${t}?${s.toString()}`},providesTags:(t,n,{contractId:a})=>[{type:"Payment",id:`contract-${a}`}],transformResponse:t=>{let n;return Array.isArray(t)?n=t:t&&typeof t=="object"&&"data"in t&&Array.isArray(t.data)?n=t.data:t&&typeof t=="object"&&"payments"in t&&Array.isArray(t.payments)?n=t.payments:(console.warn("Unexpected payments response structure:",t),n=[]),n}}),getPaymentsByCustomer:e.query({query:({customerId:t,status:n,limit:a,offset:i})=>{const s=new URLSearchParams;return n&&s.append("status",n),a&&s.append("limit",String(a)),i&&s.append("offset",String(i)),`/customer/${t}?${s.toString()}`},providesTags:(t,n,{customerId:a})=>[{type:"Payment",id:`customer-${a}`}],transformResponse:t=>{let n;return Array.isArray(t)?n=t:t&&typeof t=="object"&&"data"in t&&Array.isArray(t.data)?n=t.data:t&&typeof t=="object"&&"payments"in t&&Array.isArray(t.payments)?n=t.payments:(console.warn("Unexpected payments response structure:",t),n=[]),n}}),createPayment:e.mutation({query:t=>({url:"/payments",method:"POST",body:t}),invalidatesTags:["Payment"]}),updatePayment:e.mutation({query:({id:t,data:n})=>({url:`/payments/${t}`,method:"PUT",body:n}),invalidatesTags:(t,n,{id:a})=>[{type:"Payment",id:a},"Payment"]}),deletePayment:e.mutation({query:t=>({url:`/payments/${t}`,method:"DELETE"}),invalidatesTags:(t,n,a)=>[{type:"Payment",id:a},"Payment"]}),registerPayment:e.mutation({query:({contractId:t,data:n})=>({url:`/payments/register/${t}`,method:"POST",body:n}),invalidatesTags:["Payment"]}),markPaymentAsPaid:e.mutation({query:({id:t,data:n})=>({url:`/payments/${t}/mark-paid`,method:"PATCH",body:n}),invalidatesTags:(t,n,{id:a})=>[{type:"Payment",id:a},"Payment","CustomerCredit"]}),markPaymentAsPaidWithCredit:e.mutation({query:({id:t,data:n})=>({url:`/payments/${t}/mark-paid-with-credit`,method:"PATCH",body:n}),invalidatesTags:(t,n,{id:a})=>[{type:"Payment",id:a},"Payment","CustomerCredit"]}),getCustomerCreditBalance:e.query({query:t=>`/payments/customer/${t}/credit-balance`,providesTags:(t,n,a)=>[{type:"CustomerCredit",id:a}]})})}),{useGetPaymentsQuery:rw,useGetPaymentByIdQuery:aw,useGetPaymentsByContractQuery:FA,useGetPaymentsByCustomerQuery:LA,useCreatePaymentMutation:VA,useUpdatePaymentMutation:zA,useDeletePaymentMutation:_A,useRegisterPaymentMutation:WA,useMarkPaymentAsPaidMutation:BA,useMarkPaymentAsPaidWithCreditMutation:UA,useGetCustomerCreditBalanceQuery:qA}=Bs,iw=yv({reducer:{customers:qj,vehicles:Qj,audits:Zj,[zs.reducerPath]:zs.reducer,[_s.reducerPath]:_s.reducer,[Ws.reducerPath]:Ws.reducer,[Bs.reducerPath]:Bs.reducer},middleware:e=>e().concat(zs.middleware).concat(_s.middleware).concat(Ws.middleware).concat(Bs.middleware)}),$t="#0f172a",Fl="#1e293b",sw="#020617",St="#3b82f6",Kr="#6366f1",Zr="#10b981",Xr="#f59e0b",ir="#ef4444",Jr="#06b6d4",ow="#64748b",wh={background:"#fafafa",paper:"#ffffff",elevated:"#f8fafc",accent:"#f1f5f9"},lw=$f({palette:{mode:"light",primary:{main:$t,light:Fl,dark:sw,contrastText:"#ffffff"},secondary:{main:Kr,light:F(Kr,.8),dark:"#4f46e5",contrastText:"#ffffff"},success:{main:Zr,light:"#34d399",dark:"#047857",contrastText:"#ffffff"},warning:{main:Xr,light:"#fbbf24",dark:"#d97706",contrastText:"#ffffff"},error:{main:ir,light:"#f87171",dark:"#dc2626",contrastText:"#ffffff"},info:{main:Jr,light:"#67e8f9",dark:"#0891b2",contrastText:"#ffffff"},grey:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:ow,600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a"},background:{default:wh.background,paper:wh.paper},text:{primary:"#0f172a",secondary:"#475569",disabled:"#94a3b8"},divider:F("#e2e8f0",.8),action:{active:$t,hover:F(St,.04),selected:F(St,.08),disabled:"#cbd5e1",disabledBackground:"#f1f5f9",focus:F(St,.12)}},typography:{fontFamily:["Inter","SF Pro Display","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(","),fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500,fontWeightBold:600,h1:{fontSize:"3rem",fontWeight:700,lineHeight:1.167,letterSpacing:"-0.02em",color:"#0f172a",marginBottom:"0.5em"},h2:{fontSize:"2.25rem",fontWeight:700,lineHeight:1.2,letterSpacing:"-0.015em",color:"#0f172a",marginBottom:"0.5em"},h3:{fontSize:"1.875rem",fontWeight:600,lineHeight:1.267,letterSpacing:"-0.01em",color:"#0f172a",marginBottom:"0.5em"},h4:{fontSize:"1.5rem",fontWeight:600,lineHeight:1.334,letterSpacing:"-0.005em",color:"#0f172a",marginBottom:"0.5em"},h5:{fontSize:"1.25rem",fontWeight:600,lineHeight:1.4,color:"#0f172a",marginBottom:"0.5em"},h6:{fontSize:"1.125rem",fontWeight:600,lineHeight:1.4,color:"#0f172a",marginBottom:"0.5em"},subtitle1:{fontSize:"1rem",fontWeight:500,lineHeight:1.5,color:"#475569",letterSpacing:"0.01em"},subtitle2:{fontSize:"0.875rem",fontWeight:500,lineHeight:1.5,color:"#475569",letterSpacing:"0.01em"},body1:{fontSize:"1rem",lineHeight:1.6,color:"#334155",letterSpacing:"0.005em"},body2:{fontSize:"0.875rem",lineHeight:1.5,color:"#334155",letterSpacing:"0.005em"},button:{fontSize:"0.875rem",fontWeight:600,letterSpacing:"0.02em",textTransform:"none"},caption:{fontSize:"0.75rem",lineHeight:1.5,color:"#64748b",letterSpacing:"0.03em"},overline:{fontSize:"0.75rem",fontWeight:700,letterSpacing:"0.08em",textTransform:"uppercase",color:"#64748b"}},shape:{borderRadius:12},shadows:["none","0px 1px 2px rgba(15, 23, 42, 0.05)","0px 2px 4px rgba(15, 23, 42, 0.06)","0px 4px 8px rgba(15, 23, 42, 0.06)","0px 6px 12px rgba(15, 23, 42, 0.08)","0px 8px 16px rgba(15, 23, 42, 0.08)","0px 12px 20px rgba(15, 23, 42, 0.10)","0px 16px 24px rgba(15, 23, 42, 0.10)","0px 20px 28px rgba(15, 23, 42, 0.12)","0px 24px 32px rgba(15, 23, 42, 0.12)","0px 28px 36px rgba(15, 23, 42, 0.14)","0px 32px 40px rgba(15, 23, 42, 0.14)","0px 36px 44px rgba(15, 23, 42, 0.16)","0px 40px 48px rgba(15, 23, 42, 0.16)","0px 44px 52px rgba(15, 23, 42, 0.18)","0px 48px 56px rgba(15, 23, 42, 0.18)","0px 52px 60px rgba(15, 23, 42, 0.20)","0px 56px 64px rgba(15, 23, 42, 0.20)","0px 60px 68px rgba(15, 23, 42, 0.22)","0px 64px 72px rgba(15, 23, 42, 0.22)","0px 68px 76px rgba(15, 23, 42, 0.24)","0px 72px 80px rgba(15, 23, 42, 0.24)","0px 76px 84px rgba(15, 23, 42, 0.26)","0px 80px 88px rgba(15, 23, 42, 0.26)","0px 80px 88px rgba(15, 23, 42, 0.26)"],components:{MuiCssBaseline:{styleOverrides:{"*":{boxSizing:"border-box"},html:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",height:"100%",width:"100%"},body:{height:"100%"},"#root":{height:"100%"},"#nprogress .bar":{backgroundColor:St,zIndex:2e3,height:"3px"},"#nprogress .peg":{boxShadow:`0 0 10px ${St}, 0 0 5px ${St}`}}},MuiButton:{defaultProps:{disableElevation:!1},styleOverrides:{root:{textTransform:"none",fontWeight:600,borderRadius:10,padding:"10px 20px",fontSize:"0.875rem",letterSpacing:"0.02em",transition:"all 200ms cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden","&:before":{content:'""',position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)",transition:"left 600ms"},"&:hover":{transform:"translateY(-2px)","&:before":{left:"100%"}},"&:active":{transform:"translateY(0px)"}},contained:{color:"#ffffff",background:`linear-gradient(135deg, ${$t} 0%, ${Fl} 100%)`,boxShadow:`0 4px 14px 0 ${F($t,.25)}`,"&:hover":{background:`linear-gradient(135deg, ${Fl} 0%, ${$t} 100%)`,boxShadow:`0 6px 20px 0 ${F($t,.35)}`},"&:disabled":{background:"#e2e8f0",color:"#94a3b8",boxShadow:"none"}},outlined:{borderWidth:"1.5px",borderColor:F($t,.3),color:$t,background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)","&:hover":{borderWidth:"1.5px",borderColor:$t,background:F($t,.04),boxShadow:`0 4px 12px 0 ${F($t,.15)}`}},text:{color:$t,"&:hover":{background:F($t,.04)}},sizeSmall:{padding:"6px 16px",fontSize:"0.8125rem",borderRadius:8},sizeLarge:{padding:"12px 24px",fontSize:"0.9375rem",borderRadius:12}}},MuiCard:{defaultProps:{elevation:0},styleOverrides:{root:{borderRadius:16,padding:"24px",background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:`1px solid ${F("#e2e8f0",.8)}`,transition:"all 300ms cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden","&:before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"1px",background:`linear-gradient(90deg, transparent, ${F("#ffffff",.8)}, transparent)`},"&:hover":{transform:"translateY(-4px)",boxShadow:`0 12px 24px ${F($t,.08)}`,borderColor:F(St,.2),background:"rgba(255, 255, 255, 0.95)"}}}},MuiCardHeader:{styleOverrides:{root:{padding:"24px 24px 0"},title:{fontSize:"1.125rem",fontWeight:600}}},MuiCardContent:{styleOverrides:{root:{padding:"24px","&:last-child":{paddingBottom:"24px"}}}},MuiCardActions:{styleOverrides:{root:{padding:"0 24px 24px",justifyContent:"flex-end"}}},MuiPaper:{defaultProps:{elevation:0},styleOverrides:{root:{backgroundImage:"none",borderRadius:12,background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(20px)",border:`1px solid ${F("#e2e8f0",.6)}`},elevation1:{boxShadow:`0 2px 8px ${F("#0f172a",.04)}`},elevation2:{boxShadow:`0 4px 12px ${F("#0f172a",.06)}`},elevation3:{boxShadow:`0 8px 16px ${F("#0f172a",.08)}`},outlined:{borderColor:F("#e2e8f0",.8),background:"rgba(248, 250, 252, 0.8)"}}},MuiTableCell:{styleOverrides:{root:{padding:"16px 20px",borderBottom:`1px solid ${F("#e2e8f0",.6)}`,fontSize:"0.875rem"},head:{fontSize:"0.8125rem",fontWeight:700,color:"#0f172a",backgroundColor:F("#f8fafc",.8),borderBottom:`2px solid ${F("#e2e8f0",.8)}`,letterSpacing:"0.05em",textTransform:"uppercase"},body:{fontSize:"0.875rem",color:"#334155"}}},MuiTableHead:{styleOverrides:{root:{background:`linear-gradient(135deg, ${F("#f8fafc",.9)} 0%, ${F("#f1f5f9",.9)} 100%)`,backdropFilter:"blur(10px)"}}},MuiTableRow:{styleOverrides:{root:{transition:"all 150ms ease","&:nth-of-type(even)":{backgroundColor:F("#f8fafc",.3)},"&:last-child td":{borderBottom:0},"&:hover":{backgroundColor:F(St,.04),transform:"scale(1.005)",boxShadow:`0 2px 8px ${F(St,.08)}`}}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:10,background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",transition:"all 200ms ease","& fieldset":{borderColor:F("#cbd5e1",.8),borderWidth:"1.5px"},"&:hover fieldset":{borderColor:F("#94a3b8",.9)},"&.Mui-focused fieldset":{borderColor:St,borderWidth:"2px",boxShadow:`0 0 0 3px ${F(St,.1)}`},"&.Mui-error fieldset":{borderColor:ir,"&:focus":{boxShadow:`0 0 0 3px ${F(ir,.1)}`}}},"& .MuiInputLabel-root":{fontSize:"0.875rem",fontWeight:500,"&.Mui-focused":{color:St,fontWeight:600}}}}},MuiInputBase:{styleOverrides:{input:{"&::placeholder":{color:"#94a3b8",opacity:1}}}},MuiOutlinedInput:{styleOverrides:{root:{borderRadius:8,"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#94a3b8"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:$t,borderWidth:"1.5px"}},notchedOutline:{borderColor:"#cbd5e1",transition:"all 0.2s ease-in-out"}}},MuiFormLabel:{styleOverrides:{root:{fontSize:"0.875rem",color:"#64748b","&.Mui-focused":{color:$t}}}},MuiChip:{styleOverrides:{root:{borderRadius:8,fontWeight:600,fontSize:"0.8125rem",height:32,transition:"all 200ms ease","&:hover":{transform:"translateY(-1px)",boxShadow:`0 4px 8px ${F("#0f172a",.1)}`},"&.MuiChip-colorPrimary":{background:`linear-gradient(135deg, ${F($t,.1)} 0%, ${F($t,.15)} 100%)`,color:$t,border:`1px solid ${F($t,.2)}`},"&.MuiChip-colorSecondary":{background:`linear-gradient(135deg, ${F(Kr,.1)} 0%, ${F(Kr,.15)} 100%)`,color:Kr,border:`1px solid ${F(Kr,.2)}`},"&.MuiChip-colorSuccess":{background:`linear-gradient(135deg, ${F(Zr,.1)} 0%, ${F(Zr,.15)} 100%)`,color:Zr,border:`1px solid ${F(Zr,.2)}`},"&.MuiChip-colorError":{background:`linear-gradient(135deg, ${F(ir,.1)} 0%, ${F(ir,.15)} 100%)`,color:ir,border:`1px solid ${F(ir,.2)}`},"&.MuiChip-colorWarning":{background:`linear-gradient(135deg, ${F(Xr,.1)} 0%, ${F(Xr,.15)} 100%)`,color:Xr,border:`1px solid ${F(Xr,.2)}`},"&.MuiChip-colorInfo":{background:`linear-gradient(135deg, ${F(Jr,.1)} 0%, ${F(Jr,.15)} 100%)`,color:Jr,border:`1px solid ${F(Jr,.2)}`}}}},MuiAlert:{styleOverrides:{root:{borderRadius:8,padding:"12px 16px"},standardSuccess:{backgroundColor:F(Zr,.1),color:Zr},standardError:{backgroundColor:F(ir,.1),color:ir},standardWarning:{backgroundColor:F(Xr,.1),color:Xr},standardInfo:{backgroundColor:F(Jr,.1),color:Jr}}},MuiAvatar:{styleOverrides:{root:{backgroundColor:F($t,.1),color:$t,fontWeight:600}}},MuiListItem:{styleOverrides:{root:{paddingTop:8,paddingBottom:8,transition:"all 0.15s ease"}}},MuiListItemButton:{styleOverrides:{root:{borderRadius:10,margin:"2px 8px",transition:"all 200ms cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{backgroundColor:F(St,.06),transform:"translateX(4px)"},"&.Mui-selected":{background:`linear-gradient(135deg, ${F(St,.1)} 0%, ${F(St,.15)} 100%)`,borderLeft:`3px solid ${St}`,"&:hover":{background:`linear-gradient(135deg, ${F(St,.15)} 0%, ${F(St,.2)} 100%)`},"& .MuiListItemIcon-root":{color:St},"& .MuiTypography-root":{color:St,fontWeight:600}}}}},MuiDrawer:{styleOverrides:{paper:{border:"none",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",boxShadow:`4px 0 24px ${F("#0f172a",.08)}`}}},MuiAppBar:{styleOverrides:{root:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",color:"#0f172a",border:"none",borderBottom:`1px solid ${F("#e2e8f0",.6)}`,boxShadow:`0 1px 3px ${F("#0f172a",.04)}`}}},MuiTabs:{styleOverrides:{root:{"& .MuiTabs-indicator":{height:3,borderTopLeftRadius:3,borderTopRightRadius:3}}}},MuiTab:{styleOverrides:{root:{textTransform:"none",fontWeight:500,minWidth:100,"&.Mui-selected":{fontWeight:600}}}},MuiAccordion:{styleOverrides:{root:{borderRadius:8,"&:before":{display:"none"},"&.Mui-expanded":{boxShadow:"0px 4px 8px rgba(15, 23, 42, 0.08)"}}}},MuiAccordionSummary:{styleOverrides:{root:{borderRadius:8,"&.Mui-expanded":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},MuiAccordionDetails:{styleOverrides:{root:{paddingTop:0}}},MuiSkeleton:{styleOverrides:{root:{backgroundColor:F("#64748b",.1),borderRadius:4}}},MuiTooltip:{styleOverrides:{tooltip:{backgroundColor:"rgba(15, 23, 42, 0.9)",backdropFilter:"blur(10px)",borderRadius:8,fontSize:"0.75rem",fontWeight:500,padding:"8px 12px",boxShadow:`0 4px 12px ${F("#0f172a",.2)}`},arrow:{color:"rgba(15, 23, 42, 0.9)"}}},MuiSwitch:{styleOverrides:{root:{width:48,height:28,padding:0},switchBase:{padding:2,transition:"transform 200ms ease","&.Mui-checked":{transform:"translateX(20px)",color:"#fff","& + .MuiSwitch-track":{opacity:1,background:`linear-gradient(135deg, ${St} 0%, ${Kr} 100%)`,borderColor:"transparent"},"& .MuiSwitch-thumb":{boxShadow:`0 2px 8px ${F(St,.3)}`}},"&:hover":{backgroundColor:"transparent","& .MuiSwitch-thumb":{transform:"scale(1.1)"}}},thumb:{width:24,height:24,borderRadius:"50%",background:"#ffffff",boxShadow:`0 2px 8px ${F("#0f172a",.15)}`,transition:"all 200ms ease"},track:{borderRadius:14,opacity:1,backgroundColor:F("#cbd5e1",.8),border:`1px solid ${F("#e2e8f0",.8)}`,transition:"all 200ms ease"}}}}}),It="#f1f5f9",Ll="#f8fafc",cw="#e2e8f0",Dt="#60a5fa",ea="#a78bfa",ta="#34d399",na="#fbbf24",sr="#f87171",ra="#67e8f9",dw="#94a3b8",Ch={background:"#0f172a",paper:"#1e293b",elevated:"#334155",accent:"#475569"},uw=$f({palette:{mode:"dark",primary:{main:It,light:Ll,dark:cw,contrastText:"#0f172a"},secondary:{main:ea,light:F(ea,.8),dark:"#8b5cf6",contrastText:"#0f172a"},success:{main:ta,light:"#6ee7b7",dark:"#10b981",contrastText:"#0f172a"},warning:{main:na,light:"#fcd34d",dark:"#f59e0b",contrastText:"#0f172a"},error:{main:sr,light:"#fca5a5",dark:"#ef4444",contrastText:"#0f172a"},info:{main:ra,light:"#a7f3d0",dark:"#06b6d4",contrastText:"#0f172a"},grey:{50:"#0f172a",100:"#1e293b",200:"#334155",300:"#475569",400:"#64748b",500:dw,600:"#cbd5e1",700:"#e2e8f0",800:"#f1f5f9",900:"#f8fafc"},background:{default:Ch.background,paper:Ch.paper},text:{primary:"#f8fafc",secondary:"#cbd5e1",disabled:"#64748b"},divider:F("#475569",.8),action:{active:It,hover:F(Dt,.08),selected:F(Dt,.12),disabled:"#475569",disabledBackground:"#334155",focus:F(Dt,.16)}},typography:{fontFamily:["Inter","SF Pro Display","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(","),fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500,fontWeightBold:600,h1:{fontSize:"3rem",fontWeight:700,lineHeight:1.167,letterSpacing:"-0.02em",color:"#f8fafc",marginBottom:"0.5em"},h2:{fontSize:"2.25rem",fontWeight:700,lineHeight:1.2,letterSpacing:"-0.015em",color:"#f8fafc",marginBottom:"0.5em"},h3:{fontSize:"1.875rem",fontWeight:600,lineHeight:1.267,letterSpacing:"-0.01em",color:"#f8fafc",marginBottom:"0.5em"},h4:{fontSize:"1.5rem",fontWeight:600,lineHeight:1.334,letterSpacing:"-0.005em",color:"#f8fafc",marginBottom:"0.5em"},h5:{fontSize:"1.25rem",fontWeight:600,lineHeight:1.4,color:"#f8fafc",marginBottom:"0.5em"},h6:{fontSize:"1.125rem",fontWeight:600,lineHeight:1.4,color:"#f8fafc",marginBottom:"0.5em"},subtitle1:{fontSize:"1rem",fontWeight:500,lineHeight:1.5,color:"#cbd5e1",letterSpacing:"0.01em"},subtitle2:{fontSize:"0.875rem",fontWeight:500,lineHeight:1.5,color:"#cbd5e1",letterSpacing:"0.01em"},body1:{fontSize:"1rem",lineHeight:1.6,color:"#e2e8f0",letterSpacing:"0.005em"},body2:{fontSize:"0.875rem",lineHeight:1.5,color:"#e2e8f0",letterSpacing:"0.005em"},button:{fontSize:"0.875rem",fontWeight:600,letterSpacing:"0.02em",textTransform:"none"},caption:{fontSize:"0.75rem",lineHeight:1.5,color:"#94a3b8",letterSpacing:"0.03em"},overline:{fontSize:"0.75rem",fontWeight:700,letterSpacing:"0.08em",textTransform:"uppercase",color:"#94a3b8"}},shape:{borderRadius:12},shadows:["none","0px 1px 2px rgba(0, 0, 0, 0.3)","0px 2px 4px rgba(0, 0, 0, 0.32)","0px 4px 8px rgba(0, 0, 0, 0.32)","0px 6px 12px rgba(0, 0, 0, 0.35)","0px 8px 16px rgba(0, 0, 0, 0.35)","0px 12px 20px rgba(0, 0, 0, 0.38)","0px 16px 24px rgba(0, 0, 0, 0.38)","0px 20px 28px rgba(0, 0, 0, 0.4)","0px 24px 32px rgba(0, 0, 0, 0.4)","0px 28px 36px rgba(0, 0, 0, 0.42)","0px 32px 40px rgba(0, 0, 0, 0.42)","0px 36px 44px rgba(0, 0, 0, 0.44)","0px 40px 48px rgba(0, 0, 0, 0.44)","0px 44px 52px rgba(0, 0, 0, 0.46)","0px 48px 56px rgba(0, 0, 0, 0.46)","0px 52px 60px rgba(0, 0, 0, 0.48)","0px 56px 64px rgba(0, 0, 0, 0.48)","0px 60px 68px rgba(0, 0, 0, 0.5)","0px 64px 72px rgba(0, 0, 0, 0.5)","0px 68px 76px rgba(0, 0, 0, 0.52)","0px 72px 80px rgba(0, 0, 0, 0.52)","0px 76px 84px rgba(0, 0, 0, 0.54)","0px 80px 88px rgba(0, 0, 0, 0.54)","0px 80px 88px rgba(0, 0, 0, 0.54)"],components:{MuiCssBaseline:{styleOverrides:{"*":{boxSizing:"border-box"},html:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",height:"100%",width:"100%"},body:{height:"100%"},"#root":{height:"100%"},"#nprogress .bar":{backgroundColor:Dt,zIndex:2e3,height:"3px"},"#nprogress .peg":{boxShadow:`0 0 10px ${Dt}, 0 0 5px ${Dt}`}}},MuiButton:{defaultProps:{disableElevation:!1},styleOverrides:{root:{textTransform:"none",fontWeight:600,borderRadius:10,padding:"10px 20px",fontSize:"0.875rem",letterSpacing:"0.02em",transition:"all 200ms cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden","&:before":{content:'""',position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent)",transition:"left 600ms"},"&:hover":{transform:"translateY(-2px)","&:before":{left:"100%"}},"&:active":{transform:"translateY(0px)"}},contained:{color:"#0f172a",background:`linear-gradient(135deg, ${It} 0%, ${Ll} 100%)`,boxShadow:`0 4px 14px 0 ${F(It,.25)}`,"&:hover":{background:`linear-gradient(135deg, ${Ll} 0%, ${It} 100%)`,boxShadow:`0 6px 20px 0 ${F(It,.35)}`},"&:disabled":{background:"#334155",color:"#64748b",boxShadow:"none"}},outlined:{borderWidth:"1.5px",borderColor:F(It,.3),color:It,background:"rgba(30, 41, 59, 0.8)",backdropFilter:"blur(10px)","&:hover":{borderWidth:"1.5px",borderColor:It,background:F(It,.04),boxShadow:`0 4px 12px 0 ${F(It,.15)}`}},text:{color:It,"&:hover":{background:F(It,.04)}},sizeSmall:{padding:"6px 16px",fontSize:"0.8125rem",borderRadius:8},sizeLarge:{padding:"12px 24px",fontSize:"0.9375rem",borderRadius:12}}},MuiCard:{defaultProps:{elevation:0},styleOverrides:{root:{borderRadius:16,padding:"24px",background:"rgba(30, 41, 59, 0.9)",backdropFilter:"blur(20px)",border:`1px solid ${F("#475569",.8)}`,transition:"all 300ms cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden","&:before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"1px",background:`linear-gradient(90deg, transparent, ${F("#f8fafc",.2)}, transparent)`},"&:hover":{transform:"translateY(-4px)",boxShadow:`0 12px 24px ${F("#000000",.3)}`,borderColor:F(Dt,.2),background:"rgba(30, 41, 59, 0.95)"}}}},MuiCardHeader:{styleOverrides:{root:{padding:"24px 24px 0"},title:{fontSize:"1.125rem",fontWeight:600}}},MuiCardContent:{styleOverrides:{root:{padding:"24px","&:last-child":{paddingBottom:"24px"}}}},MuiCardActions:{styleOverrides:{root:{padding:"0 24px 24px",justifyContent:"flex-end"}}},MuiPaper:{defaultProps:{elevation:0},styleOverrides:{root:{backgroundImage:"none",borderRadius:12,background:"rgba(30, 41, 59, 0.8)",backdropFilter:"blur(20px)",border:`1px solid ${F("#475569",.6)}`},elevation1:{boxShadow:`0 2px 8px ${F("#000000",.2)}`},elevation2:{boxShadow:`0 4px 12px ${F("#000000",.25)}`},elevation3:{boxShadow:`0 8px 16px ${F("#000000",.3)}`},outlined:{borderColor:F("#475569",.8),background:"rgba(51, 65, 85, 0.8)"}}},MuiTableCell:{styleOverrides:{root:{padding:"16px 20px",borderBottom:`1px solid ${F("#475569",.6)}`,fontSize:"0.875rem"},head:{fontSize:"0.8125rem",fontWeight:700,color:"#f8fafc",backgroundColor:F("#334155",.8),borderBottom:`2px solid ${F("#475569",.8)}`,letterSpacing:"0.05em",textTransform:"uppercase"},body:{fontSize:"0.875rem",color:"#e2e8f0"}}},MuiTableHead:{styleOverrides:{root:{background:`linear-gradient(135deg, ${F("#334155",.9)} 0%, ${F("#475569",.9)} 100%)`,backdropFilter:"blur(10px)"}}},MuiTableRow:{styleOverrides:{root:{transition:"all 150ms ease","&:nth-of-type(even)":{backgroundColor:F("#334155",.3)},"&:last-child td":{borderBottom:0},"&:hover":{backgroundColor:F(Dt,.08),transform:"scale(1.005)",boxShadow:`0 2px 8px ${F(Dt,.2)}`}}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:10,background:"rgba(30, 41, 59, 0.8)",backdropFilter:"blur(10px)",transition:"all 200ms ease","& fieldset":{borderColor:F("#64748b",.8),borderWidth:"1.5px"},"&:hover fieldset":{borderColor:F("#94a3b8",.9)},"&.Mui-focused fieldset":{borderColor:Dt,borderWidth:"2px",boxShadow:`0 0 0 3px ${F(Dt,.2)}`},"&.Mui-error fieldset":{borderColor:sr,"&:focus":{boxShadow:`0 0 0 3px ${F(sr,.2)}`}}},"& .MuiInputLabel-root":{fontSize:"0.875rem",fontWeight:500,"&.Mui-focused":{color:Dt,fontWeight:600}}}}},MuiInputBase:{styleOverrides:{input:{"&::placeholder":{color:"#64748b",opacity:1}}}},MuiOutlinedInput:{styleOverrides:{root:{borderRadius:8,"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#94a3b8"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:It,borderWidth:"1.5px"}},notchedOutline:{borderColor:"#64748b",transition:"all 0.2s ease-in-out"}}},MuiFormLabel:{styleOverrides:{root:{fontSize:"0.875rem",color:"#94a3b8","&.Mui-focused":{color:It}}}},MuiChip:{styleOverrides:{root:{borderRadius:8,fontWeight:600,fontSize:"0.8125rem",height:32,transition:"all 200ms ease","&:hover":{transform:"translateY(-1px)",boxShadow:`0 4px 8px ${F("#000000",.3)}`},"&.MuiChip-colorPrimary":{background:`linear-gradient(135deg, ${F(It,.2)} 0%, ${F(It,.25)} 100%)`,color:It,border:`1px solid ${F(It,.3)}`},"&.MuiChip-colorSecondary":{background:`linear-gradient(135deg, ${F(ea,.2)} 0%, ${F(ea,.25)} 100%)`,color:ea,border:`1px solid ${F(ea,.3)}`},"&.MuiChip-colorSuccess":{background:`linear-gradient(135deg, ${F(ta,.2)} 0%, ${F(ta,.25)} 100%)`,color:ta,border:`1px solid ${F(ta,.3)}`},"&.MuiChip-colorError":{background:`linear-gradient(135deg, ${F(sr,.2)} 0%, ${F(sr,.25)} 100%)`,color:sr,border:`1px solid ${F(sr,.3)}`},"&.MuiChip-colorWarning":{background:`linear-gradient(135deg, ${F(na,.2)} 0%, ${F(na,.25)} 100%)`,color:na,border:`1px solid ${F(na,.3)}`},"&.MuiChip-colorInfo":{background:`linear-gradient(135deg, ${F(ra,.2)} 0%, ${F(ra,.25)} 100%)`,color:ra,border:`1px solid ${F(ra,.3)}`}}}},MuiAlert:{styleOverrides:{root:{borderRadius:8,padding:"12px 16px"},standardSuccess:{backgroundColor:F(ta,.2),color:ta},standardError:{backgroundColor:F(sr,.2),color:sr},standardWarning:{backgroundColor:F(na,.2),color:na},standardInfo:{backgroundColor:F(ra,.2),color:ra}}},MuiAvatar:{styleOverrides:{root:{backgroundColor:F(It,.2),color:It,fontWeight:600}}},MuiListItem:{styleOverrides:{root:{paddingTop:8,paddingBottom:8,transition:"all 0.15s ease"}}},MuiListItemButton:{styleOverrides:{root:{borderRadius:10,margin:"2px 8px",transition:"all 200ms cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{backgroundColor:F(Dt,.12),transform:"translateX(4px)"},"&.Mui-selected":{background:`linear-gradient(135deg, ${F(Dt,.2)} 0%, ${F(Dt,.25)} 100%)`,borderLeft:`3px solid ${Dt}`,"&:hover":{background:`linear-gradient(135deg, ${F(Dt,.25)} 0%, ${F(Dt,.3)} 100%)`},"& .MuiListItemIcon-root":{color:Dt},"& .MuiTypography-root":{color:Dt,fontWeight:600}}}}},MuiDrawer:{styleOverrides:{paper:{border:"none",background:"rgba(30, 41, 59, 0.95)",backdropFilter:"blur(20px)",boxShadow:`4px 0 24px ${F("#000000",.3)}`}}},MuiAppBar:{styleOverrides:{root:{background:"rgba(30, 41, 59, 0.9)",backdropFilter:"blur(20px)",color:"#f8fafc",border:"none",borderBottom:`1px solid ${F("#475569",.6)}`,boxShadow:`0 1px 3px ${F("#000000",.2)}`}}},MuiTabs:{styleOverrides:{root:{"& .MuiTabs-indicator":{height:3,borderTopLeftRadius:3,borderTopRightRadius:3}}}},MuiTab:{styleOverrides:{root:{textTransform:"none",fontWeight:500,minWidth:100,"&.Mui-selected":{fontWeight:600}}}},MuiAccordion:{styleOverrides:{root:{borderRadius:8,"&:before":{display:"none"},"&.Mui-expanded":{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.3)"}}}},MuiAccordionSummary:{styleOverrides:{root:{borderRadius:8,"&.Mui-expanded":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},MuiAccordionDetails:{styleOverrides:{root:{paddingTop:0}}},MuiSkeleton:{styleOverrides:{root:{backgroundColor:F("#94a3b8",.2),borderRadius:4}}},MuiTooltip:{styleOverrides:{tooltip:{backgroundColor:"rgba(248, 250, 252, 0.9)",backdropFilter:"blur(10px)",borderRadius:8,fontSize:"0.75rem",fontWeight:500,padding:"8px 12px",boxShadow:`0 4px 12px ${F("#000000",.4)}`,color:"#0f172a"},arrow:{color:"rgba(248, 250, 252, 0.9)"}}},MuiSwitch:{styleOverrides:{root:{width:48,height:28,padding:0},switchBase:{padding:2,transition:"transform 200ms ease","&.Mui-checked":{transform:"translateX(20px)",color:"#fff","& + .MuiSwitch-track":{opacity:1,background:`linear-gradient(135deg, ${Dt} 0%, ${ea} 100%)`,borderColor:"transparent"},"& .MuiSwitch-thumb":{boxShadow:`0 2px 8px ${F(Dt,.5)}`}},"&:hover":{backgroundColor:"transparent","& .MuiSwitch-thumb":{transform:"scale(1.1)"}}},thumb:{width:24,height:24,borderRadius:"50%",background:"#ffffff",boxShadow:`0 2px 8px ${F("#000000",.3)}`,transition:"all 200ms ease"},track:{borderRadius:14,opacity:1,backgroundColor:F("#64748b",.8),border:`1px solid ${F("#475569",.8)}`,transition:"all 200ms ease"}}}}}),ax=x.createContext({mode:"light",toggleTheme:()=>{}}),hw=()=>x.useContext(ax),pw=({children:e})=>{const t=()=>{const o=localStorage.getItem("themeMode");return o||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},[n,a]=x.useState(t);x.useEffect(()=>{localStorage.setItem("themeMode",n)},[n]);const i=()=>{a(o=>o==="light"?"dark":"light")},s=n==="light"?lw:uw;return r.jsx(ax.Provider,{value:{mode:n,toggleTheme:i},children:r.jsxs(mg,{theme:s,children:[r.jsx(Sf,{}),e]})})},fw=()=>{const{mode:e,toggleTheme:t}=hw(),n=Ve();return r.jsx(ot,{title:`Switch to ${e==="light"?"dark":"light"} mode`,children:r.jsx(Ae,{onClick:t,size:"medium",sx:{borderRadius:2,transition:"all 0.2s ease-in-out","&:hover":{backgroundColor:F(n.palette.primary.main,.1),transform:"scale(1.05) rotate(30deg)"},"&:active":{transform:"scale(0.95)"}},"aria-label":"toggle theme",children:e==="light"?r.jsx(xg,{fontSize:"small",sx:{color:n.palette.text.secondary,transition:"color 0.2s ease-in-out"}}):r.jsx(gg,{fontSize:"small",sx:{color:n.palette.warning.main,transition:"color 0.2s ease-in-out"}})})})},mw=()=>{const[e,t]=re.useState(null),n=Ve(),a=o=>{t(o.currentTarget)},i=()=>{t(null)},s=()=>{localStorage.removeItem("authToken"),window.location.href="/login"};return r.jsx(cc,{position:"fixed",sx:{zIndex:n.zIndex.drawer+1,backgroundColor:n.palette.background.paper,color:n.palette.text.primary,backdropFilter:"blur(10px)",borderBottom:`1px solid ${F(n.palette.divider,.12)}`,boxShadow:n.palette.mode==="dark"?`0 1px 3px ${F("#000",.3)}`:`0 1px 3px ${F("#000",.1)}`},elevation:0,children:r.jsxs(dc,{sx:{minHeight:64,px:{xs:2,sm:3}},children:[r.jsx(w,{sx:{display:"flex",alignItems:"center",mr:3},children:r.jsx(v,{variant:"h6",sx:{color:n.palette.primary.main,fontWeight:700,letterSpacing:.5,textTransform:"uppercase",fontSize:"1rem"},children:"Antigone Financial"})}),r.jsx(w,{sx:{flexGrow:1}}),r.jsxs(Yi,{direction:"row",spacing:1,alignItems:"center",children:[r.jsx(fw,{}),r.jsx(Ae,{size:"medium","aria-label":"account menu",onClick:a,sx:{borderRadius:1.5,border:"1px solid transparent",transition:"all 0.2s ease","&:hover":{borderColor:F(n.palette.primary.main,.2),backgroundColor:F(n.palette.primary.main,.08)}},children:r.jsxs(Yi,{direction:"row",alignItems:"center",spacing:1,children:[r.jsx(pn,{sx:{width:28,height:28,bgcolor:n.palette.primary.main,fontSize:"0.75rem",fontWeight:600},children:"JD"}),r.jsx(vg,{fontSize:"small",sx:{display:{xs:"none",md:"block"},transition:"transform 0.2s ease",transform:e?"rotate(180deg)":"rotate(0deg)"}})]})}),r.jsxs(Kn,{anchorEl:e,open:!!e,onClose:i,PaperProps:{elevation:8,sx:{mt:1.5,minWidth:200,borderRadius:2,border:`1px solid ${F(n.palette.divider,.1)}`,"& .MuiMenuItem-root":{borderRadius:1,mx:1,my:.5}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[r.jsxs(w,{sx:{p:2,pb:1},children:[r.jsx(v,{variant:"subtitle2",fontWeight:600,children:"John Doe"}),r.jsx(v,{variant:"caption",color:"text.secondary",children:"john.doe@fleet.com"})]}),r.jsx(Ee,{sx:{mx:1}}),r.jsxs(ne,{onClick:i,children:[r.jsx(vn,{children:r.jsx(et,{fontSize:"small"})}),r.jsx(Ot,{children:"Profile"})]}),r.jsxs(ne,{onClick:i,children:[r.jsx(vn,{children:r.jsx(Df,{fontSize:"small"})}),r.jsx(Ot,{children:"Settings"})]}),r.jsxs(ne,{onClick:i,children:[r.jsx(vn,{children:r.jsx(yg,{fontSize:"small"})}),r.jsx(Ot,{children:"Help & Support"})]}),r.jsx(Ee,{sx:{mx:1}}),r.jsxs(ne,{onClick:s,sx:{color:n.palette.error.main,"&:hover":{backgroundColor:F(n.palette.error.main,.1)}},children:[r.jsx(vn,{children:r.jsx(Xc,{fontSize:"small",sx:{color:"inherit"}})}),r.jsx(Ot,{children:"Logout"})]})]})]})]})})},xw=[{id:"dashboard",text:"Dashboard",icon:r.jsx(Fo,{}),path:"/"},{id:"customers",text:"Customers",icon:r.jsx(kf,{}),path:"/customers"},{id:"vehicles",text:"Vehicles",icon:r.jsx(pt,{}),path:"/vehicles"},{id:"contracts",text:"Contracts",icon:r.jsx(yn,{}),path:"/contracts"},{id:"payments",text:"Payments",icon:r.jsx(Zn,{}),path:"/payments"},{id:"assets",text:"Assets",icon:r.jsx(to,{}),path:"/assets"},{id:"Audit",text:"Audit Logs",icon:r.jsx(Cg,{}),path:"/logs"}],ix=re.memo(({item:e,collapsed:t,isSelected:n,onNavigate:a,onClose:i,level:s=0,isMobile:o})=>{var f,j;const[l,c]=x.useState(!1),d=Ve(),u=br(),h=!!((f=e.children)!=null&&f.length),p=x.useCallback(()=>{e.disabled||(h?c($=>!$):e.path&&(a(e.path),i()))},[h,e.path,e.disabled,a,i]),y=x.useMemo(()=>({minHeight:t&&!o?44:48,borderRadius:t&&!o?2.5:2,mx:1,my:.5,pl:s>0?4:t&&!o?0:2.5,pr:t&&!o?0:2,position:"relative",overflow:"hidden",justifyContent:t&&!o?"center":"flex-start",transition:d.transitions.create(["background-color","transform","box-shadow","border-color","min-height","margin","padding"],{duration:d.transitions.duration.shorter}),...n&&{bgcolor:t&&!o?F(d.palette.primary.main,.15):F(d.palette.primary.main,.08),color:d.palette.primary.main,fontWeight:600,boxShadow:t&&!o?`0 4px 12px ${F(d.palette.primary.main,.25)}`:"none",...!t&&{"&::before":{content:'""',position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:3,height:"60%",bgcolor:d.palette.primary.main,borderRadius:"0 2px 2px 0"}}},"&:hover":{bgcolor:n?t&&!o?F(d.palette.primary.main,.2):F(d.palette.primary.main,.12):t&&!o?F(d.palette.action.hover,.15):F(d.palette.action.hover,.08),transform:t&&!o?"scale(1.05)":s===0?"translateX(2px)":"none",boxShadow:t&&!o?`0 6px 20px ${F(d.palette.primary.main,.2)}`:s===0?`0 2px 8px ${F(d.palette.primary.main,.15)}`:"none"},...e.disabled&&{opacity:.5,cursor:"not-allowed","&:hover":{bgcolor:"transparent",transform:"none",boxShadow:"none"}}}),[d,n,s,e.disabled,t,o]),b=x.useMemo(()=>({minWidth:t&&!o?0:40,mr:t&&!o?0:1.5,justifyContent:"center",color:n?d.palette.primary.main:d.palette.text.secondary,transition:d.transitions.create(["color","transform"],{duration:d.transitions.duration.shorter}),"& svg":{fontSize:22,...n&&{transform:"scale(1.1)"},...t&&!o&&{filter:`drop-shadow(0 2px 4px ${F(d.palette.primary.main,.3)})`}}}),[d,n,t,o]),m=r.jsxs(bg,{selected:n,onClick:p,disabled:e.disabled,sx:y,children:[r.jsx(vn,{sx:b,children:e.icon}),r.jsx(bn,{in:!t||o,timeout:200,children:r.jsxs(w,{sx:{display:t&&!o?"none":"flex",alignItems:"center",flex:1},children:[r.jsx(Ot,{primary:e.text,primaryTypographyProps:{fontWeight:n?600:500,fontSize:"0.875rem",color:n?d.palette.primary.main:"inherit"}}),e.badge&&r.jsx(w,{sx:{bgcolor:d.palette.error.main,color:d.palette.error.contrastText,borderRadius:"50%",minWidth:20,height:20,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:600,mx:1},children:e.badge}),h&&r.jsx(w,{sx:{ml:1,display:"flex",alignItems:"center"},children:r.jsx(Tf,{in:!t||o,timeout:150,children:r.jsx(w,{children:l?r.jsx(No,{fontSize:"small"}):r.jsx(hi,{fontSize:"small"})})})})]})})]});return t&&!o&&!h?r.jsx(kt,{disablePadding:!0,children:r.jsx(ot,{title:e.text,placement:"right",arrow:!0,enterDelay:300,leaveDelay:0,children:r.jsx(w,{sx:{width:"100%"},children:m})})}):r.jsx(kt,{disablePadding:!0,children:r.jsxs(w,{sx:{width:"100%"},children:[m,h&&(!t||o)&&r.jsx($n,{in:l,timeout:300,unmountOnExit:!0,children:r.jsx(un,{component:"div",disablePadding:!0,sx:{mt:.5},children:(j=e.children)==null?void 0:j.map($=>{const S=u.pathname===$.path;return r.jsx(ix,{item:$,collapsed:!1,isSelected:S,onNavigate:a,onClose:i,level:s+1,isMobile:o},$.id)})})})]})})}),gw=({open:e,collapsed:t,onClose:n,onToggleCollapse:a,isMobile:i,drawerWidth:s,collapsedWidth:o})=>{const l=yt(),c=br(),d=Ve(),u=x.useCallback(j=>{l(j),i&&n()},[l,i,n]),h=t?o:s,p=x.useMemo(()=>r.jsxs(w,{sx:{p:t&&!i?2:3,display:"flex",alignItems:"center",justifyContent:"center",borderBottom:`1px solid ${F(d.palette.divider,.08)}`,minHeight:t&&!i?64:72,position:"relative",background:t&&!i?`linear-gradient(135deg, ${F(d.palette.primary.main,.05)} 0%, ${F(d.palette.primary.main,.12)} 100%)`:`linear-gradient(135deg, ${F(d.palette.primary.main,.02)} 0%, ${F(d.palette.primary.main,.08)} 100%)`,transition:d.transitions.create(["padding","justify-content","min-height","background"],{duration:d.transitions.duration.standard})},children:[r.jsx(Tf,{in:!0,timeout:300,children:r.jsx(w,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:t&&!i?44:48,height:t&&!i?44:48,borderRadius:t&&!i?3:2.5,background:`linear-gradient(135deg, ${d.palette.primary.main} 0%, ${d.palette.primary.dark} 100%)`,boxShadow:t&&!i?`0 6px 20px ${F(d.palette.primary.main,.4)}`:`0 4px 12px ${F(d.palette.primary.main,.3)}`,mr:!t||i?2:0,position:"relative",transition:d.transitions.create(["width","height","margin","border-radius","box-shadow"],{duration:d.transitions.duration.standard}),"&:hover":t&&!i?{transform:"scale(1.1)",boxShadow:`0 8px 25px ${F(d.palette.primary.main,.5)}`}:{}},children:r.jsx(ei,{sx:{fontSize:t&&!i?24:26,color:"white",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))",transition:d.transitions.create(["font-size","transform"],{duration:d.transitions.duration.standard})}})})}),r.jsx(bn,{in:!t||i,timeout:200,children:r.jsxs(w,{sx:{display:t&&!i?"none":"block",overflow:"hidden"},children:[r.jsx(v,{variant:"h6",sx:{color:d.palette.primary.main,fontWeight:700,fontSize:"1.1rem",lineHeight:1.2,mb:.5,background:`linear-gradient(135deg, ${d.palette.primary.main} 0%, ${d.palette.primary.dark} 100%)`,backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Fleet Manager"}),r.jsx(v,{variant:"caption",sx:{color:F(d.palette.text.secondary,.8),fontSize:"0.75rem",fontWeight:500,letterSpacing:.5},children:"Management System"})]})})]}),[d,t,i]),y=x.useMemo(()=>r.jsx(w,{sx:{flex:1,overflowY:"auto",overflowX:"hidden",py:2,px:t&&!i?.5:0,position:"relative","&::-webkit-scrollbar":{width:t&&!i?4:6},"&::-webkit-scrollbar-track":{backgroundColor:F(d.palette.background.paper,.1),borderRadius:3},"&::-webkit-scrollbar-thumb":{backgroundColor:F(d.palette.primary.main,.2),borderRadius:3,"&:hover":{backgroundColor:F(d.palette.primary.main,.3)}},scrollbarWidth:"thin",scrollbarColor:`${F(d.palette.primary.main,.2)} ${F(d.palette.background.paper,.1)}`},children:r.jsx(un,{sx:{px:t&&!i?0:1},children:xw.map(j=>{const $=j.path?c.pathname===j.path||j.path!=="/"&&c.pathname.startsWith(j.path):!1;return r.jsx(ix,{item:j,collapsed:t&&!i,isSelected:$,onNavigate:u,onClose:n,isMobile:i},j.id)})})}),[d,t,i,c.pathname,u,n]),b=x.useMemo(()=>!i&&r.jsx(w,{sx:{p:t?1.5:2,borderTop:`1px solid ${F(d.palette.divider,.08)}`,background:t?`linear-gradient(135deg, ${F(d.palette.primary.main,.08)} 0%, ${F(d.palette.primary.main,.15)} 100%)`:F(d.palette.background.paper,.5),backdropFilter:"blur(10px)",transition:d.transitions.create(["padding","background"],{duration:d.transitions.duration.standard})},children:r.jsxs(Yi,{direction:"row",justifyContent:"center",alignItems:"center",children:[!t&&r.jsx(bn,{in:!t,timeout:200,children:r.jsx(v,{variant:"caption",sx:{color:F(d.palette.text.secondary,.7),fontWeight:500,fontSize:"0.7rem",letterSpacing:.5,mr:2},children:"NAVIGATION"})}),r.jsx(ot,{title:t?"Expand sidebar":"Collapse sidebar",placement:"top",arrow:!0,children:r.jsx(Ae,{onClick:a,size:"small",sx:{width:t?44:36,height:t?44:36,bgcolor:t?F(d.palette.primary.main,.15):F(d.palette.primary.main,.08),border:`1px solid ${F(d.palette.primary.main,t?.3:.2)}`,color:d.palette.primary.main,borderRadius:t?3:2,boxShadow:t?`0 6px 20px ${F(d.palette.primary.main,.3)}`:"none","&:hover":{bgcolor:t?F(d.palette.primary.main,.2):F(d.palette.primary.main,.12),borderColor:F(d.palette.primary.main,.4),transform:t?"scale(1.1)":"scale(1.05)",boxShadow:t?`0 8px 25px ${F(d.palette.primary.main,.4)}`:`0 4px 12px ${F(d.palette.primary.main,.2)}`},transition:d.transitions.create(["all"],{duration:d.transitions.duration.shorter})},children:t?r.jsx(jg,{fontSize:t?"medium":"small"}):r.jsx(wg,{fontSize:"small"})})})]})}),[d,t,i,a]),m=r.jsxs(w,{sx:{display:"flex",flexDirection:"column",height:"100%",bgcolor:d.palette.background.paper,position:"relative"},children:[p,y,b]}),f=x.useMemo(()=>({width:h,flexShrink:0,"& .MuiDrawer-paper":{boxSizing:"border-box",width:h,backgroundColor:d.palette.background.paper,borderRight:`1px solid ${F(d.palette.divider,.08)}`,transition:d.transitions.create(["width","transform","box-shadow"],{easing:d.transitions.easing.sharp,duration:d.transitions.duration.standard}),overflowX:"hidden",...i?{boxShadow:`8px 0 32px ${F("#000",.12)}`,zIndex:d.zIndex.drawer,position:"fixed",height:"100vh",top:0}:{top:64,height:"calc(100vh - 64px)",boxShadow:t?`6px 0 20px ${F(d.palette.primary.main,.08)}, 2px 0 8px ${F("#000",.06)}`:d.palette.mode==="dark"?`4px 0 16px ${F("#000",.3)}`:`4px 0 16px ${F("#000",.08)}`,"&:hover":t?{boxShadow:`8px 0 25px ${F(d.palette.primary.main,.12)}, 4px 0 12px ${F("#000",.08)}`}:{}}}}),[d,h,i,t]);return r.jsxs(r.Fragment,{children:[i&&r.jsx(du,{variant:"temporary",open:e,onClose:n,ModalProps:{keepMounted:!0,sx:{"& .MuiBackdrop-root":{backgroundColor:F("#000",.3),backdropFilter:"blur(4px)"}}},sx:f,children:m}),!i&&r.jsx(du,{variant:"permanent",sx:f,open:!0,children:m})]})},vw=300,yw=80,bw=64,jw=()=>{const e=Ve(),t=Ro(e.breakpoints.down("md")),[n,a]=x.useState(!t),[i,s]=x.useState(!0);x.useEffect(()=>{t?(a(!1),s(!1)):a(!0)},[t]);const o=()=>{a(!1)};return r.jsxs(w,{sx:{display:"flex",minHeight:"100vh"},children:[r.jsx(Sf,{}),r.jsx(mw,{}),r.jsx(gw,{open:n,collapsed:i,onClose:o,onToggleCollapse:()=>s(!i),isMobile:t,drawerWidth:vw,collapsedWidth:yw}),r.jsx(w,{component:"main",sx:{flexGrow:1,minHeight:"100vh",marginTop:`${bw}px`,marginLeft:{xs:0},backgroundColor:e.palette.background.default,transition:e.transitions.create(["margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.standard}),position:"relative","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"1px",background:`linear-gradient(90deg, transparent 0%, ${F(e.palette.primary.main,.1)} 50%, transparent 100%)`}},children:r.jsx(w,{sx:{p:{xs:3,sm:4},maxWidth:"100%",animation:"slideInUp 0.4s cubic-bezier(0.16, 1, 0.3, 1)","@keyframes slideInUp":{from:{opacity:0,transform:"translateY(20px)"},to:{opacity:1,transform:"translateY(0)"}}},children:r.jsx(em,{})})})]})};var we=(e=>(e.INDIVIDUAL="individual",e.BUSINESS="business",e.ENDORSER="endorser",e))(we||{});const ww=({customer:e,onDelete:t})=>{var y;const n=yt(),a=Ve(),[i,s]=x.useState(null),o=()=>e.type===we.ENDORSER?"endorsers":"customers",l=b=>{s(b.currentTarget)},c=()=>{s(null)},d=b=>{var m;if(b.type===we.INDIVIDUAL){const f=b;if(f.firstName&&f.lastName)return`${f.firstName} ${f.lastName}`}else if(b.type===we.BUSINESS){const f=b;if(f.legalName)return f.legalName}else if(b.type===we.ENDORSER){const f=b;if(f.firstName&&f.lastName)return`${f.firstName} ${f.lastName}`}return b.email?b.email.split("@")[0].split(/[.-]/).map(j=>j.charAt(0).toUpperCase()+j.slice(1)).join(" "):`Customer ${(m=b.id)==null?void 0:m.substring(0,8)}`},u=b=>b?ze(b).format("MMM D, YYYY"):"N/A",h=e.type===we.INDIVIDUAL,p=e.type===we.ENDORSER;return r.jsxs(r.Fragment,{children:[r.jsxs(st,{hover:!0,sx:{transition:"all 0.2s","&:hover":{backgroundColor:F(a.palette.primary.main,.02)}},children:[r.jsx(Z,{sx:{py:1.5},children:r.jsxs(w,{sx:{display:"flex",alignItems:"center",cursor:"pointer","&:hover":{color:a.palette.primary.main}},onClick:()=>n(`/${o()}/${e.id}`),children:[r.jsx(w,{sx:{width:36,height:36,bgcolor:F(h?a.palette.primary.main:p?a.palette.info.main:a.palette.secondary.main,.1),borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",mr:1.5},children:h?r.jsx(et,{fontSize:"small",sx:{color:a.palette.primary.main}}):p?r.jsx(zr,{fontSize:"small",sx:{color:a.palette.info.main}}):r.jsx(ei,{fontSize:"small",sx:{color:a.palette.secondary.main}})}),r.jsxs(w,{children:[r.jsx(v,{variant:"body1",fontWeight:500,id:`customer-${e.id}`,sx:{transition:"color 0.2s ease",borderBottom:"1px dotted transparent","&:hover":{borderBottomColor:a.palette.primary.main}},children:d(e)}),r.jsxs(v,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:["ID: ",(y=e.id)==null?void 0:y.slice(0,8)]})]})]})}),r.jsx(Z,{children:r.jsx(de,{label:h?"Individual":p?"Endorser":"Business",size:"small",color:h?"primary":p?"info":"secondary",variant:"outlined",sx:{fontWeight:500,px:.5,"& .MuiChip-label":{px:1}}})}),r.jsx(Z,{children:r.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Mr,{fontSize:"small",sx:{color:"text.secondary",mr:1,opacity:.7}}),r.jsx(ot,{title:e.email,children:r.jsx(v,{variant:"body2",noWrap:!0,sx:{maxWidth:150},children:e.email})})]})}),r.jsx(Z,{children:r.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(as,{fontSize:"small",sx:{color:"text.secondary",mr:1,opacity:.7}}),r.jsx(v,{variant:"body2",children:e.phone})]})}),r.jsx(Z,{children:r.jsx(v,{variant:"body2",color:"text.secondary",children:u(e.createdAt)})}),r.jsx(Z,{align:"right",children:r.jsx(w,{sx:{display:"flex",justifyContent:"flex-end"},children:r.jsx(ot,{title:"More options",children:r.jsx(Ae,{size:"small",onClick:l,"aria-haspopup":"true",sx:{transition:"transform 0.2s","&:hover":{transform:"scale(1.1)"}},children:r.jsx(_r,{fontSize:"small"})})})})})]}),r.jsxs(Kn,{anchorEl:i,open:!!i,onClose:c,PaperProps:{elevation:3,sx:{minWidth:200,borderRadius:1,overflow:"hidden"}},children:[r.jsxs(ne,{onClick:()=>{n(`/${o()}/${e.id}`),c()},dense:!0,children:[r.jsx(Jc,{fontSize:"small",sx:{mr:1.5}}),"Customer Details"]}),r.jsxs(ne,{onClick:()=>{n(`/${o()}/${e.id}/summary`),c()},dense:!0,children:[r.jsx(Fo,{fontSize:"small",sx:{mr:1.5}}),"Dashboard"]}),r.jsx(Ee,{}),r.jsxs(ne,{onClick:()=>{n(`/${o()}/${e.id}/contracts`),c()},dense:!0,children:[r.jsx(ei,{fontSize:"small",sx:{mr:1.5}}),"Contracts"]}),r.jsxs(ne,{onClick:()=>{n(`/${o()}/${e.id}/vehicles`),c()},dense:!0,children:[r.jsx(pt,{fontSize:"small",sx:{mr:1.5}}),"Vehicles"]}),r.jsx(Ee,{}),r.jsxs(ne,{onClick:()=>{n(`/${o()}/${e.id}/invoices`),c()},dense:!0,children:[r.jsx(Sn,{fontSize:"small",sx:{mr:1.5}}),"Invoices"]}),r.jsxs(ne,{onClick:()=>{n(`/${o()}/${e.id}/export`),c()},dense:!0,children:[r.jsx(ed,{fontSize:"small",sx:{mr:1.5}}),"Export Data"]}),r.jsx(Ee,{}),r.jsxs(ne,{onClick:()=>{n(`/${o()}/${e.id}/logs`),c()},dense:!0,children:[r.jsx(Xn,{fontSize:"small",sx:{mr:1.5}}),"Activity Logs"]}),r.jsx(Ee,{}),r.jsxs(ne,{onClick:()=>{t(e.id),c()},dense:!0,sx:{color:a.palette.error.main},children:[r.jsx(sn,{fontSize:"small",sx:{mr:1.5}}),"Delete Customer"]})]})]})},Cw=({customers:e,loading:t,totalCount:n,page:a,rowsPerPage:i,onPageChange:s,onRowsPerPageChange:o,onDelete:l})=>{const c=yt(),d=Ve(),[u,h]=x.useState("desc"),[p,y]=x.useState("createdAt"),b=m=>{h(p===m&&u==="asc"?"desc":"asc"),y(m)};return t&&e.length===0?r.jsx(Ie,{elevation:2,sx:{borderRadius:2,overflow:"hidden",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:d.shadows[4]}},children:r.jsxs(w,{sx:{p:3},children:[r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[r.jsx(le,{variant:"text",width:200,height:32}),r.jsx(le,{variant:"rectangular",width:100,height:36,sx:{borderRadius:1}})]}),r.jsx(Ee,{sx:{mb:2}}),r.jsx(w,{sx:{display:"flex",mb:1.5},children:["25%","15%","25%","20%","15%"].map((m,f)=>r.jsx(le,{variant:"text",width:m,height:24,sx:{mr:2}},f))}),[...Array(5)].map((m,f)=>r.jsx(w,{sx:{py:2,display:"flex",alignItems:"center",borderBottom:f<4?`1px solid ${d.palette.divider}`:"none"},children:["25%","15%","25%","20%","15%"].map((j,$)=>r.jsx(le,{variant:"text",width:j,height:24,sx:{mr:2}},$))},f)),r.jsx(w,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:r.jsx(le,{variant:"rectangular",width:300,height:36,sx:{borderRadius:1}})})]})}):r.jsxs(Ie,{elevation:2,sx:{borderRadius:2,overflow:"hidden",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:d.shadows[4]}},children:[r.jsx(mr,{children:r.jsxs(xr,{children:[r.jsx(gr,{children:r.jsxs(st,{children:[r.jsx(Z,{children:"Name"}),r.jsx(Z,{children:r.jsx(Ge,{active:p==="type",direction:p==="type"?u:"asc",onClick:()=>b("type"),children:"Type"})}),r.jsx(Z,{children:r.jsx(Ge,{active:p==="email",direction:p==="email"?u:"asc",onClick:()=>b("email"),children:"Email"})}),r.jsx(Z,{children:r.jsx(Ge,{active:p==="phone",direction:p==="phone"?u:"asc",onClick:()=>b("phone"),children:"Phone"})}),r.jsx(Z,{children:r.jsx(Ge,{active:p==="createdAt",direction:p==="createdAt"?u:"asc",onClick:()=>b("createdAt"),children:"Created"})}),r.jsx(Z,{align:"right",children:"Actions"})]})}),r.jsxs(vr,{children:[e.map(m=>r.jsx(ww,{customer:m,onDelete:l},m.id)),e.length===0&&!t&&r.jsx(st,{children:r.jsx(Z,{colSpan:6,align:"center",sx:{py:6},children:r.jsxs(w,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:3},children:[r.jsx(w,{sx:{bgcolor:F(d.palette.primary.main,.05),borderRadius:"50%",p:2,mb:2},children:r.jsx(et,{sx:{fontSize:48,color:d.palette.primary.main,opacity:.7}})}),r.jsx(v,{variant:"h6",gutterBottom:!0,children:"No customers found"}),r.jsx(v,{variant:"body2",color:"textSecondary",align:"center",sx:{maxWidth:500,mb:3},children:"No customers match your current filter criteria or there are no customers in the system yet."}),r.jsx(ue,{variant:"contained",color:"primary",onClick:()=>c("/customers/new"),children:"Add New Customer"})]})})})]})]})}),r.jsx(yr,{component:"div",count:n||0,page:Math.min(a,Math.max(0,Math.ceil((n||0)/i)-1)),onPageChange:(m,f)=>{console.log("Page change requested:",f,"Current total:",n),s(f)},rowsPerPage:i,onRowsPerPageChange:m=>{const f=parseInt(m.target.value,10);console.log("Rows per page change:",f),o(f)},rowsPerPageOptions:[5,10,25,50,100],labelRowsPerPage:"Rows per page:",labelDisplayedRows:({from:m,to:f,count:j})=>{const $=j===-1?n:j;return t?"Loading...":`${m}–${f} of ${$!==-1?$:`more than ${f}`}`},disabled:t,sx:{borderTop:`1px solid ${d.palette.divider}`,"& .MuiTablePagination-select":{pr:1},"& .MuiTablePagination-displayedRows":{fontSize:"0.875rem",color:d.palette.text.secondary},"&.Mui-disabled":{opacity:.6}}})]})},$w=({searchTerm:e,onSearchChange:t,typeFilter:n,onTypeChange:a,hasVehicles:i,onHasVehiclesChange:s,hasContracts:o,onHasContractsChange:l,hasCollaterals:c,onHasCollateralsChange:d,onClearFilters:u})=>{const h=Ve(),[p,y]=x.useState(!1),[b,m]=x.useState(""),[f,j]=x.useState(""),$=e||n||b||f||i!==void 0||o!==void 0||c!==void 0,S=[e,n,b,f,i!==void 0?"hasVehicles":"",o!==void 0?"hasContracts":"",c!==void 0?"hasCollaterals":""].filter(Boolean).length;return r.jsx(Ie,{elevation:2,sx:{mb:3,borderRadius:2,overflow:"hidden",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:h.shadows[4]}},children:r.jsxs(w,{sx:{p:2},children:[r.jsxs(N,{container:!0,spacing:2,alignItems:"center",children:[r.jsx(N,{item:!0,xs:12,md:8,children:r.jsx(fe,{id:"customer-search-field",placeholder:"Search customers by name, email, phone...",value:e,onChange:T=>t(T.target.value),fullWidth:!0,variant:"outlined",InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(en,{color:"action"})}),endAdornment:e&&r.jsx($e,{position:"end",children:r.jsx(ot,{title:"Clear search",children:r.jsx(Ae,{size:"small",onClick:()=>t(""),edge:"end",children:r.jsx(Gt,{fontSize:"small"})})})}),sx:{borderRadius:2,transition:"all 0.2s","&.Mui-focused":{boxShadow:`0 0 0 2px ${F(h.palette.primary.main,.25)}`}}}})}),r.jsx(N,{item:!0,xs:12,md:4,children:r.jsxs(w,{sx:{display:"flex",gap:1,justifyContent:{xs:"flex-start",md:"flex-end"}},children:[r.jsxs(Je,{sx:{minWidth:140},children:[r.jsx(at,{id:"customer-type-label",size:"small",children:"Customer Type"}),r.jsxs(it,{labelId:"customer-type-label",value:n,onChange:T=>a(T.target.value),label:"Customer Type",size:"small",sx:{borderRadius:2,"& .MuiOutlinedInput-notchedOutline":{transition:"all 0.2s"}},children:[r.jsx(ne,{value:"",children:"All Types"}),r.jsx(ne,{value:we.INDIVIDUAL,children:r.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(et,{fontSize:"small",sx:{mr:1,color:h.palette.primary.main}}),"Individual"]})}),r.jsx(ne,{value:we.BUSINESS,children:r.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(tn,{fontSize:"small",sx:{mr:1,color:h.palette.secondary.main}}),"Business"]})}),r.jsx(ne,{value:we.ENDORSER,children:r.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(zr,{fontSize:"small",sx:{mr:1,color:h.palette.info.main}}),"Endorser"]})})]})]}),r.jsx(ot,{title:"More filters",children:r.jsx(Ae,{color:p?"primary":"default",onClick:()=>y(!p),sx:{height:40,width:40,bgcolor:p?F(h.palette.primary.main,.1):"transparent",border:`1px solid ${p?h.palette.primary.main:h.palette.divider}`,borderRadius:2,"&:hover":{bgcolor:p?F(h.palette.primary.main,.15):F(h.palette.action.hover,.8)}},children:r.jsx(Wr,{fontSize:"small"})})})]})})]}),r.jsx($n,{in:p,children:r.jsxs(w,{sx:{mt:2,pt:2,borderTop:`1px solid ${h.palette.divider}`},children:[r.jsx(v,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,color:"text.primary",children:"Additional Filters"}),r.jsxs(N,{container:!0,spacing:2,children:[r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsxs(Je,{fullWidth:!0,size:"small",children:[r.jsx(at,{children:"Date Range"}),r.jsxs(it,{value:b,onChange:T=>m(T.target.value),label:"Date Range",children:[r.jsx(ne,{value:"",children:"Any Time"}),r.jsx(ne,{value:"today",children:"Today"}),r.jsx(ne,{value:"week",children:"This Week"}),r.jsx(ne,{value:"month",children:"This Month"}),r.jsx(ne,{value:"quarter",children:"This Quarter"}),r.jsx(ne,{value:"year",children:"This Year"})]})]})}),r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsxs(Je,{fullWidth:!0,size:"small",children:[r.jsx(at,{children:"Status"}),r.jsxs(it,{value:f,onChange:T=>j(T.target.value),label:"Status",children:[r.jsx(ne,{value:"",children:"Any Status"}),r.jsx(ne,{value:"active",children:"Active"}),r.jsx(ne,{value:"inactive",children:"Inactive"}),r.jsx(ne,{value:"pending",children:"Pending"})]})]})}),r.jsx(N,{item:!0,xs:12,sm:6,md:2,children:r.jsxs(Je,{fullWidth:!0,size:"small",children:[r.jsx(at,{children:"Has Vehicles"}),r.jsxs(it,{value:i===void 0?"":i.toString(),onChange:T=>{const A=T.target.value;s(A===""?void 0:A==="true")},label:"Has Vehicles",children:[r.jsx(ne,{value:"",children:"Any"}),r.jsx(ne,{value:"true",children:"Yes"}),r.jsx(ne,{value:"false",children:"No"})]})]})}),r.jsx(N,{item:!0,xs:12,sm:6,md:2,children:r.jsxs(Je,{fullWidth:!0,size:"small",children:[r.jsx(at,{children:"Has Contracts"}),r.jsxs(it,{value:o===void 0?"":o.toString(),onChange:T=>{const A=T.target.value;l(A===""?void 0:A==="true")},label:"Has Contracts",children:[r.jsx(ne,{value:"",children:"Any"}),r.jsx(ne,{value:"true",children:"Yes"}),r.jsx(ne,{value:"false",children:"No"})]})]})}),r.jsx(N,{item:!0,xs:12,sm:6,md:2,children:r.jsxs(Je,{fullWidth:!0,size:"small",children:[r.jsx(at,{children:"Has Collaterals"}),r.jsxs(it,{value:c===void 0?"":c.toString(),onChange:T=>{const A=T.target.value;d(A===""?void 0:A==="true")},label:"Has Collaterals",children:[r.jsx(ne,{value:"",children:"Any"}),r.jsx(ne,{value:"true",children:"Yes"}),r.jsx(ne,{value:"false",children:"No"})]})]})})]})]})}),$&&r.jsxs(w,{sx:{mt:2,display:"flex",flexWrap:"wrap",gap:1,alignItems:"center"},children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Active filters:"}),e&&r.jsx(de,{label:`Search: ${e}`,size:"small",onDelete:()=>t(""),sx:{borderRadius:1.5}}),n&&r.jsx(de,{label:`Type: ${n===we.INDIVIDUAL?"Individual":"Business"}`,size:"small",onDelete:()=>a(""),sx:{borderRadius:1.5},icon:n===we.INDIVIDUAL?r.jsx(et,{fontSize:"small"}):r.jsx(tn,{fontSize:"small"})}),b&&r.jsx(de,{label:`Date: ${b.charAt(0).toUpperCase()+b.slice(1)}`,size:"small",onDelete:()=>m(""),sx:{borderRadius:1.5},icon:r.jsx(ti,{fontSize:"small"})}),f&&r.jsx(de,{label:`Status: ${f.charAt(0).toUpperCase()+f.slice(1)}`,size:"small",onDelete:()=>j(""),sx:{borderRadius:1.5}}),i!==void 0&&r.jsx(de,{label:`Vehicles: ${i?"Yes":"No"}`,size:"small",onDelete:()=>s(void 0),sx:{borderRadius:1.5},icon:r.jsx(pt,{fontSize:"small"})}),o!==void 0&&r.jsx(de,{label:`Contracts: ${o?"Yes":"No"}`,size:"small",onDelete:()=>l(void 0),sx:{borderRadius:1.5},icon:r.jsx(ei,{fontSize:"small"})}),c!==void 0&&r.jsx(de,{label:`Collaterals: ${c?"Yes":"No"}`,size:"small",onDelete:()=>d(void 0),sx:{borderRadius:1.5}}),r.jsxs(ue,{variant:"text",size:"small",startIcon:r.jsx(Gt,{}),onClick:()=>{u(),m(""),j("")},sx:{ml:"auto"},children:["Clear All (",S,")"]})]})]})})};function sx(e,t){return function(){return e.apply(t,arguments)}}const{toString:Sw}=Object.prototype,{getPrototypeOf:Ad}=Object,{iterator:Xo,toStringTag:ox}=Symbol,Jo=(e=>t=>{const n=Sw.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),On=e=>(e=e.toLowerCase(),t=>Jo(t)===e),el=e=>t=>typeof t===e,{isArray:vi}=Array,es=el("undefined");function Dw(e){return e!==null&&!es(e)&&e.constructor!==null&&!es(e.constructor)&&hn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const lx=On("ArrayBuffer");function Tw(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&lx(e.buffer),t}const kw=el("string"),hn=el("function"),cx=el("number"),tl=e=>e!==null&&typeof e=="object",Pw=e=>e===!0||e===!1,Us=e=>{if(Jo(e)!=="object")return!1;const t=Ad(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ox in e)&&!(Xo in e)},Ew=On("Date"),Aw=On("File"),Iw=On("Blob"),Mw=On("FileList"),Ow=e=>tl(e)&&hn(e.pipe),Rw=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||hn(e.append)&&((t=Jo(e))==="formdata"||t==="object"&&hn(e.toString)&&e.toString()==="[object FormData]"))},Nw=On("URLSearchParams"),[Fw,Lw,Vw,zw]=["ReadableStream","Request","Response","Headers"].map(On),_w=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function us(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let a,i;if(typeof e!="object"&&(e=[e]),vi(e))for(a=0,i=e.length;a<i;a++)t.call(null,e[a],a,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let l;for(a=0;a<o;a++)l=s[a],t.call(null,e[l],l,e)}}function dx(e,t){t=t.toLowerCase();const n=Object.keys(e);let a=n.length,i;for(;a-- >0;)if(i=n[a],t===i.toLowerCase())return i;return null}const ha=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ux=e=>!es(e)&&e!==ha;function Dc(){const{caseless:e}=ux(this)&&this||{},t={},n=(a,i)=>{const s=e&&dx(t,i)||i;Us(t[s])&&Us(a)?t[s]=Dc(t[s],a):Us(a)?t[s]=Dc({},a):vi(a)?t[s]=a.slice():t[s]=a};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&us(arguments[a],n);return t}const Ww=(e,t,n,{allOwnKeys:a}={})=>(us(t,(i,s)=>{n&&hn(i)?e[s]=sx(i,n):e[s]=i},{allOwnKeys:a}),e),Bw=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Uw=(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},qw=(e,t,n,a)=>{let i,s,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!a||a(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&Ad(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Hw=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return a!==-1&&a===n},Yw=e=>{if(!e)return null;if(vi(e))return e;let t=e.length;if(!cx(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Gw=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ad(Uint8Array)),Qw=(e,t)=>{const a=(e&&e[Xo]).call(e);let i;for(;(i=a.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},Kw=(e,t)=>{let n;const a=[];for(;(n=e.exec(t))!==null;)a.push(n);return a},Zw=On("HTMLFormElement"),Xw=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,i){return a.toUpperCase()+i}),$h=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Jw=On("RegExp"),hx=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};us(n,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(a[s]=o||i)}),Object.defineProperties(e,a)},eC=e=>{hx(e,(t,n)=>{if(hn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=e[n];if(hn(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},tC=(e,t)=>{const n={},a=i=>{i.forEach(s=>{n[s]=!0})};return vi(e)?a(e):a(String(e).split(t)),n},nC=()=>{},rC=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function aC(e){return!!(e&&hn(e.append)&&e[ox]==="FormData"&&e[Xo])}const iC=e=>{const t=new Array(10),n=(a,i)=>{if(tl(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[i]=a;const s=vi(a)?[]:{};return us(a,(o,l)=>{const c=n(o,i+1);!es(c)&&(s[l]=c)}),t[i]=void 0,s}}return a};return n(e,0)},sC=On("AsyncFunction"),oC=e=>e&&(tl(e)||hn(e))&&hn(e.then)&&hn(e.catch),px=((e,t)=>e?setImmediate:t?((n,a)=>(ha.addEventListener("message",({source:i,data:s})=>{i===ha&&s===n&&a.length&&a.shift()()},!1),i=>{a.push(i),ha.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",hn(ha.postMessage)),lC=typeof queueMicrotask<"u"?queueMicrotask.bind(ha):typeof process<"u"&&process.nextTick||px,cC=e=>e!=null&&hn(e[Xo]),ee={isArray:vi,isArrayBuffer:lx,isBuffer:Dw,isFormData:Rw,isArrayBufferView:Tw,isString:kw,isNumber:cx,isBoolean:Pw,isObject:tl,isPlainObject:Us,isReadableStream:Fw,isRequest:Lw,isResponse:Vw,isHeaders:zw,isUndefined:es,isDate:Ew,isFile:Aw,isBlob:Iw,isRegExp:Jw,isFunction:hn,isStream:Ow,isURLSearchParams:Nw,isTypedArray:Gw,isFileList:Mw,forEach:us,merge:Dc,extend:Ww,trim:_w,stripBOM:Bw,inherits:Uw,toFlatObject:qw,kindOf:Jo,kindOfTest:On,endsWith:Hw,toArray:Yw,forEachEntry:Qw,matchAll:Kw,isHTMLForm:Zw,hasOwnProperty:$h,hasOwnProp:$h,reduceDescriptors:hx,freezeMethods:eC,toObjectSet:tC,toCamelCase:Xw,noop:nC,toFiniteNumber:rC,findKey:dx,global:ha,isContextDefined:ux,isSpecCompliantForm:aC,toJSONObject:iC,isAsyncFn:sC,isThenable:oC,setImmediate:px,asap:lC,isIterable:cC};function Be(e,t,n,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),i&&(this.response=i,this.status=i.status?i.status:null)}ee.inherits(Be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}});const fx=Be.prototype,mx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{mx[e]={value:e}});Object.defineProperties(Be,mx);Object.defineProperty(fx,"isAxiosError",{value:!0});Be.from=(e,t,n,a,i,s)=>{const o=Object.create(fx);return ee.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Be.call(o,e.message,t,n,a,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const dC=null;function Tc(e){return ee.isPlainObject(e)||ee.isArray(e)}function xx(e){return ee.endsWith(e,"[]")?e.slice(0,-2):e}function Sh(e,t,n){return e?e.concat(t).map(function(i,s){return i=xx(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function uC(e){return ee.isArray(e)&&!e.some(Tc)}const hC=ee.toFlatObject(ee,{},null,function(t){return/^is[A-Z]/.test(t)});function nl(e,t,n){if(!ee.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,f){return!ee.isUndefined(f[m])});const a=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(t);if(!ee.isFunction(i))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(ee.isDate(b))return b.toISOString();if(ee.isBoolean(b))return b.toString();if(!c&&ee.isBlob(b))throw new Be("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(b)||ee.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function u(b,m,f){let j=b;if(b&&!f&&typeof b=="object"){if(ee.endsWith(m,"{}"))m=a?m:m.slice(0,-2),b=JSON.stringify(b);else if(ee.isArray(b)&&uC(b)||(ee.isFileList(b)||ee.endsWith(m,"[]"))&&(j=ee.toArray(b)))return m=xx(m),j.forEach(function(S,T){!(ee.isUndefined(S)||S===null)&&t.append(o===!0?Sh([m],T,s):o===null?m:m+"[]",d(S))}),!1}return Tc(b)?!0:(t.append(Sh(f,m,s),d(b)),!1)}const h=[],p=Object.assign(hC,{defaultVisitor:u,convertValue:d,isVisitable:Tc});function y(b,m){if(!ee.isUndefined(b)){if(h.indexOf(b)!==-1)throw Error("Circular reference detected in "+m.join("."));h.push(b),ee.forEach(b,function(j,$){(!(ee.isUndefined(j)||j===null)&&i.call(t,j,ee.isString($)?$.trim():$,m,p))===!0&&y(j,m?m.concat($):[$])}),h.pop()}}if(!ee.isObject(e))throw new TypeError("data must be an object");return y(e),t}function Dh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function Id(e,t){this._pairs=[],e&&nl(e,this,t)}const gx=Id.prototype;gx.append=function(t,n){this._pairs.push([t,n])};gx.toString=function(t){const n=t?function(a){return t.call(this,a,Dh)}:Dh;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function pC(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vx(e,t,n){if(!t)return e;const a=n&&n.encode||pC;ee.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(t,n):s=ee.isURLSearchParams(t)?t.toString():new Id(t,n).toString(a),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class fC{constructor(){this.handlers=[]}use(t,n,a){return this.handlers.push({fulfilled:t,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ee.forEach(this.handlers,function(a){a!==null&&t(a)})}}const Th=fC,yx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mC=typeof URLSearchParams<"u"?URLSearchParams:Id,xC=typeof FormData<"u"?FormData:null,gC=typeof Blob<"u"?Blob:null,vC={isBrowser:!0,classes:{URLSearchParams:mC,FormData:xC,Blob:gC},protocols:["http","https","file","blob","url","data"]},Md=typeof window<"u"&&typeof document<"u",kc=typeof navigator=="object"&&navigator||void 0,yC=Md&&(!kc||["ReactNative","NativeScript","NS"].indexOf(kc.product)<0),bC=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),jC=Md&&window.location.href||"http://localhost",wC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Md,hasStandardBrowserEnv:yC,hasStandardBrowserWebWorkerEnv:bC,navigator:kc,origin:jC},Symbol.toStringTag,{value:"Module"})),Jt={...wC,...vC};function CC(e,t){return nl(e,new Jt.classes.URLSearchParams,Object.assign({visitor:function(n,a,i,s){return Jt.isNode&&ee.isBuffer(n)?(this.append(a,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function $C(e){return ee.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function SC(e){const t={},n=Object.keys(e);let a;const i=n.length;let s;for(a=0;a<i;a++)s=n[a],t[s]=e[s];return t}function bx(e){function t(n,a,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=n.length;return o=!o&&ee.isArray(i)?i.length:o,c?(ee.hasOwnProp(i,o)?i[o]=[i[o],a]:i[o]=a,!l):((!i[o]||!ee.isObject(i[o]))&&(i[o]=[]),t(n,a,i[o],s)&&ee.isArray(i[o])&&(i[o]=SC(i[o])),!l)}if(ee.isFormData(e)&&ee.isFunction(e.entries)){const n={};return ee.forEachEntry(e,(a,i)=>{t($C(a),i,n,0)}),n}return null}function DC(e,t,n){if(ee.isString(e))try{return(t||JSON.parse)(e),ee.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(e)}const Od={transitional:yx,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const a=n.getContentType()||"",i=a.indexOf("application/json")>-1,s=ee.isObject(t);if(s&&ee.isHTMLForm(t)&&(t=new FormData(t)),ee.isFormData(t))return i?JSON.stringify(bx(t)):t;if(ee.isArrayBuffer(t)||ee.isBuffer(t)||ee.isStream(t)||ee.isFile(t)||ee.isBlob(t)||ee.isReadableStream(t))return t;if(ee.isArrayBufferView(t))return t.buffer;if(ee.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(a.indexOf("application/x-www-form-urlencoded")>-1)return CC(t,this.formSerializer).toString();if((l=ee.isFileList(t))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return nl(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),DC(t)):t}],transformResponse:[function(t){const n=this.transitional||Od.transitional,a=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ee.isResponse(t)||ee.isReadableStream(t))return t;if(t&&ee.isString(t)&&(a&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?Be.from(l,Be.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jt.classes.FormData,Blob:Jt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],e=>{Od.headers[e]={}});const Rd=Od,TC=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kC=e=>{const t={};let n,a,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),a=o.substring(i+1).trim(),!(!n||t[n]&&TC[n])&&(n==="set-cookie"?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t},kh=Symbol("internals");function Pi(e){return e&&String(e).trim().toLowerCase()}function qs(e){return e===!1||e==null?e:ee.isArray(e)?e.map(qs):String(e)}function PC(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}const EC=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Vl(e,t,n,a,i){if(ee.isFunction(a))return a.call(this,t,n);if(i&&(t=n),!!ee.isString(t)){if(ee.isString(a))return t.indexOf(a)!==-1;if(ee.isRegExp(a))return a.test(t)}}function AC(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,a)=>n.toUpperCase()+a)}function IC(e,t){const n=ee.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(i,s,o){return this[a].call(this,t,i,s,o)},configurable:!0})})}class rl{constructor(t){t&&this.set(t)}set(t,n,a){const i=this;function s(l,c,d){const u=Pi(c);if(!u)throw new Error("header name must be a non-empty string");const h=ee.findKey(i,u);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||c]=qs(l))}const o=(l,c)=>ee.forEach(l,(d,u)=>s(d,u,c));if(ee.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(ee.isString(t)&&(t=t.trim())&&!EC(t))o(kC(t),n);else if(ee.isObject(t)&&ee.isIterable(t)){let l={},c,d;for(const u of t){if(!ee.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?ee.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,n)}else t!=null&&s(n,t,a);return this}get(t,n){if(t=Pi(t),t){const a=ee.findKey(this,t);if(a){const i=this[a];if(!n)return i;if(n===!0)return PC(i);if(ee.isFunction(n))return n.call(this,i,a);if(ee.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Pi(t),t){const a=ee.findKey(this,t);return!!(a&&this[a]!==void 0&&(!n||Vl(this,this[a],a,n)))}return!1}delete(t,n){const a=this;let i=!1;function s(o){if(o=Pi(o),o){const l=ee.findKey(a,o);l&&(!n||Vl(a,a[l],l,n))&&(delete a[l],i=!0)}}return ee.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let a=n.length,i=!1;for(;a--;){const s=n[a];(!t||Vl(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,a={};return ee.forEach(this,(i,s)=>{const o=ee.findKey(a,s);if(o){n[o]=qs(i),delete n[s];return}const l=t?AC(s):String(s).trim();l!==s&&delete n[s],n[l]=qs(i),a[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ee.forEach(this,(a,i)=>{a!=null&&a!==!1&&(n[i]=t&&ee.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const a=new this(t);return n.forEach(i=>a.set(i)),a}static accessor(t){const a=(this[kh]=this[kh]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=Pi(o);a[l]||(IC(i,o),a[l]=!0)}return ee.isArray(t)?t.forEach(s):s(t),this}}rl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(rl.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[n]=a}}});ee.freezeMethods(rl);const In=rl;function zl(e,t){const n=this||Rd,a=t||n,i=In.from(a.headers);let s=a.data;return ee.forEach(e,function(l){s=l.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function jx(e){return!!(e&&e.__CANCEL__)}function yi(e,t,n){Be.call(this,e??"canceled",Be.ERR_CANCELED,t,n),this.name="CanceledError"}ee.inherits(yi,Be,{__CANCEL__:!0});function wx(e,t,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):t(new Be("Request failed with status code "+n.status,[Be.ERR_BAD_REQUEST,Be.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function MC(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function OC(e,t){e=e||10;const n=new Array(e),a=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=a[s];o||(o=d),n[i]=c,a[i]=d;let h=s,p=0;for(;h!==i;)p+=n[h++],h=h%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),d-o<t)return;const y=u&&d-u;return y?Math.round(p*1e3/y):void 0}}function RC(e,t){let n=0,a=1e3/t,i,s;const o=(d,u=Date.now())=>{n=u,i=null,s&&(clearTimeout(s),s=null),e.apply(null,d)};return[(...d)=>{const u=Date.now(),h=u-n;h>=a?o(d,u):(i=d,s||(s=setTimeout(()=>{s=null,o(i)},a-h)))},()=>i&&o(i)]}const mo=(e,t,n=3)=>{let a=0;const i=OC(50,250);return RC(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-a,d=i(c),u=o<=l;a=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},n)},Ph=(e,t)=>{const n=e!=null;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},Eh=e=>(...t)=>ee.asap(()=>e(...t)),NC=Jt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Jt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Jt.origin),Jt.navigator&&/(msie|trident)/i.test(Jt.navigator.userAgent)):()=>!0,FC=Jt.hasStandardBrowserEnv?{write(e,t,n,a,i,s){const o=[e+"="+encodeURIComponent(t)];ee.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),ee.isString(a)&&o.push("path="+a),ee.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function LC(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function VC(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Cx(e,t,n){let a=!LC(t);return e&&(a||n==!1)?VC(e,t):t}const Ah=e=>e instanceof In?{...e}:e;function ba(e,t){t=t||{};const n={};function a(d,u,h,p){return ee.isPlainObject(d)&&ee.isPlainObject(u)?ee.merge.call({caseless:p},d,u):ee.isPlainObject(u)?ee.merge({},u):ee.isArray(u)?u.slice():u}function i(d,u,h,p){if(ee.isUndefined(u)){if(!ee.isUndefined(d))return a(void 0,d,h,p)}else return a(d,u,h,p)}function s(d,u){if(!ee.isUndefined(u))return a(void 0,u)}function o(d,u){if(ee.isUndefined(u)){if(!ee.isUndefined(d))return a(void 0,d)}else return a(void 0,u)}function l(d,u,h){if(h in t)return a(d,u);if(h in e)return a(void 0,d)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,h)=>i(Ah(d),Ah(u),h,!0)};return ee.forEach(Object.keys(Object.assign({},e,t)),function(u){const h=c[u]||i,p=h(e[u],t[u],u);ee.isUndefined(p)&&h!==l||(n[u]=p)}),n}const $x=e=>{const t=ba({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=t;t.headers=o=In.from(o),t.url=vx(Cx(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(ee.isFormData(n)){if(Jt.hasStandardBrowserEnv||Jt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...u]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...u].join("; "))}}if(Jt.hasStandardBrowserEnv&&(a&&ee.isFunction(a)&&(a=a(t)),a||a!==!1&&NC(t.url))){const d=i&&s&&FC.read(s);d&&o.set(i,d)}return t},zC=typeof XMLHttpRequest<"u",_C=zC&&function(e){return new Promise(function(n,a){const i=$x(e);let s=i.data;const o=In.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,u,h,p,y,b;function m(){y&&y(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let f=new XMLHttpRequest;f.open(i.method.toUpperCase(),i.url,!0),f.timeout=i.timeout;function j(){if(!f)return;const S=In.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:S,config:e,request:f};wx(function(g){n(g),m()},function(g){a(g),m()},A),f=null}"onloadend"in f?f.onloadend=j:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(j)},f.onabort=function(){f&&(a(new Be("Request aborted",Be.ECONNABORTED,e,f)),f=null)},f.onerror=function(){a(new Be("Network Error",Be.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let T=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const A=i.transitional||yx;i.timeoutErrorMessage&&(T=i.timeoutErrorMessage),a(new Be(T,A.clarifyTimeoutError?Be.ETIMEDOUT:Be.ECONNABORTED,e,f)),f=null},s===void 0&&o.setContentType(null),"setRequestHeader"in f&&ee.forEach(o.toJSON(),function(T,A){f.setRequestHeader(A,T)}),ee.isUndefined(i.withCredentials)||(f.withCredentials=!!i.withCredentials),l&&l!=="json"&&(f.responseType=i.responseType),d&&([p,b]=mo(d,!0),f.addEventListener("progress",p)),c&&f.upload&&([h,y]=mo(c),f.upload.addEventListener("progress",h),f.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(u=S=>{f&&(a(!S||S.type?new yi(null,e,f):S),f.abort(),f=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const $=MC(i.url);if($&&Jt.protocols.indexOf($)===-1){a(new Be("Unsupported protocol "+$+":",Be.ERR_BAD_REQUEST,e));return}f.send(s||null)})},WC=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let a=new AbortController,i;const s=function(d){if(!i){i=!0,l();const u=d instanceof Error?d:this.reason;a.abort(u instanceof Be?u:new yi(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,s(new Be(`timeout ${t} of ms exceeded`,Be.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),e=null)};e.forEach(d=>d.addEventListener("abort",s));const{signal:c}=a;return c.unsubscribe=()=>ee.asap(l),c}},BC=WC,UC=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let a=0,i;for(;a<n;)i=a+t,yield e.slice(a,i),a=i},qC=async function*(e,t){for await(const n of HC(e))yield*UC(n,t)},HC=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:a}=await t.read();if(n)break;yield a}}finally{await t.cancel()}},Ih=(e,t,n,a)=>{const i=qC(e,t);let s=0,o,l=c=>{o||(o=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await i.next();if(d){l(),c.close();return}let h=u.byteLength;if(n){let p=s+=h;n(p)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},al=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Sx=al&&typeof ReadableStream=="function",YC=al&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Dx=(e,...t)=>{try{return!!e(...t)}catch{return!1}},GC=Sx&&Dx(()=>{let e=!1;const t=new Request(Jt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Mh=64*1024,Pc=Sx&&Dx(()=>ee.isReadableStream(new Response("").body)),xo={stream:Pc&&(e=>e.body)};al&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!xo[t]&&(xo[t]=ee.isFunction(e[t])?n=>n[t]():(n,a)=>{throw new Be(`Response type '${t}' is not supported`,Be.ERR_NOT_SUPPORT,a)})})})(new Response);const QC=async e=>{if(e==null)return 0;if(ee.isBlob(e))return e.size;if(ee.isSpecCompliantForm(e))return(await new Request(Jt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(e)||ee.isArrayBuffer(e))return e.byteLength;if(ee.isURLSearchParams(e)&&(e=e+""),ee.isString(e))return(await YC(e)).byteLength},KC=async(e,t)=>{const n=ee.toFiniteNumber(e.getContentLength());return n??QC(t)},ZC=al&&(async e=>{let{url:t,method:n,data:a,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:h="same-origin",fetchOptions:p}=$x(e);d=d?(d+"").toLowerCase():"text";let y=BC([i,s&&s.toAbortSignal()],o),b;const m=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let f;try{if(c&&GC&&n!=="get"&&n!=="head"&&(f=await KC(u,a))!==0){let A=new Request(t,{method:"POST",body:a,duplex:"half"}),M;if(ee.isFormData(a)&&(M=A.headers.get("content-type"))&&u.setContentType(M),A.body){const[g,D]=Ph(f,mo(Eh(c)));a=Ih(A.body,Mh,g,D)}}ee.isString(h)||(h=h?"include":"omit");const j="credentials"in Request.prototype;b=new Request(t,{...p,signal:y,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:a,duplex:"half",credentials:j?h:void 0});let $=await fetch(b,p);const S=Pc&&(d==="stream"||d==="response");if(Pc&&(l||S&&m)){const A={};["status","statusText","headers"].forEach(P=>{A[P]=$[P]});const M=ee.toFiniteNumber($.headers.get("content-length")),[g,D]=l&&Ph(M,mo(Eh(l),!0))||[];$=new Response(Ih($.body,Mh,g,()=>{D&&D(),m&&m()}),A)}d=d||"text";let T=await xo[ee.findKey(xo,d)||"text"]($,e);return!S&&m&&m(),await new Promise((A,M)=>{wx(A,M,{data:T,headers:In.from($.headers),status:$.status,statusText:$.statusText,config:e,request:b})})}catch(j){throw m&&m(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new Be("Network Error",Be.ERR_NETWORK,e,b),{cause:j.cause||j}):Be.from(j,j&&j.code,e,b)}}),Ec={http:dC,xhr:_C,fetch:ZC};ee.forEach(Ec,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Oh=e=>`- ${e}`,XC=e=>ee.isFunction(e)||e===null||e===!1,Tx={getAdapter:e=>{e=ee.isArray(e)?e:[e];const{length:t}=e;let n,a;const i={};for(let s=0;s<t;s++){n=e[s];let o;if(a=n,!XC(n)&&(a=Ec[(o=String(n)).toLowerCase()],a===void 0))throw new Be(`Unknown adapter '${o}'`);if(a)break;i[o||"#"+s]=a}if(!a){const s=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(Oh).join(`
`):" "+Oh(s[0]):"as no adapter specified";throw new Be("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:Ec};function _l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new yi(null,e)}function Rh(e){return _l(e),e.headers=In.from(e.headers),e.data=zl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Tx.getAdapter(e.adapter||Rd.adapter)(e).then(function(a){return _l(e),a.data=zl.call(e,e.transformResponse,a),a.headers=In.from(a.headers),a},function(a){return jx(a)||(_l(e),a&&a.response&&(a.response.data=zl.call(e,e.transformResponse,a.response),a.response.headers=In.from(a.response.headers))),Promise.reject(a)})}const kx="1.10.0",il={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{il[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const Nh={};il.transitional=function(t,n,a){function i(s,o){return"[Axios v"+kx+"] Transitional option '"+s+"'"+o+(a?". "+a:"")}return(s,o,l)=>{if(t===!1)throw new Be(i(o," has been removed"+(n?" in "+n:"")),Be.ERR_DEPRECATED);return n&&!Nh[o]&&(Nh[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,l):!0}};il.spelling=function(t){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function JC(e,t,n){if(typeof e!="object")throw new Be("options must be an object",Be.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let i=a.length;for(;i-- >0;){const s=a[i],o=t[s];if(o){const l=e[s],c=l===void 0||o(l,s,e);if(c!==!0)throw new Be("option "+s+" must be "+c,Be.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Be("Unknown option "+s,Be.ERR_BAD_OPTION)}}const Hs={assertOptions:JC,validators:il},Ln=Hs.validators;class go{constructor(t){this.defaults=t||{},this.interceptors={request:new Th,response:new Th}}async request(t,n){try{return await this._request(t,n)}catch(a){if(a instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{a.stack?s&&!String(a.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+s):a.stack=s}catch{}}throw a}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ba(this.defaults,n);const{transitional:a,paramsSerializer:i,headers:s}=n;a!==void 0&&Hs.assertOptions(a,{silentJSONParsing:Ln.transitional(Ln.boolean),forcedJSONParsing:Ln.transitional(Ln.boolean),clarifyTimeoutError:Ln.transitional(Ln.boolean)},!1),i!=null&&(ee.isFunction(i)?n.paramsSerializer={serialize:i}:Hs.assertOptions(i,{encode:Ln.function,serialize:Ln.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Hs.assertOptions(n,{baseUrl:Ln.spelling("baseURL"),withXsrfToken:Ln.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&ee.merge(s.common,s[n.method]);s&&ee.forEach(["delete","get","head","post","put","patch","common"],b=>{delete s[b]}),n.headers=In.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(c=c&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const d=[];this.interceptors.response.forEach(function(m){d.push(m.fulfilled,m.rejected)});let u,h=0,p;if(!c){const b=[Rh.bind(this),void 0];for(b.unshift.apply(b,l),b.push.apply(b,d),p=b.length,u=Promise.resolve(n);h<p;)u=u.then(b[h++],b[h++]);return u}p=l.length;let y=n;for(h=0;h<p;){const b=l[h++],m=l[h++];try{y=b(y)}catch(f){m.call(this,f);break}}try{u=Rh.call(this,y)}catch(b){return Promise.reject(b)}for(h=0,p=d.length;h<p;)u=u.then(d[h++],d[h++]);return u}getUri(t){t=ba(this.defaults,t);const n=Cx(t.baseURL,t.url,t.allowAbsoluteUrls);return vx(n,t.params,t.paramsSerializer)}}ee.forEach(["delete","get","head","options"],function(t){go.prototype[t]=function(n,a){return this.request(ba(a||{},{method:t,url:n,data:(a||{}).data}))}});ee.forEach(["post","put","patch"],function(t){function n(a){return function(s,o,l){return this.request(ba(l||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}go.prototype[t]=n(),go.prototype[t+"Form"]=n(!0)});const Ys=go;class Nd{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const a=this;this.promise.then(i=>{if(!a._listeners)return;let s=a._listeners.length;for(;s-- >0;)a._listeners[s](i);a._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{a.subscribe(l),s=l}).then(i);return o.cancel=function(){a.unsubscribe(s)},o},t(function(s,o,l){a.reason||(a.reason=new yi(s,o,l),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=a=>{t.abort(a)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Nd(function(i){t=i}),cancel:t}}}const e$=Nd;function t$(e){return function(n){return e.apply(null,n)}}function n$(e){return ee.isObject(e)&&e.isAxiosError===!0}const Ac={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ac).forEach(([e,t])=>{Ac[t]=e});const r$=Ac;function Px(e){const t=new Ys(e),n=sx(Ys.prototype.request,t);return ee.extend(n,Ys.prototype,t,{allOwnKeys:!0}),ee.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return Px(ba(e,i))},n}const _t=Px(Rd);_t.Axios=Ys;_t.CanceledError=yi;_t.CancelToken=e$;_t.isCancel=jx;_t.VERSION=kx;_t.toFormData=nl;_t.AxiosError=Be;_t.Cancel=_t.CanceledError;_t.all=function(t){return Promise.all(t)};_t.spread=t$;_t.isAxiosError=n$;_t.mergeConfig=ba;_t.AxiosHeaders=In;_t.formToJSON=e=>bx(ee.isHTMLForm(e)?new FormData(e):e);_t.getAdapter=Tx.getAdapter;_t.HttpStatusCode=r$;_t.default=_t;const a$=_t;class i${constructor(){lu(this,"instance");this.instance=a$.create({baseURL:ds(),headers:{"Content-Type":"application/json"}}),this.instance.interceptors.request.use(t=>{const n=localStorage.getItem("authToken");return n&&(t.headers.Authorization=`Bearer ${n}`),t},t=>Promise.reject(t)),this.instance.interceptors.response.use(t=>t,t=>{var n;return((n=t.response)==null?void 0:n.status)===401&&(localStorage.removeItem("authToken"),window.location.href="/login"),Promise.reject(t)})}get(t,n){return this.instance.get(t,n)}post(t,n,a){return this.instance.post(t,n,a)}put(t,n,a){return this.instance.put(t,n,a)}delete(t,n){return this.instance.delete(t,n)}}const We=new i$,wn={getAll:async e=>{var n;const t=new URLSearchParams;e!=null&&e.type&&t.append("type",e.type),e!=null&&e.search&&t.append("search",e.search),e!=null&&e.limit&&t.append("limit",e.limit.toString()),e!=null&&e.offset&&t.append("offset",e.offset.toString()),(e==null?void 0:e.hasVehicles)!==void 0&&t.append("hasVehicles",e.hasVehicles.toString()),(e==null?void 0:e.hasContracts)!==void 0&&t.append("hasContracts",e.hasContracts.toString()),(e==null?void 0:e.hasCollaterals)!==void 0&&t.append("hasCollaterals",e.hasCollaterals.toString()),console.log("API Request URL:",`${Ut.CUSTOMERS}?${t.toString()}`),console.log("Filters being sent:",e);try{const a=await We.get(`${Ut.CUSTOMERS}?${t.toString()}`);console.log("API Response:",a);const i=a.data;let s,o;i&&typeof i=="object"&&"data"in i&&"meta"in i?(s=i.data||[],o=((n=i.meta)==null?void 0:n.total)||0,console.log("Using paginated response structure - Total from meta:",o)):Array.isArray(i)?(s=i,o=s.length,console.log("Using array response structure - Total from array length:",o)):(console.warn("Unexpected response structure:",i),s=[],o=0);const l=s.map(c=>({...c,createdAt:c.createdAt,updatedAt:c.updatedAt}));return console.log("Processed customers count:",l.length),console.log("Total count from API:",o),{data:l,total:o}}catch(a){throw console.error("API request failed:",a),a}},getById:async e=>(await We.get(`${Ut.CUSTOMERS}/${e}`)).data,create:async e=>{console.log("API create called with data:",e);try{const t=await We.post(Ut.CUSTOMERS,e);return console.log("API create response:",t.data),t.data}catch(t){throw console.error("API create error:",t),t}},update:async(e,t)=>(await We.put(`${Ut.CUSTOMERS}/${e}`,t)).data,delete:async e=>{await We.delete(`${Ut.CUSTOMERS}/${e}`)},getContracts:async(e,t)=>{const n=new URLSearchParams;return(t==null?void 0:t.active)!==void 0&&n.append("active",t.active.toString()),t!=null&&t.limit&&n.append("limit",t.limit.toString()),t!=null&&t.offset&&n.append("offset",t.offset.toString()),(await We.get(`/customers/${e}/contracts?${n.toString()}`)).data},getCollateral:async(e,t)=>{const n=new URLSearchParams;return(t==null?void 0:t.active)!==void 0&&n.append("active",t.active.toString()),t!=null&&t.limit&&n.append("limit",t.limit.toString()),t!=null&&t.offset&&n.append("offset",t.offset.toString()),(await We.get(`/customers/${e}/collateral?${n.toString()}`)).data},getLogs:async(e,t)=>{const n=new URLSearchParams;return t!=null&&t.type&&n.append("type",t.type),t!=null&&t.limit&&n.append("limit",t.limit.toString()),t!=null&&t.offset&&n.append("offset",t.offset.toString()),(await We.get(`/audit/customer/${e}?${n.toString()}`)).data},getInvoices:async(e,t)=>{const n=new URLSearchParams;t!=null&&t.status&&n.append("status",t.status),t!=null&&t.type&&n.append("type",t.type),t!=null&&t.dateRange&&n.append("dateRange",t.dateRange),t!=null&&t.amountRange&&n.append("amountRange",t.amountRange),t!=null&&t.limit&&n.append("limit",t.limit.toString()),t!=null&&t.offset&&n.append("offset",t.offset.toString());const a=n.toString(),i=a?`/customers/${e}/payments?${a}`:`/customers/${e}/payments`;return(await We.get(i)).data}},Ex=()=>{const e=Ta(),{customers:t,loading:n,error:a,filters:i,totalCount:s}=_o(c=>c.customers),o=x.useRef(""),l=x.useCallback(async()=>{const c=JSON.stringify(i);if(c===o.current){console.log("Same filters as last call, skipping API request");return}if(n){console.log("Already loading, skipping API call");return}o.current=c,e(Bi(!0));try{console.log("Fetching customers with filters:",i);const d=await wn.getAll(i);console.log("Received result:",d),e(Bj({customers:d.data,total:d.total}))}catch(d){console.error("Error fetching customers:",d),e(Cc(d instanceof Error?d.message:"Failed to fetch customers"))}finally{e(Bi(!1))}},[e,i,n]);return x.useEffect(()=>{l()},[l]),{customers:t,loading:n,error:a,totalCount:s,refetch:l}},Fd=()=>{const{enqueueSnackbar:e}=Wj(),t=x.useCallback((o,l="default")=>{e(o,{variant:l})},[e]),n=x.useCallback(o=>{t(o,"success")},[t]),a=x.useCallback(o=>{t(o,"error")},[t]),i=x.useCallback(o=>{t(o,"warning")},[t]),s=x.useCallback(o=>{t(o,"info")},[t]);return{showNotification:t,showSuccess:n,showError:a,showWarning:i,showInfo:s}},s$=()=>{const[e,t]=x.useState(!1),[n,a]=x.useState(null),{showSuccess:i,showError:s}=Fd(),{refetch:o}=Ex();return{deleteCustomer:async c=>{t(!0),a(null);try{await wn.delete(c),i("Customer deleted successfully"),o()}catch(d){const u=d instanceof Error?d.message:"Failed to delete customer";throw a(u),s(u),d}finally{t(!1)}},loading:e,error:n}},sl=({open:e,title:t,message:n,confirmText:a="Confirm",cancelText:i="Cancel",onConfirm:s,onCancel:o})=>r.jsxs(Lr,{open:e,onClose:o,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[r.jsx(Ca,{id:"confirm-dialog-title",children:t}),r.jsx(Vr,{children:r.jsx(Pf,{id:"confirm-dialog-description",children:n})}),r.jsxs(ui,{children:[r.jsx(ue,{onClick:o,color:"inherit",children:i}),r.jsx(ue,{onClick:s,color:"error",variant:"contained",autoFocus:!0,children:a})]})]});function Ax(e,t){const[n,a]=x.useState(e);return x.useEffect(()=>{const i=setTimeout(()=>{a(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}const o$=()=>{const e=yt(),t=Ta(),{customers:n,loading:a,totalCount:i}=Ex(),{deleteCustomer:s}=s$(),[o,l]=x.useState(0),[c,d]=x.useState(10),[u,h]=x.useState(""),[p,y]=x.useState(""),[b,m]=x.useState(void 0),[f,j]=x.useState(void 0),[$,S]=x.useState(void 0),[T,A]=x.useState(!1),[M,g]=x.useState(null),D=Ax(u,500);re.useEffect(()=>{const E=D!==""||p!==""||b!==void 0||f!==void 0||$!==void 0,I=E&&o>0?0:o;E&&o>0&&l(0);const V=setTimeout(()=>{t(Uj({search:D,type:p||void 0,limit:c,offset:I*c,hasVehicles:b,hasContracts:f,hasCollaterals:$}))},50);return()=>clearTimeout(V)},[D,p,b,f,$,o,c,t]);const P=E=>{g(E),A(!0)},C=async()=>{M&&(await s(M),A(!1),g(null),n.length===1&&o>0&&l(o-1))},k=E=>{l(E)},R=E=>{d(E),l(0)},O=()=>{h(""),y(""),m(void 0),j(void 0),S(void 0),l(0)};return r.jsxs(w,{children:[r.jsxs(w,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx(v,{variant:"h4",children:"Customers"}),r.jsx(ue,{variant:"contained",startIcon:r.jsx(Zt,{}),onClick:()=>e("/customers/new"),children:"Add Customer"})]}),r.jsx($w,{searchTerm:u,onSearchChange:h,typeFilter:p,onTypeChange:y,hasVehicles:b,onHasVehiclesChange:m,hasContracts:f,onHasContractsChange:j,hasCollaterals:$,onHasCollateralsChange:S,onClearFilters:O}),r.jsx(Cw,{customers:n,loading:a,totalCount:i,page:o,rowsPerPage:c,onPageChange:k,onRowsPerPageChange:R,onDelete:P}),r.jsx(sl,{open:T,title:"Delete Customer",message:"Are you sure you want to delete this customer? This action cannot be undone.",onConfirm:C,onCancel:()=>A(!1)})]})};var hs=e=>e.type==="checkbox",pa=e=>e instanceof Date,an=e=>e==null;const Ix=e=>typeof e=="object";var Lt=e=>!an(e)&&!Array.isArray(e)&&Ix(e)&&!pa(e),Mx=e=>Lt(e)&&e.target?hs(e.target)?e.target.checked:e.target.value:e,l$=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ox=(e,t)=>e.has(l$(t)),c$=e=>{const t=e.constructor&&e.constructor.prototype;return Lt(t)&&t.hasOwnProperty("isPrototypeOf")},Ld=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Qt(e){let t;const n=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Ld&&(e instanceof Blob||a))&&(n||Lt(e)))if(t=n?[]:{},!n&&!c$(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Qt(e[i]));else return e;return t}var ol=e=>/^\w*$/.test(e),Mt=e=>e===void 0,Vd=e=>Array.isArray(e)?e.filter(Boolean):[],zd=e=>Vd(e.replace(/["|']|\]/g,"").split(/\.|\[/)),je=(e,t,n)=>{if(!t||!Lt(e))return n;const a=(ol(t)?[t]:zd(t)).reduce((i,s)=>an(i)?i:i[s],e);return Mt(a)||a===e?Mt(e[t])?n:e[t]:a},mn=e=>typeof e=="boolean",dt=(e,t,n)=>{let a=-1;const i=ol(t)?[t]:zd(t),s=i.length,o=s-1;for(;++a<s;){const l=i[a];let c=n;if(a!==o){const d=e[l];c=Lt(d)||Array.isArray(d)?d:isNaN(+i[a+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const vo={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Pn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},or={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},_d=re.createContext(null);_d.displayName="HookFormContext";const tr=()=>re.useContext(_d),Wd=e=>{const{children:t,...n}=e;return re.createElement(_d.Provider,{value:n},t)};var Rx=(e,t,n,a=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==Pn.all&&(t._proxyFormState[o]=!a||Pn.all),n&&(n[o]=!0),e[o]}});return i};const Bd=typeof window<"u"?x.useLayoutEffect:x.useEffect;function d$(e){const t=tr(),{control:n=t.control,disabled:a,name:i,exact:s}=e||{},[o,l]=re.useState(n._formState),c=re.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Bd(()=>n._subscribe({name:i,formState:c.current,exact:s,callback:d=>{!a&&l({...n._formState,...d})}}),[i,a,s]),re.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),re.useMemo(()=>Rx(o,n,c.current,!1),[o,n])}var Yn=e=>typeof e=="string",Nx=(e,t,n,a,i)=>Yn(e)?(a&&t.watch.add(e),je(n,e,i)):Array.isArray(e)?e.map(s=>(a&&t.watch.add(s),je(n,s))):(a&&(t.watchAll=!0),n);function u$(e){const t=tr(),{control:n=t.control,name:a,defaultValue:i,disabled:s,exact:o}=e||{},l=re.useRef(i),[c,d]=re.useState(n._getWatch(a,l.current));return Bd(()=>n._subscribe({name:a,formState:{values:!0},exact:o,callback:u=>!s&&d(Nx(a,n._names,u.values||n._formValues,!1,l.current))}),[a,n,s,o]),re.useEffect(()=>n._removeUnmounted()),c}function h$(e){const t=tr(),{name:n,disabled:a,control:i=t.control,shouldUnregister:s}=e,o=Ox(i._names.array,n),l=u$({control:i,name:n,defaultValue:je(i._formValues,n,je(i._defaultValues,n,e.defaultValue)),exact:!0}),c=d$({control:i,name:n,exact:!0}),d=re.useRef(e),u=re.useRef(i.register(n,{...e.rules,value:l,...mn(e.disabled)?{disabled:e.disabled}:{}})),h=re.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!je(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!je(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!je(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!je(c.validatingFields,n)},error:{enumerable:!0,get:()=>je(c.errors,n)}}),[c,n]),p=re.useCallback(f=>u.current.onChange({target:{value:Mx(f),name:n},type:vo.CHANGE}),[n]),y=re.useCallback(()=>u.current.onBlur({target:{value:je(i._formValues,n),name:n},type:vo.BLUR}),[n,i._formValues]),b=re.useCallback(f=>{const j=je(i._fields,n);j&&f&&(j._f.ref={focus:()=>f.focus&&f.focus(),select:()=>f.select&&f.select(),setCustomValidity:$=>f.setCustomValidity($),reportValidity:()=>f.reportValidity()})},[i._fields,n]),m=re.useMemo(()=>({name:n,value:l,...mn(a)||c.disabled?{disabled:c.disabled||a}:{},onChange:p,onBlur:y,ref:b}),[n,a,c.disabled,p,y,b,l]);return re.useEffect(()=>{const f=i._options.shouldUnregister||s;i.register(n,{...d.current.rules,...mn(d.current.disabled)?{disabled:d.current.disabled}:{}});const j=($,S)=>{const T=je(i._fields,$);T&&T._f&&(T._f.mount=S)};if(j(n,!0),f){const $=Qt(je(i._options.defaultValues,n));dt(i._defaultValues,n,$),Mt(je(i._formValues,n))&&dt(i._formValues,n,$)}return!o&&i.register(n),()=>{(o?f&&!i._state.action:f)?i.unregister(n):j(n,!1)}},[n,i,o,s]),re.useEffect(()=>{i._setDisabledField({disabled:a,name:n})},[a,n,i]),re.useMemo(()=>({field:m,formState:c,fieldState:h}),[m,c,h])}const Re=e=>e.render(h$(e));var Fx=(e,t,n,a,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[a]:i||!0}}:{},Ui=e=>Array.isArray(e)?e:[e],Fh=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},Ic=e=>an(e)||!Ix(e);function Tr(e,t){if(Ic(e)||Ic(t))return e===t;if(pa(e)&&pa(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(const i of n){const s=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const o=t[i];if(pa(s)&&pa(o)||Lt(s)&&Lt(o)||Array.isArray(s)&&Array.isArray(o)?!Tr(s,o):s!==o)return!1}}return!0}var ln=e=>Lt(e)&&!Object.keys(e).length,Ud=e=>e.type==="file",En=e=>typeof e=="function",yo=e=>{if(!Ld)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Lx=e=>e.type==="select-multiple",qd=e=>e.type==="radio",p$=e=>qd(e)||hs(e),Wl=e=>yo(e)&&e.isConnected;function f$(e,t){const n=t.slice(0,-1).length;let a=0;for(;a<n;)e=Mt(e)?a++:e[t[a++]];return e}function m$(e){for(const t in e)if(e.hasOwnProperty(t)&&!Mt(e[t]))return!1;return!0}function Bt(e,t){const n=Array.isArray(t)?t:ol(t)?[t]:zd(t),a=n.length===1?e:f$(e,n),i=n.length-1,s=n[i];return a&&delete a[s],i!==0&&(Lt(a)&&ln(a)||Array.isArray(a)&&m$(a))&&Bt(e,n.slice(0,-1)),e}var Vx=e=>{for(const t in e)if(En(e[t]))return!0;return!1};function bo(e,t={}){const n=Array.isArray(e);if(Lt(e)||n)for(const a in e)Array.isArray(e[a])||Lt(e[a])&&!Vx(e[a])?(t[a]=Array.isArray(e[a])?[]:{},bo(e[a],t[a])):an(e[a])||(t[a]=!0);return t}function zx(e,t,n){const a=Array.isArray(e);if(Lt(e)||a)for(const i in e)Array.isArray(e[i])||Lt(e[i])&&!Vx(e[i])?Mt(t)||Ic(n[i])?n[i]=Array.isArray(e[i])?bo(e[i],[]):{...bo(e[i])}:zx(e[i],an(t)?{}:t[i],n[i]):n[i]=!Tr(e[i],t[i]);return n}var Ei=(e,t)=>zx(e,t,bo(t));const Lh={value:!1,isValid:!1},Vh={value:!0,isValid:!0};var _x=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Mt(e[0].attributes.value)?Mt(e[0].value)||e[0].value===""?Vh:{value:e[0].value,isValid:!0}:Vh:Lh}return Lh},Wx=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:a})=>Mt(e)?e:t?e===""?NaN:e&&+e:n&&Yn(e)?new Date(e):a?a(e):e;const zh={isValid:!1,value:null};var Bx=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,zh):zh;function _h(e){const t=e.ref;return Ud(t)?t.files:qd(t)?Bx(e.refs).value:Lx(t)?[...t.selectedOptions].map(({value:n})=>n):hs(t)?_x(e.refs).value:Wx(Mt(t.value)?e.ref.value:t.value,e)}var x$=(e,t,n,a)=>{const i={};for(const s of e){const o=je(t,s);o&&dt(i,s,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:a}},jo=e=>e instanceof RegExp,Ai=e=>Mt(e)?e:jo(e)?e.source:Lt(e)?jo(e.value)?e.value.source:e.value:e,Wh=e=>({isOnSubmit:!e||e===Pn.onSubmit,isOnBlur:e===Pn.onBlur,isOnChange:e===Pn.onChange,isOnAll:e===Pn.all,isOnTouch:e===Pn.onTouched});const Bh="AsyncFunction";var g$=e=>!!e&&!!e.validate&&!!(En(e.validate)&&e.validate.constructor.name===Bh||Lt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Bh)),v$=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Uh=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const qi=(e,t,n,a)=>{for(const i of n||Object.keys(e)){const s=je(e,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!a)return!0;if(o.ref&&t(o.ref,o.name)&&!a)return!0;if(qi(l,t))break}else if(Lt(l)&&qi(l,t))break}}};function qh(e,t,n){const a=je(e,n);if(a||ol(n))return{error:a,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=je(t,s),l=je(e,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};i.pop()}return{name:n}}var y$=(e,t,n,a)=>{n(e);const{name:i,...s}=e;return ln(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!a||Pn.all))},b$=(e,t,n)=>!e||!t||e===t||Ui(e).some(a=>a&&(n?a===t:a.startsWith(t)||t.startsWith(a))),j$=(e,t,n,a,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?a.isOnBlur:i.isOnBlur)?!e:(n?a.isOnChange:i.isOnChange)?e:!0,w$=(e,t)=>!Vd(je(e,t)).length&&Bt(e,t),C$=(e,t,n)=>{const a=Ui(je(e,n));return dt(a,"root",t[n]),dt(e,n,a),e},Gs=e=>Yn(e);function Hh(e,t,n="validate"){if(Gs(e)||Array.isArray(e)&&e.every(Gs)||mn(e)&&!e)return{type:n,message:Gs(e)?e:"",ref:t}}var Fa=e=>Lt(e)&&!jo(e)?e:{value:e,message:""},Yh=async(e,t,n,a,i,s)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:p,pattern:y,validate:b,name:m,valueAsNumber:f,mount:j}=e._f,$=je(n,m);if(!j||t.has(m))return{};const S=l?l[0]:o,T=R=>{i&&S.reportValidity&&(S.setCustomValidity(mn(R)?"":R||""),S.reportValidity())},A={},M=qd(o),g=hs(o),D=M||g,P=(f||Ud(o))&&Mt(o.value)&&Mt($)||yo(o)&&o.value===""||$===""||Array.isArray($)&&!$.length,C=Fx.bind(null,m,a,A),k=(R,O,E,I=or.maxLength,V=or.minLength)=>{const U=R?O:E;A[m]={type:R?I:V,message:U,ref:o,...C(R?I:V,U)}};if(s?!Array.isArray($)||!$.length:c&&(!D&&(P||an($))||mn($)&&!$||g&&!_x(l).isValid||M&&!Bx(l).isValid)){const{value:R,message:O}=Gs(c)?{value:!!c,message:c}:Fa(c);if(R&&(A[m]={type:or.required,message:O,ref:S,...C(or.required,O)},!a))return T(O),A}if(!P&&(!an(h)||!an(p))){let R,O;const E=Fa(p),I=Fa(h);if(!an($)&&!isNaN($)){const V=o.valueAsNumber||$&&+$;an(E.value)||(R=V>E.value),an(I.value)||(O=V<I.value)}else{const V=o.valueAsDate||new Date($),U=B=>new Date(new Date().toDateString()+" "+B),_=o.type=="time",z=o.type=="week";Yn(E.value)&&$&&(R=_?U($)>U(E.value):z?$>E.value:V>new Date(E.value)),Yn(I.value)&&$&&(O=_?U($)<U(I.value):z?$<I.value:V<new Date(I.value))}if((R||O)&&(k(!!R,E.message,I.message,or.max,or.min),!a))return T(A[m].message),A}if((d||u)&&!P&&(Yn($)||s&&Array.isArray($))){const R=Fa(d),O=Fa(u),E=!an(R.value)&&$.length>+R.value,I=!an(O.value)&&$.length<+O.value;if((E||I)&&(k(E,R.message,O.message),!a))return T(A[m].message),A}if(y&&!P&&Yn($)){const{value:R,message:O}=Fa(y);if(jo(R)&&!$.match(R)&&(A[m]={type:or.pattern,message:O,ref:o,...C(or.pattern,O)},!a))return T(O),A}if(b){if(En(b)){const R=await b($,n),O=Hh(R,S);if(O&&(A[m]={...O,...C(or.validate,O.message)},!a))return T(O.message),A}else if(Lt(b)){let R={};for(const O in b){if(!ln(R)&&!a)break;const E=Hh(await b[O]($,n),S,O);E&&(R={...E,...C(O,E.message)},T(E.message),a&&(A[m]=R))}if(!ln(R)&&(A[m]={ref:S,...R},!a))return A}}return T(!0),A};const $$={mode:Pn.onSubmit,reValidateMode:Pn.onChange,shouldFocusError:!0};function S$(e={}){let t={...$$,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:En(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const a={};let i=Lt(t.defaultValues)||Lt(t.values)?Qt(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:Qt(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const p={array:Fh(),state:Fh()},y=t.criteriaMode===Pn.all,b=L=>W=>{clearTimeout(d),d=setTimeout(L,W)},m=async L=>{if(!t.disabled&&(u.isValid||h.isValid||L)){const W=t.resolver?ln((await g()).errors):await P(a,!0);W!==n.isValid&&p.state.next({isValid:W})}},f=(L,W)=>{!t.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((L||Array.from(l.mount)).forEach(H=>{H&&(W?dt(n.validatingFields,H,W):Bt(n.validatingFields,H))}),p.state.next({validatingFields:n.validatingFields,isValidating:!ln(n.validatingFields)}))},j=(L,W=[],H,ce,Y=!0,K=!0)=>{if(ce&&H&&!t.disabled){if(o.action=!0,K&&Array.isArray(je(a,L))){const ae=H(je(a,L),ce.argA,ce.argB);Y&&dt(a,L,ae)}if(K&&Array.isArray(je(n.errors,L))){const ae=H(je(n.errors,L),ce.argA,ce.argB);Y&&dt(n.errors,L,ae),w$(n.errors,L)}if((u.touchedFields||h.touchedFields)&&K&&Array.isArray(je(n.touchedFields,L))){const ae=H(je(n.touchedFields,L),ce.argA,ce.argB);Y&&dt(n.touchedFields,L,ae)}(u.dirtyFields||h.dirtyFields)&&(n.dirtyFields=Ei(i,s)),p.state.next({name:L,isDirty:k(L,W),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else dt(s,L,W)},$=(L,W)=>{dt(n.errors,L,W),p.state.next({errors:n.errors})},S=L=>{n.errors=L,p.state.next({errors:n.errors,isValid:!1})},T=(L,W,H,ce)=>{const Y=je(a,L);if(Y){const K=je(s,L,Mt(H)?je(i,L):H);Mt(K)||ce&&ce.defaultChecked||W?dt(s,L,W?K:_h(Y._f)):E(L,K),o.mount&&m()}},A=(L,W,H,ce,Y)=>{let K=!1,ae=!1;const Ce={name:L};if(!t.disabled){if(!H||ce){(u.isDirty||h.isDirty)&&(ae=n.isDirty,n.isDirty=Ce.isDirty=k(),K=ae!==Ce.isDirty);const Ne=Tr(je(i,L),W);ae=!!je(n.dirtyFields,L),Ne?Bt(n.dirtyFields,L):dt(n.dirtyFields,L,!0),Ce.dirtyFields=n.dirtyFields,K=K||(u.dirtyFields||h.dirtyFields)&&ae!==!Ne}if(H){const Ne=je(n.touchedFields,L);Ne||(dt(n.touchedFields,L,H),Ce.touchedFields=n.touchedFields,K=K||(u.touchedFields||h.touchedFields)&&Ne!==H)}K&&Y&&p.state.next(Ce)}return K?Ce:{}},M=(L,W,H,ce)=>{const Y=je(n.errors,L),K=(u.isValid||h.isValid)&&mn(W)&&n.isValid!==W;if(t.delayError&&H?(c=b(()=>$(L,H)),c(t.delayError)):(clearTimeout(d),c=null,H?dt(n.errors,L,H):Bt(n.errors,L)),(H?!Tr(Y,H):Y)||!ln(ce)||K){const ae={...ce,...K&&mn(W)?{isValid:W}:{},errors:n.errors,name:L};n={...n,...ae},p.state.next(ae)}},g=async L=>{f(L,!0);const W=await t.resolver(s,t.context,x$(L||l.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return f(L),W},D=async L=>{const{errors:W}=await g(L);if(L)for(const H of L){const ce=je(W,H);ce?dt(n.errors,H,ce):Bt(n.errors,H)}else n.errors=W;return W},P=async(L,W,H={valid:!0})=>{for(const ce in L){const Y=L[ce];if(Y){const{_f:K,...ae}=Y;if(K){const Ce=l.array.has(K.name),Ne=Y._f&&g$(Y._f);Ne&&u.validatingFields&&f([ce],!0);const xt=await Yh(Y,l.disabled,s,y,t.shouldUseNativeValidation&&!W,Ce);if(Ne&&u.validatingFields&&f([ce]),xt[K.name]&&(H.valid=!1,W))break;!W&&(je(xt,K.name)?Ce?C$(n.errors,xt,K.name):dt(n.errors,K.name,xt[K.name]):Bt(n.errors,K.name))}!ln(ae)&&await P(ae,W,H)}}return H.valid},C=()=>{for(const L of l.unMount){const W=je(a,L);W&&(W._f.refs?W._f.refs.every(H=>!Wl(H)):!Wl(W._f.ref))&&te(L)}l.unMount=new Set},k=(L,W)=>!t.disabled&&(L&&W&&dt(s,L,W),!Tr(B(),i)),R=(L,W,H)=>Nx(L,l,{...o.mount?s:Mt(W)?i:Yn(L)?{[L]:W}:W},H,W),O=L=>Vd(je(o.mount?s:i,L,t.shouldUnregister?je(i,L,[]):[])),E=(L,W,H={})=>{const ce=je(a,L);let Y=W;if(ce){const K=ce._f;K&&(!K.disabled&&dt(s,L,Wx(W,K)),Y=yo(K.ref)&&an(W)?"":W,Lx(K.ref)?[...K.ref.options].forEach(ae=>ae.selected=Y.includes(ae.value)):K.refs?hs(K.ref)?K.refs.forEach(ae=>{(!ae.defaultChecked||!ae.disabled)&&(Array.isArray(Y)?ae.checked=!!Y.find(Ce=>Ce===ae.value):ae.checked=Y===ae.value||!!Y)}):K.refs.forEach(ae=>ae.checked=ae.value===Y):Ud(K.ref)?K.ref.value="":(K.ref.value=Y,K.ref.type||p.state.next({name:L,values:Qt(s)})))}(H.shouldDirty||H.shouldTouch)&&A(L,Y,H.shouldTouch,H.shouldDirty,!0),H.shouldValidate&&z(L)},I=(L,W,H)=>{for(const ce in W){if(!W.hasOwnProperty(ce))return;const Y=W[ce],K=L+"."+ce,ae=je(a,K);(l.array.has(L)||Lt(Y)||ae&&!ae._f)&&!pa(Y)?I(K,Y,H):E(K,Y,H)}},V=(L,W,H={})=>{const ce=je(a,L),Y=l.array.has(L),K=Qt(W);dt(s,L,K),Y?(p.array.next({name:L,values:Qt(s)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&H.shouldDirty&&p.state.next({name:L,dirtyFields:Ei(i,s),isDirty:k(L,K)})):ce&&!ce._f&&!an(K)?I(L,K,H):E(L,K,H),Uh(L,l)&&p.state.next({...n}),p.state.next({name:o.mount?L:void 0,values:Qt(s)})},U=async L=>{o.mount=!0;const W=L.target;let H=W.name,ce=!0;const Y=je(a,H),K=Ne=>{ce=Number.isNaN(Ne)||pa(Ne)&&isNaN(Ne.getTime())||Tr(Ne,je(s,H,Ne))},ae=Wh(t.mode),Ce=Wh(t.reValidateMode);if(Y){let Ne,xt;const Vt=W.type?_h(Y._f):Mx(L),Xt=L.type===vo.BLUR||L.type===vo.FOCUS_OUT,Dn=!v$(Y._f)&&!t.resolver&&!je(n.errors,H)&&!Y._f.deps||j$(Xt,je(n.touchedFields,H),n.isSubmitted,Ce,ae),Wt=Uh(H,l,Xt);dt(s,H,Vt),Xt?(Y._f.onBlur&&Y._f.onBlur(L),c&&c(0)):Y._f.onChange&&Y._f.onChange(L);const Rn=A(H,Vt,Xt),Yr=!ln(Rn)||Wt;if(!Xt&&p.state.next({name:H,type:L.type,values:Qt(s)}),Dn)return(u.isValid||h.isValid)&&(t.mode==="onBlur"?Xt&&m():Xt||m()),Yr&&p.state.next({name:H,...Wt?{}:Rn});if(!Xt&&Wt&&p.state.next({...n}),t.resolver){const{errors:jr}=await g([H]);if(K(Vt),ce){const Gr=qh(n.errors,a,H),Nn=qh(jr,a,Gr.name||H);Ne=Nn.error,H=Nn.name,xt=ln(jr)}}else f([H],!0),Ne=(await Yh(Y,l.disabled,s,y,t.shouldUseNativeValidation))[H],f([H]),K(Vt),ce&&(Ne?xt=!1:(u.isValid||h.isValid)&&(xt=await P(a,!0)));ce&&(Y._f.deps&&z(Y._f.deps),M(H,xt,Ne,Rn))}},_=(L,W)=>{if(je(n.errors,W)&&L.focus)return L.focus(),1},z=async(L,W={})=>{let H,ce;const Y=Ui(L);if(t.resolver){const K=await D(Mt(L)?L:Y);H=ln(K),ce=L?!Y.some(ae=>je(K,ae)):H}else L?(ce=(await Promise.all(Y.map(async K=>{const ae=je(a,K);return await P(ae&&ae._f?{[K]:ae}:ae)}))).every(Boolean),!(!ce&&!n.isValid)&&m()):ce=H=await P(a);return p.state.next({...!Yn(L)||(u.isValid||h.isValid)&&H!==n.isValid?{}:{name:L},...t.resolver||!L?{isValid:H}:{},errors:n.errors}),W.shouldFocus&&!ce&&qi(a,_,L?Y:l.mount),ce},B=L=>{const W={...o.mount?s:i};return Mt(L)?W:Yn(L)?je(W,L):L.map(H=>je(W,H))},Q=(L,W)=>({invalid:!!je((W||n).errors,L),isDirty:!!je((W||n).dirtyFields,L),error:je((W||n).errors,L),isValidating:!!je(n.validatingFields,L),isTouched:!!je((W||n).touchedFields,L)}),se=L=>{L&&Ui(L).forEach(W=>Bt(n.errors,W)),p.state.next({errors:L?n.errors:{}})},X=(L,W,H)=>{const ce=(je(a,L,{_f:{}})._f||{}).ref,Y=je(n.errors,L)||{},{ref:K,message:ae,type:Ce,...Ne}=Y;dt(n.errors,L,{...Ne,...W,ref:ce}),p.state.next({name:L,errors:n.errors,isValid:!1}),H&&H.shouldFocus&&ce&&ce.focus&&ce.focus()},J=(L,W)=>En(L)?p.state.subscribe({next:H=>L(R(void 0,W),H)}):R(L,W,!0),ie=L=>p.state.subscribe({next:W=>{b$(L.name,W.name,L.exact)&&y$(W,L.formState||u,ut,L.reRenderRoot)&&L.callback({values:{...s},...n,...W})}}).unsubscribe,me=L=>(o.mount=!0,h={...h,...L.formState},ie({...L,formState:h})),te=(L,W={})=>{for(const H of L?Ui(L):l.mount)l.mount.delete(H),l.array.delete(H),W.keepValue||(Bt(a,H),Bt(s,H)),!W.keepError&&Bt(n.errors,H),!W.keepDirty&&Bt(n.dirtyFields,H),!W.keepTouched&&Bt(n.touchedFields,H),!W.keepIsValidating&&Bt(n.validatingFields,H),!t.shouldUnregister&&!W.keepDefaultValue&&Bt(i,H);p.state.next({values:Qt(s)}),p.state.next({...n,...W.keepDirty?{isDirty:k()}:{}}),!W.keepIsValid&&m()},pe=({disabled:L,name:W})=>{(mn(L)&&o.mount||L||l.disabled.has(W))&&(L?l.disabled.add(W):l.disabled.delete(W))},ve=(L,W={})=>{let H=je(a,L);const ce=mn(W.disabled)||mn(t.disabled);return dt(a,L,{...H||{},_f:{...H&&H._f?H._f:{ref:{name:L}},name:L,mount:!0,...W}}),l.mount.add(L),H?pe({disabled:mn(W.disabled)?W.disabled:t.disabled,name:L}):T(L,!0,W.value),{...ce?{disabled:W.disabled||t.disabled}:{},...t.progressive?{required:!!W.required,min:Ai(W.min),max:Ai(W.max),minLength:Ai(W.minLength),maxLength:Ai(W.maxLength),pattern:Ai(W.pattern)}:{},name:L,onChange:U,onBlur:U,ref:Y=>{if(Y){ve(L,W),H=je(a,L);const K=Mt(Y.value)&&Y.querySelectorAll&&Y.querySelectorAll("input,select,textarea")[0]||Y,ae=p$(K),Ce=H._f.refs||[];if(ae?Ce.find(Ne=>Ne===K):K===H._f.ref)return;dt(a,L,{_f:{...H._f,...ae?{refs:[...Ce.filter(Wl),K,...Array.isArray(je(i,L))?[{}]:[]],ref:{type:K.type,name:L}}:{ref:K}}}),T(L,!1,void 0,K)}else H=je(a,L,{}),H._f&&(H._f.mount=!1),(t.shouldUnregister||W.shouldUnregister)&&!(Ox(l.array,L)&&o.action)&&l.unMount.add(L)}}},ge=()=>t.shouldFocusError&&qi(a,_,l.mount),he=L=>{mn(L)&&(p.state.next({disabled:L}),qi(a,(W,H)=>{const ce=je(a,H);ce&&(W.disabled=ce._f.disabled||L,Array.isArray(ce._f.refs)&&ce._f.refs.forEach(Y=>{Y.disabled=ce._f.disabled||L}))},0,!1))},xe=(L,W)=>async H=>{let ce;H&&(H.preventDefault&&H.preventDefault(),H.persist&&H.persist());let Y=Qt(s);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:K,values:ae}=await g();n.errors=K,Y=ae}else await P(a);if(l.disabled.size)for(const K of l.disabled)dt(Y,K,void 0);if(Bt(n.errors,"root"),ln(n.errors)){p.state.next({errors:{}});try{await L(Y,H)}catch(K){ce=K}}else W&&await W({...n.errors},H),ge(),setTimeout(ge);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ln(n.errors)&&!ce,submitCount:n.submitCount+1,errors:n.errors}),ce)throw ce},oe=(L,W={})=>{je(a,L)&&(Mt(W.defaultValue)?V(L,Qt(je(i,L))):(V(L,W.defaultValue),dt(i,L,Qt(W.defaultValue))),W.keepTouched||Bt(n.touchedFields,L),W.keepDirty||(Bt(n.dirtyFields,L),n.isDirty=W.defaultValue?k(L,Qt(je(i,L))):k()),W.keepError||(Bt(n.errors,L),u.isValid&&m()),p.state.next({...n}))},Te=(L,W={})=>{const H=L?Qt(L):i,ce=Qt(H),Y=ln(L),K=Y?i:ce;if(W.keepDefaultValues||(i=H),!W.keepValues){if(W.keepDirtyValues){const ae=new Set([...l.mount,...Object.keys(Ei(i,s))]);for(const Ce of Array.from(ae))je(n.dirtyFields,Ce)?dt(K,Ce,je(s,Ce)):V(Ce,je(K,Ce))}else{if(Ld&&Mt(L))for(const ae of l.mount){const Ce=je(a,ae);if(Ce&&Ce._f){const Ne=Array.isArray(Ce._f.refs)?Ce._f.refs[0]:Ce._f.ref;if(yo(Ne)){const xt=Ne.closest("form");if(xt){xt.reset();break}}}}for(const ae of l.mount)V(ae,je(K,ae))}s=Qt(K),p.array.next({values:{...K}}),p.state.next({values:{...K}})}l={mount:W.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!W.keepIsValid||!!W.keepDirtyValues,o.watch=!!t.shouldUnregister,p.state.next({submitCount:W.keepSubmitCount?n.submitCount:0,isDirty:Y?!1:W.keepDirty?n.isDirty:!!(W.keepDefaultValues&&!Tr(L,i)),isSubmitted:W.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Y?{}:W.keepDirtyValues?W.keepDefaultValues&&s?Ei(i,s):n.dirtyFields:W.keepDefaultValues&&L?Ei(i,L):W.keepDirty?n.dirtyFields:{},touchedFields:W.keepTouched?n.touchedFields:{},errors:W.keepErrors?n.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},He=(L,W)=>Te(En(L)?L(s):L,W),Ue=(L,W={})=>{const H=je(a,L),ce=H&&H._f;if(ce){const Y=ce.refs?ce.refs[0]:ce.ref;Y.focus&&(Y.focus(),W.shouldSelect&&En(Y.select)&&Y.select())}},ut=L=>{n={...n,...L}},Pe={control:{register:ve,unregister:te,getFieldState:Q,handleSubmit:xe,setError:X,_subscribe:ie,_runSchema:g,_focusError:ge,_getWatch:R,_getDirty:k,_setValid:m,_setFieldArray:j,_setDisabledField:pe,_setErrors:S,_getFieldArray:O,_reset:Te,_resetDefaultValues:()=>En(t.defaultValues)&&t.defaultValues().then(L=>{He(L,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:C,_disableForm:he,_subjects:p,_proxyFormState:u,get _fields(){return a},get _formValues(){return s},get _state(){return o},set _state(L){o=L},get _defaultValues(){return i},get _names(){return l},set _names(L){l=L},get _formState(){return n},get _options(){return t},set _options(L){t={...t,...L}}},subscribe:me,trigger:z,register:ve,handleSubmit:xe,watch:J,setValue:V,getValues:B,reset:He,resetField:oe,clearErrors:se,unregister:te,setError:X,setFocus:Ue,getFieldState:Q};return{...Pe,formControl:Pe}}function Hd(e={}){const t=re.useRef(void 0),n=re.useRef(void 0),[a,i]=re.useState({isDirty:!1,isValidating:!1,isLoading:En(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:En(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:a},e.defaultValues&&!En(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=S$(e);t.current={...l,formState:a}}const s=t.current.control;return s._options=e,Bd(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),re.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),re.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),re.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),re.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),re.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==a.isDirty&&s._subjects.state.next({isDirty:o})}},[s,a.isDirty]),re.useEffect(()=>{e.values&&!Tr(e.values,n.current)?(s._reset(e.values,s._options.resetOptions),n.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[s,e.values]),re.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=Rx(a,s),t.current}function Ea(e){this._maxSize=e,this.clear()}Ea.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Ea.prototype.get=function(e){return this._values[e]};Ea.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var D$=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Ux=/^\d+$/,T$=/^\d/,k$=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,P$=/^\s*(['"]?)(.*?)(\1)\s*$/,Yd=512,Gh=new Ea(Yd),Qh=new Ea(Yd),Kh=new Ea(Yd),ma={Cache:Ea,split:Mc,normalizePath:Bl,setter:function(e){var t=Bl(e);return Qh.get(e)||Qh.set(e,function(a,i){for(var s=0,o=t.length,l=a;s<o-1;){var c=t[s];if(c==="__proto__"||c==="constructor"||c==="prototype")return a;l=l[t[s++]]}l[t[s]]=i})},getter:function(e,t){var n=Bl(e);return Kh.get(e)||Kh.set(e,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!t)i=i[n[s++]];else return;return i})},join:function(e){return e.reduce(function(t,n){return t+(Gd(n)||Ux.test(n)?"["+n+"]":(t?".":"")+n)},"")},forEach:function(e,t,n){E$(Array.isArray(e)?e:Mc(e),t,n)}};function Bl(e){return Gh.get(e)||Gh.set(e,Mc(e).map(function(t){return t.replace(P$,"$2")}))}function Mc(e){return e.match(D$)||[""]}function E$(e,t,n){var a=e.length,i,s,o,l;for(s=0;s<a;s++)i=e[s],i&&(M$(i)&&(i='"'+i+'"'),l=Gd(i),o=!l&&/^\d+$/.test(i),t.call(n,i,l,o,s,e))}function Gd(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function A$(e){return e.match(T$)&&!e.match(Ux)}function I$(e){return k$.test(e)}function M$(e){return!Gd(e)&&(A$(e)||I$(e))}const O$=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,ll=e=>e.match(O$)||[],cl=e=>e[0].toUpperCase()+e.slice(1),Qd=(e,t)=>ll(e).join(t).toLowerCase(),qx=e=>ll(e).reduce((t,n)=>`${t}${t?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),R$=e=>cl(qx(e)),N$=e=>Qd(e,"_"),F$=e=>Qd(e,"-"),L$=e=>cl(Qd(e," ")),V$=e=>ll(e).map(cl).join(" ");var Ul={words:ll,upperFirst:cl,camelCase:qx,pascalCase:R$,snakeCase:N$,kebabCase:F$,sentenceCase:L$,titleCase:V$},Kd={exports:{}};Kd.exports=function(e){return Hx(z$(e),e)};Kd.exports.array=Hx;function Hx(e,t){var n=e.length,a=new Array(n),i={},s=n,o=_$(t),l=W$(e);for(t.forEach(function(d){if(!l.has(d[0])||!l.has(d[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||c(e[s],s,new Set);return a;function c(d,u,h){if(h.has(d)){var p;try{p=", node was:"+JSON.stringify(d)}catch{p=""}throw new Error("Cyclic dependency"+p)}if(!l.has(d))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(d));if(!i[u]){i[u]=!0;var y=o.get(d)||new Set;if(y=Array.from(y),u=y.length){h.add(d);do{var b=y[--u];c(b,l.get(b),h)}while(u);h.delete(d)}a[--n]=d}}}function z$(e){for(var t=new Set,n=0,a=e.length;n<a;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}function _$(e){for(var t=new Map,n=0,a=e.length;n<a;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}function W$(e){for(var t=new Map,n=0,a=e.length;n<a;n++)t.set(e[n],n);return t}var B$=Kd.exports;const U$=Da(B$),q$=Object.prototype.toString,H$=Error.prototype.toString,Y$=RegExp.prototype.toString,G$=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Q$=/^Symbol\((.*)\)(.*)$/;function K$(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function Zh(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return K$(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return G$.call(e).replace(Q$,"Symbol($1)");const a=q$.call(e).slice(8,-1);return a==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):a==="Error"||e instanceof Error?"["+H$.call(e)+"]":a==="RegExp"?Y$.call(e):null}function Er(e,t){let n=Zh(e,t);return n!==null?n:JSON.stringify(e,function(a,i){let s=Zh(this[a],t);return s!==null?s:i},2)}function Yx(e){return e==null?[]:[].concat(e)}let Gx,Qx,Kx,Z$=/\$\{\s*(\w+)\s*\}/g;Gx=Symbol.toStringTag;class Xh{constructor(t,n,a,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Gx]="Error",this.name="ValidationError",this.value=n,this.path=a,this.type=i,this.errors=[],this.inner=[],Yx(t).forEach(s=>{if(cn.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Qx=Symbol.hasInstance;Kx=Symbol.toStringTag;class cn extends Error{static formatError(t,n){const a=n.label||n.path||"this";return n=Object.assign({},n,{path:a,originalPath:n.path}),typeof t=="string"?t.replace(Z$,(i,s)=>Er(n[s])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,a,i,s){const o=new Xh(t,n,a,i);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Kx]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,cn)}static[Qx](t){return Xh[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let Wn={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:a})=>{const i=a!=null&&a!==n?` (cast from the value \`${Er(a,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${Er(n,!0)}\``+i:`${e} must match the configured type. The validated value was: \`${Er(n,!0)}\``+i}},on={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Dr={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Oc={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Rc={isValue:"${path} field must be ${value}"},Qs={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},X$={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},J$={notType:e=>{const{path:t,value:n,spec:a}=e,i=a.types.length;if(Array.isArray(n)){if(n.length<i)return`${t} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Er(n,!0)}\``;if(n.length>i)return`${t} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Er(n,!0)}\``}return cn.formatError(Wn.notType,e)}};Object.assign(Object.create(null),{mixed:Wn,string:on,number:Dr,date:Oc,object:Qs,array:X$,boolean:Rc,tuple:J$});const Zd=e=>e&&e.__isYupSchema__;class wo{static fromOptions(t,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:a,then:i,otherwise:s}=n,o=typeof a=="function"?a:(...l)=>l.every(c=>c===a);return new wo(t,(l,c)=>{var d;let u=o(...l)?i:s;return(d=u==null?void 0:u(c))!=null?d:c})}constructor(t,n){this.fn=void 0,this.refs=t,this.refs=t,this.fn=n}resolve(t,n){let a=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(a,t,n);if(i===void 0||i===t)return t;if(!Zd(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const ks={context:"$",value:"."};class Aa{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===ks.context,this.isValue=this.key[0]===ks.value,this.isSibling=!this.isContext&&!this.isValue;let a=this.isContext?ks.context:this.isValue?ks.value:"";this.path=this.key.slice(a.length),this.getter=this.path&&ma.getter(this.path,!0),this.map=n.map}getValue(t,n,a){let i=this.isContext?a:this.isValue?t:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}Aa.prototype.__isYupRef=!0;const An=e=>e==null;function La(e){function t({value:n,path:a="",options:i,originalValue:s,schema:o},l,c){const{name:d,test:u,params:h,message:p,skipAbsent:y}=e;let{parent:b,context:m,abortEarly:f=o.spec.abortEarly,disableStackTrace:j=o.spec.disableStackTrace}=i;function $(k){return Aa.isRef(k)?k.getValue(n,b,m):k}function S(k={}){const R=Object.assign({value:n,originalValue:s,label:o.spec.label,path:k.path||a,spec:o.spec,disableStackTrace:k.disableStackTrace||j},h,k.params);for(const E of Object.keys(R))R[E]=$(R[E]);const O=new cn(cn.formatError(k.message||p,R),n,R.path,k.type||d,R.disableStackTrace);return O.params=R,O}const T=f?l:c;let A={path:a,parent:b,type:d,from:i.from,createError:S,resolve:$,options:i,originalValue:s,schema:o};const M=k=>{cn.isError(k)?T(k):k?c(null):T(S())},g=k=>{cn.isError(k)?T(k):l(k)};if(y&&An(n))return M(!0);let P;try{var C;if(P=u.call(A,n,A),typeof((C=P)==null?void 0:C.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${A.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(P).then(M,g)}}catch(k){g(k);return}M(P)}return t.OPTIONS=e,t}function eS(e,t,n,a=n){let i,s,o;return t?(ma.forEach(t,(l,c,d)=>{let u=c?l.slice(1,l.length-1):l;e=e.resolve({context:a,parent:i,value:n});let h=e.type==="tuple",p=d?parseInt(u,10):0;if(e.innerType||h){if(h&&!d)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${t}. because there is no value at that index. `);i=n,n=n&&n[p],e=h?e.spec.types[p]:e.innerType}if(!d){if(!e.fields||!e.fields[u])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${o} which is a type: "${e.type}")`);i=n,n=n&&n[u],e=e.fields[u]}s=u,o=c?"["+l+"]":"."+l}),{schema:e,parent:i,parentPath:s}):{parent:i,parentPath:t,schema:e}}class Co extends Set{describe(){const t=[];for(const n of this.values())t.push(Aa.isRef(n)?n.describe():n);return t}resolveAll(t){let n=[];for(const a of this.values())n.push(t(a));return n}clone(){return new Co(this.values())}merge(t,n){const a=this.clone();return t.forEach(i=>a.add(i)),n.forEach(i=>a.delete(i)),a}}function Ha(e,t=new Map){if(Zd(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let a=0;a<e.length;a++)n[a]=Ha(e[a],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[a,i]of e.entries())n.set(a,Ha(i,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const a of e)n.add(Ha(a,t))}else if(e instanceof Object){n={},t.set(e,n);for(const[a,i]of Object.entries(e))n[a]=Ha(i,t)}else throw Error(`Unable to clone ${e}`);return n}class Cn{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Co,this._blacklist=new Co,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Wn.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Ha(Object.assign({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let a=t(this);return this._mutate=n,a}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,a=t.clone();const i=Object.assign({},n.spec,a.spec);return a.spec=i,a.internalTests=Object.assign({},n.internalTests,a.internalTests),a._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),a._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),a.tests=n.tests,a.exclusiveTests=n.exclusiveTests,a.withMutation(s=>{t.tests.forEach(o=>{s.test(o.OPTIONS)})}),a.transforms=[...n.transforms,...a.transforms],a}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let a=n.conditions;n=n.clone(),n.conditions=[],n=a.reduce((i,s)=>s.resolve(i,t),n),n=n.resolve(t)}return n}resolveOptions(t){var n,a,i,s;return Object.assign({},t,{from:t.from||[],strict:(n=t.strict)!=null?n:this.spec.strict,abortEarly:(a=t.abortEarly)!=null?a:this.spec.abortEarly,recursive:(i=t.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=t.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(t,n={}){let a=this.resolve(Object.assign({value:t},n)),i=n.assert==="ignore-optionality",s=a._cast(t,n);if(n.assert!==!1&&!a.isType(s)){if(i&&An(s))return s;let o=Er(t),l=Er(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${a.type}". 

attempted value: ${o} 
`+(l!==o?`result of cast: ${l}`:""))}return s}_cast(t,n){let a=t===void 0?t:this.transforms.reduce((i,s)=>s.call(this,i,t,this),t);return a===void 0&&(a=this.getDefault(n)),a}_validate(t,n={},a,i){let{path:s,originalValue:o=t,strict:l=this.spec.strict}=n,c=t;l||(c=this._cast(c,Object.assign({assert:!1},n)));let d=[];for(let u of Object.values(this.internalTests))u&&d.push(u);this.runTests({path:s,value:c,originalValue:o,options:n,tests:d},a,u=>{if(u.length)return i(u,c);this.runTests({path:s,value:c,originalValue:o,options:n,tests:this.tests},a,i)})}runTests(t,n,a){let i=!1,{tests:s,value:o,originalValue:l,path:c,options:d}=t,u=m=>{i||(i=!0,n(m,o))},h=m=>{i||(i=!0,a(m,o))},p=s.length,y=[];if(!p)return h([]);let b={value:o,originalValue:l,path:c,options:d,schema:this};for(let m=0;m<s.length;m++){const f=s[m];f(b,u,function($){$&&(Array.isArray($)?y.push(...$):y.push($)),--p<=0&&h(y)})}}asNestedTest({key:t,index:n,parent:a,parentPath:i,originalParent:s,options:o}){const l=t??n;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let d=a[l];const u=Object.assign({},o,{strict:!0,parent:a,value:d,originalValue:s[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${i||""}[${c?l:`"${l}"`}]`:(i?`${i}.`:"")+t});return(h,p,y)=>this.resolve(u)._validate(d,u,p,y)}validate(t,n){var a;let i=this.resolve(Object.assign({},n,{value:t})),s=(a=n==null?void 0:n.disableStackTrace)!=null?a:i.spec.disableStackTrace;return new Promise((o,l)=>i._validate(t,n,(c,d)=>{cn.isError(c)&&(c.value=d),l(c)},(c,d)=>{c.length?l(new cn(c,d,void 0,void 0,s)):o(d)}))}validateSync(t,n){var a;let i=this.resolve(Object.assign({},n,{value:t})),s,o=(a=n==null?void 0:n.disableStackTrace)!=null?a:i.spec.disableStackTrace;return i._validate(t,Object.assign({},n,{sync:!0}),(l,c)=>{throw cn.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new cn(l,t,void 0,void 0,o);s=c}),s}isValid(t,n){return this.validate(t,n).then(()=>!0,a=>{if(cn.isError(a))return!1;throw a})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(a){if(cn.isError(a))return!1;throw a}}_getDefault(t){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,t):Ha(n)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,n){const a=this.clone({nullable:t});return a.internalTests.nullable=La({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),a}optionality(t,n){const a=this.clone({optional:t});return a.internalTests.optionality=La({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),a}optional(){return this.optionality(!0)}defined(t=Wn.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=Wn.notNull){return this.nullability(!1,t)}required(t=Wn.required){return this.clone().withMutation(n=>n.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=Wn.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let a=this.clone(),i=La(n),s=n.exclusive||n.name&&a.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(a.exclusiveTests[n.name]=!!n.exclusive),a.tests=a.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),a.tests.push(i),a}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let a=this.clone(),i=Yx(t).map(s=>new Aa(s));return i.forEach(s=>{s.isSibling&&a.deps.push(s.key)}),a.conditions.push(typeof n=="function"?new wo(i,n):wo.fromOptions(i,n)),a}typeError(t){let n=this.clone();return n.internalTests.typeError=La({message:t,name:"typeError",skipAbsent:!0,test(a){return this.schema._typeCheck(a)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(t,n=Wn.oneOf){let a=this.clone();return t.forEach(i=>{a._whitelist.add(i),a._blacklist.delete(i)}),a.internalTests.whiteList=La({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),a}notOneOf(t,n=Wn.notOneOf){let a=this.clone();return t.forEach(i=>{a._blacklist.add(i),a._whitelist.delete(i)}),a.internalTests.blacklist=La({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),a}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(t){const n=(t?this.resolve(t):this).clone(),{label:a,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:a,optional:s,nullable:o,default:n.getDefault(t),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(c=>({name:c.OPTIONS.name,params:c.OPTIONS.params})).filter((c,d,u)=>u.findIndex(h=>h.name===c.name)===d)}}}Cn.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])Cn.prototype[`${e}At`]=function(t,n,a={}){const{parent:i,parentPath:s,schema:o}=eS(this,t,n,a.context);return o[e](i&&i[s],Object.assign({},a,{parent:i,path:t}))};for(const e of["equals","is"])Cn.prototype[e]=Cn.prototype.oneOf;for(const e of["not","nope"])Cn.prototype[e]=Cn.prototype.notOneOf;function Zx(){return new Xx}class Xx extends Cn{constructor(){super({type:"boolean",check(t){return t instanceof Boolean&&(t=t.valueOf()),typeof t=="boolean"}}),this.withMutation(()=>{this.transform((t,n,a)=>{if(a.spec.coerce&&!a.isType(t)){if(/^(true|1)$/i.test(String(t)))return!0;if(/^(false|0)$/i.test(String(t)))return!1}return t})})}isTrue(t=Rc.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return An(n)||n===!0}})}isFalse(t=Rc.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return An(n)||n===!1}})}default(t){return super.default(t)}defined(t){return super.defined(t)}optional(){return super.optional()}required(t){return super.required(t)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(t){return super.nonNullable(t)}strip(t){return super.strip(t)}}Zx.prototype=Xx.prototype;const tS=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function nS(e){const t=Nc(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(n=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}function Nc(e){var t,n;const a=tS.exec(e);return a?{year:lr(a[1]),month:lr(a[2],1)-1,day:lr(a[3],1),hour:lr(a[4]),minute:lr(a[5]),second:lr(a[6]),millisecond:a[7]?lr(a[7].substring(0,3)):0,precision:(t=(n=a[7])==null?void 0:n.length)!=null?t:void 0,z:a[8]||void 0,plusMinus:a[9]||void 0,hourOffset:lr(a[10]),minuteOffset:lr(a[11])}:null}function lr(e,t=0){return Number(e)||t}let rS=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,aS=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,iS=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,sS="^\\d{4}-\\d{2}-\\d{2}",oS="\\d{2}:\\d{2}:\\d{2}",lS="(([+-]\\d{2}(:?\\d{2})?)|Z)",cS=new RegExp(`${sS}T${oS}(\\.\\d+)?${lS}$`),dS=e=>An(e)||e===e.trim(),uS={}.toString();function _n(){return new Jx}class Jx extends Cn{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,n,a)=>{if(!a.spec.coerce||a.isType(t)||Array.isArray(t))return t;const i=t!=null&&t.toString?t.toString():t;return i===uS?t:i})})}required(t){return super.required(t).withMutation(n=>n.test({message:t||Wn.required,name:"required",skipAbsent:!0,test:a=>!!a.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t))}length(t,n=on.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(a){return a.length===this.resolve(t)}})}min(t,n=on.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(a){return a.length>=this.resolve(t)}})}max(t,n=on.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},skipAbsent:!0,test(a){return a.length<=this.resolve(t)}})}matches(t,n){let a=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:a=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||on.matches,params:{regex:t},skipAbsent:!0,test:o=>o===""&&a||o.search(t)!==-1})}email(t=on.email){return this.matches(rS,{name:"email",message:t,excludeEmptyString:!0})}url(t=on.url){return this.matches(aS,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=on.uuid){return this.matches(iS,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let n="",a,i;return t&&(typeof t=="object"?{message:n="",allowOffset:a=!1,precision:i=void 0}=t:n=t),this.matches(cS,{name:"datetime",message:n||on.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||on.datetime_offset,params:{allowOffset:a},skipAbsent:!0,test:s=>{if(!s||a)return!0;const o=Nc(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||on.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const o=Nc(s);return o?o.precision===i:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=on.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:dS})}lowercase(t=on.lowercase){return this.transform(n=>An(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>An(n)||n===n.toLowerCase()})}uppercase(t=on.uppercase){return this.transform(n=>An(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>An(n)||n===n.toUpperCase()})}}_n.prototype=Jx.prototype;let hS=e=>e!=+e;function Ni(){return new e0}class e0 extends Cn{constructor(){super({type:"number",check(t){return t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&!hS(t)}}),this.withMutation(()=>{this.transform((t,n,a)=>{if(!a.spec.coerce)return t;let i=t;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return a.isType(i)||i===null?i:parseFloat(i)})})}min(t,n=Dr.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(a){return a>=this.resolve(t)}})}max(t,n=Dr.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(a){return a<=this.resolve(t)}})}lessThan(t,n=Dr.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:t},skipAbsent:!0,test(a){return a<this.resolve(t)}})}moreThan(t,n=Dr.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:t},skipAbsent:!0,test(a){return a>this.resolve(t)}})}positive(t=Dr.positive){return this.moreThan(0,t)}negative(t=Dr.negative){return this.lessThan(0,t)}integer(t=Dr.integer){return this.test({name:"integer",message:t,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(t=>An(t)?t:t|0)}round(t){var n;let a=["ceil","floor","round","trunc"];if(t=((n=t)==null?void 0:n.toLowerCase())||"round",t==="trunc")return this.truncate();if(a.indexOf(t.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+a.join(", "));return this.transform(i=>An(i)?i:Math[t](i))}}Ni.prototype=e0.prototype;let pS=new Date(""),fS=e=>Object.prototype.toString.call(e)==="[object Date]";class dl extends Cn{constructor(){super({type:"date",check(t){return fS(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,n,a)=>!a.spec.coerce||a.isType(t)||t===null?t:(t=nS(t),isNaN(t)?dl.INVALID_DATE:new Date(t)))})}prepareParam(t,n){let a;if(Aa.isRef(t))a=t;else{let i=this.cast(t);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);a=i}return a}min(t,n=Oc.min){let a=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(i){return i>=this.resolve(a)}})}max(t,n=Oc.max){let a=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(i){return i<=this.resolve(a)}})}}dl.INVALID_DATE=pS;dl.prototype;function mS(e,t=[]){let n=[],a=new Set,i=new Set(t.map(([o,l])=>`${o}-${l}`));function s(o,l){let c=ma.split(o)[0];a.add(c),i.has(`${l}-${c}`)||n.push([l,c])}for(const o of Object.keys(e)){let l=e[o];a.add(o),Aa.isRef(l)&&l.isSibling?s(l.path,o):Zd(l)&&"deps"in l&&l.deps.forEach(c=>s(c,o))}return U$.array(Array.from(a),n).reverse()}function Jh(e,t){let n=1/0;return e.some((a,i)=>{var s;if((s=t.path)!=null&&s.includes(a))return n=i,!0}),n}function t0(e){return(t,n)=>Jh(e,t)-Jh(e,n)}const xS=(e,t,n)=>{if(typeof e!="string")return e;let a=e;try{a=JSON.parse(e)}catch{}return n.isType(a)?a:e};function Ks(e){if("fields"in e){const t={};for(const[n,a]of Object.entries(e.fields))t[n]=Ks(a);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=Ks(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(Ks)}):"optional"in e?e.optional():e}const gS=(e,t)=>{const n=[...ma.normalizePath(t)];if(n.length===1)return n[0]in e;let a=n.pop(),i=ma.getter(ma.join(n),!0)(e);return!!(i&&a in i)};let ep=e=>Object.prototype.toString.call(e)==="[object Object]";function tp(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(a=>n.indexOf(a)===-1)}const vS=t0([]);function n0(e){return new r0(e)}class r0 extends Cn{constructor(t){super({type:"object",check(n){return ep(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=vS,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,n={}){var a;let i=super._cast(t,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(a=n.stripUnknown)!=null?a:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(i).filter(h=>!this._nodes.includes(h))),c={},d=Object.assign({},n,{parent:c,__validating:n.__validating||!1}),u=!1;for(const h of l){let p=s[h],y=h in i;if(p){let b,m=i[h];d.path=(n.path?`${n.path}.`:"")+h,p=p.resolve({value:m,context:n.context,parent:c});let f=p instanceof Cn?p.spec:void 0,j=f==null?void 0:f.strict;if(f!=null&&f.strip){u=u||h in i;continue}b=!n.__validating||!j?p.cast(i[h],d):i[h],b!==void 0&&(c[h]=b)}else y&&!o&&(c[h]=i[h]);(y!==h in c||c[h]!==i[h])&&(u=!0)}return u?c:i}_validate(t,n={},a,i){let{from:s=[],originalValue:o=t,recursive:l=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(t,n,a,(c,d)=>{if(!l||!ep(d)){i(c,d);return}o=o||d;let u=[];for(let h of this._nodes){let p=this.fields[h];!p||Aa.isRef(p)||u.push(p.asNestedTest({options:n,key:h,parent:d,parentPath:n.path,originalParent:o}))}this.runTests({tests:u,value:d,originalValue:o,options:n},a,h=>{i(h.sort(this._sortErrors).concat(c),d)})})}clone(t){const n=super.clone(t);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),a=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=a[i];a[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(a,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let n={};return this._nodes.forEach(a=>{var i;const s=this.fields[a];let o=t;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[a]})),n[a]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(t,n){let a=this.clone();return a.fields=t,a._nodes=mS(t,n),a._sortErrors=t0(Object.keys(t)),n&&(a._excludedEdges=n),a}shape(t,n=[]){return this.clone().withMutation(a=>{let i=a._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...a._excludedEdges,...n]),a.setFields(Object.assign(a.fields,t),i)})}partial(){const t={};for(const[n,a]of Object.entries(this.fields))t[n]="optional"in a&&a.optional instanceof Function?a.optional():a;return this.setFields(t)}deepPartial(){return Ks(this)}pick(t){const n={};for(const a of t)this.fields[a]&&(n[a]=this.fields[a]);return this.setFields(n,this._excludedEdges.filter(([a,i])=>t.includes(a)&&t.includes(i)))}omit(t){const n=[];for(const a of Object.keys(this.fields))t.includes(a)||n.push(a);return this.pick(n)}from(t,n,a){let i=ma.getter(t,!0);return this.transform(s=>{if(!s)return s;let o=s;return gS(s,t)&&(o=Object.assign({},s),a||delete o[t],o[n]=i(s)),o})}json(){return this.transform(xS)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||Qs.exact,test(n){if(n==null)return!0;const a=tp(this.schema,n);return a.length===0||this.createError({params:{properties:a.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,n=Qs.noUnknown){typeof t!="boolean"&&(n=t,t=!0);let a=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=tp(this.schema,i);return!t||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return a.spec.noUnknown=t,a}unknown(t=!0,n=Qs.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>{if(!n)return n;const a={};for(const i of Object.keys(n))a[t(i)]=n[i];return a})}camelCase(){return this.transformKeys(Ul.camelCase)}snakeCase(){return this.transformKeys(Ul.snakeCase)}constantCase(){return this.transformKeys(t=>Ul.snakeCase(t).toUpperCase())}describe(t){const n=(t?this.resolve(t):this).clone(),a=super.describe(t);a.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let l=t;(i=l)!=null&&i.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[s]})),a.fields[s]=o.describe(l)}return a}}n0.prototype=r0.prototype;const Fi={CUSTOMER_TYPE:["customerType"],INDIVIDUAL_DETAILS:["individualDetails.firstName","individualDetails.lastName","individualDetails.idNumber","individualDetails.dateOfBirth","individualDetails.address","individualDetails.phone","individualDetails.email","individualDetails.secondaryPhone","individualDetails.secondaryEmail","individualDetails.additionalNotes"],BUSINESS_DETAILS:["businessDetails.legalName","businessDetails.nuisNipt","businessDetails.administratorName","businessDetails.administratorId","businessDetails.administratorPosition","businessDetails.mainShareholders","businessDetails.address","businessDetails.phone","businessDetails.email","businessDetails.secondaryPhone","businessDetails.secondaryEmail","businessDetails.additionalNotes"],ENDORSER_DETAILS:["endorserDetails.firstName","endorserDetails.lastName","endorserDetails.idNumber","endorserDetails.dateOfBirth","endorserDetails.address","endorserDetails.phone","endorserDetails.email","endorserDetails.secondaryPhone","endorserDetails.secondaryEmail","endorserDetails.additionalNotes","endorserDetails.guaranteedAmount","endorserDetails.relationshipToCustomer","endorserDetails.financialInformation","endorserDetails.active","endorserDetails.notes"]},Li={CUSTOMER_TYPE:["customerType"],INDIVIDUAL_DETAILS:["individualDetails.firstName","individualDetails.lastName","individualDetails.idNumber","individualDetails.dateOfBirth","individualDetails.address","individualDetails.phone","individualDetails.email"],BUSINESS_DETAILS:["businessDetails.legalName","businessDetails.nuisNipt","businessDetails.administratorName","businessDetails.administratorId","businessDetails.administratorPosition","businessDetails.address","businessDetails.phone","businessDetails.email"],ENDORSER_DETAILS:["endorserDetails.firstName","endorserDetails.lastName","endorserDetails.idNumber","endorserDetails.dateOfBirth","endorserDetails.address","endorserDetails.phone","endorserDetails.email"]},ql=[{label:"Customer Type",description:"Select individual or business customer",fields:Fi.CUSTOMER_TYPE,requiredFields:Li.CUSTOMER_TYPE},{label:"Customer Details",description:"Enter detailed customer information",fields:[],requiredFields:[]},{label:"Review",description:"Review and confirm customer information",fields:[],requiredFields:[]}],yS=({customerType:e,onCustomerTypeChange:t})=>{const n=Ve(),a=(s,o)=>{o!==null&&t(o)},i=[{value:we.INDIVIDUAL,label:"Individual",icon:et,color:"primary",description:"Personal customer account for individuals"},{value:we.BUSINESS,label:"Business",icon:tn,color:"secondary",description:"Corporate customer account for businesses"},{value:we.ENDORSER,label:"Endorser",icon:zr,color:"info",description:"Endorser who provides guarantees for other customers"}];return r.jsxs(w,{children:[r.jsxs(w,{mb:4,textAlign:"center",children:[r.jsx(v,{variant:"h5",component:"h2",gutterBottom:!0,fontWeight:600,children:"Select Customer Type"}),r.jsx(v,{variant:"body1",color:"text.secondary",children:"Choose the type of customer you want to add to your system"})]}),r.jsx(N,{container:!0,spacing:3,justifyContent:"center",children:r.jsx(N,{item:!0,xs:12,md:10,lg:8,children:r.jsx($g,{value:e,exclusive:!0,onChange:a,"aria-label":"customer type selection",sx:{width:"100%","& .MuiToggleButton-root":{flex:1,py:4,px:3,borderRadius:2,textTransform:"none",border:`2px solid ${F(n.palette.divider,.2)}`,"&:hover":{borderColor:F(n.palette.primary.main,.3),bgcolor:F(n.palette.primary.main,.02)},"&.Mui-selected":{bgcolor:F(n.palette.primary.main,.08),borderColor:n.palette.primary.main,color:n.palette.primary.main,"&:hover":{bgcolor:F(n.palette.primary.main,.12)}}}},children:i.map(s=>{const o=s.icon,l=e===s.value;return r.jsx(Sg,{value:s.value,"aria-label":s.label,children:r.jsxs(w,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2,minHeight:120},children:[r.jsx(w,{sx:{p:2,borderRadius:"50%",bgcolor:l?F(n.palette.primary.main,.1):F(n.palette.action.selected,.05),transition:"all 0.2s ease"},children:r.jsx(o,{sx:{fontSize:40,color:l?n.palette.primary.main:n.palette.text.secondary}})}),r.jsxs(w,{textAlign:"center",children:[r.jsx(v,{variant:"h6",fontWeight:600,gutterBottom:!0,children:s.label}),r.jsx(v,{variant:"body2",color:"text.secondary",sx:{maxWidth:200},children:s.description}),l&&r.jsx(w,{mt:1,children:r.jsx(de,{label:"Selected",color:"primary",size:"small",sx:{borderRadius:1}})})]})]})},s.value)})})})}),e&&r.jsx(w,{mt:4,textAlign:"center",children:r.jsxs(w,{sx:{p:3,bgcolor:F(n.palette.primary.main,.05),borderRadius:2,border:`1px solid ${F(n.palette.primary.main,.2)}`,maxWidth:400,mx:"auto"},children:[r.jsxs(v,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:["Selected: ",e===we.INDIVIDUAL?"Individual Customer":e===we.BUSINESS?"Business Customer":"Endorser Customer"]}),r.jsx(v,{variant:"body2",color:"text.secondary",children:e===we.INDIVIDUAL?"You will enter personal information for an individual customer":e===we.BUSINESS?"You will enter business information and administrator details":"You will enter endorser information and guarantee details"})]})})]})},bS={Flag:Oe("span")(()=>({display:"flex",alignItems:"center"}))},jS="MuiTelInput-Flag",a0=({isoCode:e,children:t})=>r.jsx(bS.Flag,{"data-testid":e,className:jS,children:t}),$o="en",Xd={EU:["AD","AL","AT","AX","BA","BE","BG","BY","CH","CY","CZ","DE","DK","EE","ES","FI","FO","FR","GB","GG","GI","GR","HR","HU","IE","IM","IS","IT","JE","LI","LT","LU","LV","MC","MD","ME","MK","MT","NL","NO","PL","PT","RO","RS","RU","SE","SI","SJ","SK","SM","UA","VA","XK"],AS:["AE","AF","AM","AZ","BD","BH","BN","BT","CC","CN","CX","GE","HK","ID","IL","IN","IO","IQ","IR","JO","JP","KG","KH","KP","KR","KW","KZ","LA","LB","LK","MM","MN","MO","MV","MY","NP","OM","PH","PK","PS","QA","SA","SG","SY","TH","TJ","TM","TR","TW","UZ","VN","YE"],NA:["AG","AI","AW","BB","BL","BM","BQ","BS","BZ","CA","CR","CU","CW","DM","DO","GD","GL","GP","GT","HN","HT","JM","KN","KY","LC","MF","MQ","MS","MX","NI","PA","PM","PR","SV","SX","TC","TT","US","VC","VG","VI"],SA:["AR","BO","BR","CL","CO","EC","FK","GF","GY","PE","PY","SR","UY","VE"],OC:["AS","AU","CK","FJ","FM","GU","KI","MH","MP","NC","NF","NR","NU","NZ","PF","PG","PW","SB","TK","TL","TO","TV","VU","WF","WS"],AF:["AO","BF","BI","BJ","BW","CD","CF","CG","CI","CM","CV","DJ","DZ","EG","EH","ER","ET","GA","GH","GM","GN","GQ","GW","KE","KM","LR","LS","LY","MA","MG","ML","MR","MU","MW","MZ","NA","NE","NG","RE","RW","SC","SD","SH","SL","SN","SO","SS","ST","SZ","TD","TG","TN","TZ","UG","YT","ZA","ZM","ZW"]},i0={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|7(?:[013-57-9]\\d|2[0-8]))\\d|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90)))\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|3\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-4])\\d{5}|4(?:[0-36]\\d|4[047-9]|5[0-25-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","[025-7]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[025-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","[24-689]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]]]],BL:["590","00","590\\d{6}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-5])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","(?:[1-46-9]\\d\\d|5(?:[0-46-9]\\d|5[0-46-9]))\\d{8}|[1-9]\\d{9}|[3589]\\d{8}|[34]\\d{7}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37)","4(?:02|37)0|[34]00"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[17]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","(?:[2-8]\\d|90)\\d{8}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|50|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|90[25])[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:00|2[125-9]|33|44|66|77|88)|622)[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-4])\\d{5}|4(?:[0-36]\\d|4[047-9]|5[0-25-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9[2-9]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:60\\d\\d|9101)\\d{6}|(?:1\\d|3)\\d{9}",[10,11],[["(\\d{3})(\\d{7})","$1 $2",["6"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|91"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-4])\\d{5}|4(?:[0-36]\\d|4[047-9]|5[0-25-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|31)"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:1[49]|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,0,0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-35])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","[56]94\\d{6}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[56]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","590\\d{6}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-5])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","(?:[24-69]\\d|3[0-79])\\d{7}|80\\d{5,7}|[1-79]\\d{7}|6\\d{5,6}",[6,7,8,9],[["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","(?:[2-489]\\d|55)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[["0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}",[6,7,8,9,10,11]],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[257-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["[36]|4(?:2[09]|7[01])","[36]|4(?:2(?:0|9[02-69])|7(?:0[019]|1))"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[257-9]"],"0$1"]],"0",0,"(000[259]\\d{6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["30[0135-9]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[245]\\d|33|77|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-4]|5[01]|8[0-3]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","590\\d{6}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-5])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[45]|6(?:0[23]|[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-6]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","596\\d{6}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","38\\d{6}|[78]\\d{9,13}|(?:20|9\\d)\\d{8}",[8,10,11,12,13,14],[["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["3"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:444|(?:55|8\\d)\\d|666)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[4-68]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|80\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[16]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2689]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["69(?:2\\d\\d|3(?:[06][0-6]|1[013]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-5]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,"3[04-689]|[489]",0,"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","92\\d{7}|(?:[15]|8\\d)\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["81"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|77|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|68|[78]\\d)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-8]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-39]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-5]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["(?:3052(?:0[0-8]|[1-9]\\d)|5056(?:[0-35-9]\\d|4[468])|7302[0-4]\\d)\\d{4}|(?:305[3-9]|472[24]|505[2-57-9]|7306|983[2-47-9])\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[013569]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[1247]|4[037]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[068]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-389]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}",[6,7,8,9,10,11,12,13],[["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-79]\\d|88)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72)\\d{4}|8\\d{5}(?:\\d{3})?",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[478]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|63|[79]\\d)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[79]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[35-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[35-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function wS(e){return typeof e=="object"&&!Array.isArray(e)&&e!==null}const CS=Object.keys,ii=i0.countries,$S=CS(ii),SS="US";function ur(e,t){const n=Array.isArray(e);return t?n&&e.length>0:n}function DS(e,t){return e.find(n=>t.includes(n))||null}function So(e){var t;return(t=ii[e])==null?void 0:t[0]}function TS(e){return e||SS}function np(e,t){return[...new Set(t.concat(e))]}function kS(e){return e.flatMap(t=>Xd[t])}function PS(e,t){return e.filter(n=>t.includes(n))}function ES(e,t){return ur(t,!0)?e.filter(n=>!t.includes(n)):e}function rp(e,t){return[...e].sort((n,a)=>{const i=t.of(n),s=t.of(a);return i.localeCompare(s)})}function AS(e,t,n){const{onlyCountries:a,excludedCountries:i,continents:s,preferredCountries:o}=n;if(ur(a,!0)){const u=rp(PS(e,a),t);return ur(o,!0)?np(u,o):u}const l=ur(s,!0)?kS(s):e,c=rp(l,t),d=ur(o,!0)?np(c,o):c;return ur(i,!0)?ES(d,i):d}function IS(e,t){return e.some(n=>Xd[n].includes(t))}const MS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAeCAYAAABXNvynAAAMeGlDQ1BEaXNwbGF5AABIiZVXd1ST9xp+vpGEhBFGQEBG2EsQ2UNmmIKCbBBHSAIEQoghQcU9ahWtWxw40bqLViuodaJWrRbBbR1FLSqVWtQ6Ubl/JKD13nvuue85ye89z+95n3d838nJC3DfCBUKGWkIlMlVyrT4aH5Obh6f9RAU2ODAAG5CUYUiKjU1GQB6z8+MAF5dAwEAlz2FCoUM/58ZiyUVIoDIB1AgrhCVAcRxgF4jUihVADMfgMM4lUIFMKcB4ClzcvMA5jIAvCKNvw0Ar0DjHwbAU2akCQBmC6CjJxQqiwCD2wD4laIiFWDwHoC3XCyVA9wBAMJFxUIxwJUBGFBWVi4GuCsBuFaKihQA9ziAoILPNIv+oV/Qpy8UFvX5mr4AADox0gqFTDjh/xzN/7Yymbo3hzMAvWJlQhoAHkDcKC1PSgOgBxCd8oJhKQCMAeKNVKyZO0ByitUJmRo+aSWqEOQBMANIb7EwJgmAFUDGyWXDkrV4QaE0LhGAIUCOl6oSMwCYA+QcSUVsupazQVmeps1FNhQqBVFa/KxQCWhz3VWXZkZp9Z8XSxK1+pRBVXFGNgAOQDlWSrOGATAAKK+K0vQkLWdwVbFgWC9HqU7LBOAIUGkSeXy0Rp+qLFTGpWn51WUVvf1SG4qlicO0/l5VcUaCZj7UKZEwNl3TC9UikUdl9upIKnKSe3sRS2JiNb1TjyXyzHStzhuFKjpNE0tzFLJULZ+2l8ji0wDYA7RfRWW6NpbOUikztM+ILlSoUjM0ddJVJcIhqZp66EVIhgAx4EMNPgpQjhJImzsbO8HX3sRBCCWKIIGnFumNyIYQSsghRDqq8CfkkKCiLy4aQighQSXk+NCHar49UQghlKiEBBUoxUMoUYYkyCCBGkpIIO/LloXfoYT037ILwYcI5ZChHEpI/wvei35CoiBAshZR92bkc3uZzFhmDDOBGcd0oy3pcDqUTqbD6Ug6nPahg+jg3j4+8RkPGa2M+4yrjDbGzdHSGcovqhyKNqi1M5Sg4PNZ0M60D+1PR9NhdDgdDD5tRlvCk/ajg+goOoIOpf3pYAi0dauh/GKGX3Tw2dPQ8tjebJLdjx3Jdv0y0sDdwL9PRQL5P+ajqbWgb96Cvpsv8ws+m74Y5Uj6kknNofZRZ6gT1DnqMNUIPnWMOkBdoI5QjZ+9Xb9DiaK+bGmQQI5SyCD9t3xCbU4lJKjw3und4f1ec6eSjFcBgKBcMUEpLSpW8aMUCpmEnygXeQ3g+3j7+AA5uXl8zc/Xi+EgABBmFz5hM38Dwo719PT8+Akbcgz4PhDgHPyEuQYBRrrA2YMitbJSg9EAwAAHXPBgARs4wBWe8EEAQhGJWAxBCjKQi1EQoRhlUGIcJmE6ZmMeFmE5VmM9NmEbvsNeNOIwTuAnnEcLruIW2tCOJ+jCK3QTBMEi9AkTwoKwJZwID8KHCCLCiVgimUgjcokxRBEhJ9TEJGImMY9YQqwmNhLbie+Jg8QJ4hzRStwk7hEdxHPiHUmReiSPtCadyYFkEBlFJpEZ5EiyiBxLVpGzyAXkSrKO3EU2kCfI8+RVso18Qr6kQOlSZpQd5UkFUQIqhcqjCiklNYWqpmqoOqqeOkSdoS5TbVQn9ZZm0iY0n/akQ+kEOpMW0WPpKfR8ejW9jW6gT9GX6Xt0F/2Roc+wYngwQhiJjBxGEWMcYzajhrGFsZ9xmnGV0c54xWQyzZguzEBmAjOXWcKcyJzPXMvczTzObGU+YL5ksVgWLA9WGCuFJWSpWLNZq1i7WMdYl1jtrDc6ujq2Oj46cTp5OnKdGTo1Ojt0jupc0nmk0802ZDuxQ9gpbDF7AnshezP7EPsiu53dzTHiuHDCOBmcEs50zkpOPec05zbnha6urr1usO5wXanuNN2Vunt0z+re032rZ6znrifQy9dT6y3Q26p3XO+m3gt9fX1n/Uj9PH2V/gL97fon9e/qvzEwMfAySDQQG0w1qDVoMLhk8JTL5jpxo7ijuFXcGu4+7kVupyHb0NlQYCg0nGJYa3jQ8LrhSyMTo0FGKUZlRvONdhidM3pszDJ2No41FhvPMt5kfNL4gQll4mAiMBGZzDTZbHLapJ3H5LnwEnklvHm873jNvC5TY1M/0yzT8aa1pkdM28woM2ezRDOZ2UKzvWbXzN71s+4X1U/Sb26/+n6X+r02728eaS4xrzbfbX7V/J0F3yLWotRisUWjxR1L2tLdcrjlOMt1lqctO/vz+of2F/Wv7r+3/69WpJW7VZrVRKtNVhesXlrbWMdbK6xXWZ+07rQxs4m0KbFZZnPUpsPWxDbcVmq7zPaY7R98U34UX8ZfyT/F77KzskuwU9tttGu267Z3sc+0n2G/2/6OA8chyKHQYZlDk0OXo63jUMdJjjsdf3ViOwU5FTutcDrj9NrZxTnb+WvnRufHLuYuiS5VLjtdbrvqu0a4jnWtc73ixnQLcit1W+vW4k66+7sXu9e6X/QgPQI8pB5rPVoHMAYED5APqBtw3VPPM8qz0nOn5z0vM69krxlejV5PBzoOzBu4eOCZgR+9/b1l3pu9bw0yHjRk0IxBhwY993H3EfnU+lzx1feN853qe8D3mZ+Hn8Rvnd8NfxP/of5f+zf5fwgIDFAG1Ad0BDoGjglcE3g9iBeUGjQ/6GwwIzg6eGrw4eC3IQEhqpC9IX+FeoaWhu4IfTzYZbBk8ObBD8Lsw4RhG8PawvnhY8I3hLdF2EUII+oi7kc6RIojt0Q+inKLKonaFfU02jtaGb0/+rUgRDBZcDyGiomPqY5pjjWOzYxdHXs3zj6uKG5nXFe8f/zE+OMJjISkhMUJ1xOtE0WJ2xO7hgQOmTzkVJJeUnrS6qT7ye7JyuRDQ8mhQ4YuHXp7mNMw+bDGFKQkpixNuZPqkjo29cfhzOGpw2uHP0wblDYp7Uy6Sfro9B3przKiMxZm3Mp0zVRnNmVxs/Kztme9zo7JXpLdljMwZ3LO+VzLXGnugTxWXlbelryXI2JHLB/Rnu+fPzv/2kiXkeNHnhtlOUo26sho7mjh6H1jGGOyx+wY816YIqwTvixILFhT0CUSiFaInogjxcvEHZIwyRLJo8KwwiWFj4vCipYWdRRHFNcUd0oF0tXSZyUJJetLXpemlG4t7ZFly3aX6ZSNKTsoN5aXyk+V25SPL29VeChmK9rGhoxdPrZLmaTcUkFUjKw4oOKpFKoLalf1V+p7leGVtZVvxmWN2zfeaLx8/IUJ7hPmTnhUFVf17UR6omhi0yS7SdMn3ZscNXnjFGJKwZSmqQ5TZ01tnxY/bdt0zvTS6b/M8J6xZMbfM7NnHpplPWvarAdfxX+1c7bBbOXs61+Hfr1+Dj1HOqd5ru/cVXM/Vourf57nPa9m3vv5ovk/fzPom5Xf9CwoXNC8MGDhukXMRfJF1xZHLN62xGhJ1ZIHS4cubVjGX1a97O/lo5efq/GrWb+Cs0K9om1l8soDqxxXLVr1fnXx6qu10bW711itmbvm9Vrx2kvrItfVr7deP2/9uw3SDTc2xm9sqHOuq9nE3FS56eHmrM1nvg36dvsWyy3ztnzYKt/ati1t26ntgdu377DasXAnuVO9s2NX/q6W72K+O1DvWb9xt9nueXuwR73nj+/HfH9tb9Lepn1B++p/cPphzX6T/dUNRMOEhq7G4sa2A7kHWg8OOdh0KPTQ/h+9ftx62O5w7RHTIwuPco7OOtpzrOrYy+OK450nik48aBrddOtkzskrp4afaj6ddPrsT3E/nTwTdebY2bCzh8+FnDv4c9DPjecDzjdc8L+w/xf/X/Y3BzQ3XAy8eKAluOVQ6+DWo5ciLp24HHP5pyuJV85fHXa19VrmtRvX86+33RDfeHxTdvPZr5W/dt+adptxu/qO4Z2au1Z3635z+213W0DbkXsx9y7cT79/64HowZPfK35/3z7rof7Dmke2j7Y/9nl8uCOuo+WPEX+0P1E86e6c/afRn2ueuj794a/Ivy505XS1P1M+63k+/4XFi61/+/3d9DL15d1XZa+6X1e/sXiz7W3Q2zPvst896h73nvV+5Qe3D4c+Jn283VPW06MQKoUAAAoAWVgIPN8K6OcCJi0AZ4RmFwQAEJr9FdD8B/nPvmZfBAAEAPU8YHgnILgO7NkMOBcC3HwgVR/ICAbp69v30VpFoa+PRksvGmDc7el54QywlgIfFvX0dNf19HzYBFC3geNyzQ4KAExDYEPih4KyAvwH0+ynn/X45QmQvr5++PL8F6mCkLerjl90AAAACXBIWXMAAAsTAAALEwEAmpwYAAAE92lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjItMDMtMTJUMTQ6MTY6NTArMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIyLTAzLTIwVDEwOjIyOjUxKzAxOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIyLTAzLTIwVDEwOjIyOjUxKzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpmZDY2ZDIzMC1mMDk3LTRhMjUtODkxNi1mN2YxMmQ2NTRhNjkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ZmQ2NmQyMzAtZjA5Ny00YTI1LTg5MTYtZjdmMTJkNjU0YTY5IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZmQ2NmQyMzAtZjA5Ny00YTI1LTg5MTYtZjdmMTJkNjU0YTY5Ij4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmZDY2ZDIzMC1mMDk3LTRhMjUtODkxNi1mN2YxMmQ2NTRhNjkiIHN0RXZ0OndoZW49IjIwMjItMDMtMTJUMTQ6MTY6NTArMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChNYWNpbnRvc2gpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjHOcacAAAMOSURBVFiFzZixa1NBHMe/FxOIryWNNUkjJCYQkhJKU2oXsdJowU7t6KZroYNDB7eOgn+Dg0t10MmhrhUUEelm2hDaUmibQBtbQxuaI5JHn4O8cHe59/LuRY3fJbnj97vf5373vSOEzC8t4+W9mcUNzfcc/6mSw9H38U9rzx4d1ndJ9e27xa3Q0It+QznR1MbHjEfsbL1Bu35XjZflqtYBgPLMwgpZX/9gWEbYqN6gCAxofzVPjKWU1jyU0pos0MnYSddFBQa0rh1nY1lpmjbskSWJgbKOpBJJgy3OFmTjZcedSiQNuxyrDVBKaxxwt6R6g6LeoEglksZ4bozcvnO3PW91zOa8uVY6k8Z4boykM2lpvKxpLIenI8NmAwAwNTmB8dwYAQDN78Pcgznp5mQQU5MTiMdiAIB4LIbpfL4jT1bTnOMsIR6t1edZ7Zy7pCa06E0xbzqfb8OaOt4/4NbqVptSWlN+Jczjn529z83TZgtfv3zm7MHChgODXPxmoWjsHewT1ZeGFL5tXSplADg5/U7CoYhhWsOU3tJRKm1zDYgmE0SELVcq2N3ZRTgUUX5SXQGzsoNOZTJE8/s6YEVbqcj20rEyRjxENr9ZKHLFvT4vUpkMiSYTfxwWkACzYOx3Ur20LLRZKBp6S2+PNb+vw7PdYMWGWDWoZ0uwkllA5ute5NgSweEhaed7FbuubCxKCixLYo9TZg9Zd4HfnhYvptW6srHYHCmw6sXIZkc5WL2lgzZbXIwI7fSUxOY4toSVstlR4vV5ublSadvY29nhLiLAQ9tdYjvZAlu9GFawektHuVLhwGWd7uZTu+6Tw3LZ1U7F3wUAOFhWN0aiEE/BKrabXFlCBRYAjqrHEO0Rj8XgDwSVaysDXw+NdMw56ZYM+tpVv2p5deAfp1Wc1C/aY5WjZaFps4Wj6rFqefce9geCaNbP3KT2lOv6WXNbsNfcnt/hfy1POBJd7TeEU50fVlevPB3wFH/mbj3pN4wTRdbePCTzS8t4fTOQLs8srBiD/sf9hpKJXDRfmX8G/gKUwMkA3my/NwAAAABJRU5ErkJggg==",ap={AC:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 513 342'%3e%3cpath fill='%230052B4' d='M0 0h513v342H0z'/%3e%3cpath fill='white' d='M440.1 181.1c-.1 39.2-6.4 81.4-57.4 101.5-51.1-20.1-57.3-62.3-57.4-101.5h114.8z'/%3e%3cpath fill='%2329DBFF' d='M439.6 197.7c-2.8 34.9-12.4 67.4-57 85-44.4-17.6-54.5-51.2-56.9-84.9'/%3e%3cpath fill='white' d='M437.8 214.1c-3.2 24.3-16.7 53.5-55.1 68.6-38.4-15.1-50.5-42.5-55.1-68.4'/%3e%3cpath fill='%2329DBFF' d='M434.2 230.3c-5.7 17.7-19.3 39.4-51.3 52.8-32-12.6-45.2-33.8-51.4-53'/%3e%3cpath fill='white' d='M426.7 246.9c-6.5 11.3-17.7 25.4-44 35.9-27.5-11.5-37.4-25.3-44-36.1'/%3e%3cpath fill='%2329DBFF' d='M412.4 265.1c-8.1 7.2-12 11.2-29.6 17.9-20.1-7.9-22.6-11.6-29.2-17.5'/%3e%3cpath fill='%235CC85C' d='M383.3 231.6c-.2-.2-27.9 35.7-27.9 35.7-1.8-1.3-10-9.5-13.3-15l41.3-50.1 40.2 49.7c-3.9 6.5-11.4 13.6-13.2 15M382.6 85.3l-26.5 45h53z'/%3e%3cellipse transform='rotate(-82.3 291.431 225.686)' fill='%23F7A226' cx='291.4' cy='225.7' rx='48.7' ry='15.7'/%3e%3cellipse transform='rotate(-68.099 303.087 164.67)' fill='%23DDC7AB' cx='303.1' cy='164.7' rx='11.7' ry='7.2'/%3e%3cellipse transform='rotate(-81.738 291.697 271.697)' fill='%23DDC7AB' cx='291.7' cy='271.7' rx='11.4' ry='3.3'/%3e%3cellipse transform='matrix(.9986 -.05353 .05353 .9986 -13.992 16.424)' fill='%23DDC7AB' cx='299.6' cy='269.4' rx='3.3' ry='11'/%3e%3cellipse transform='rotate(-21.518 314.54 201.06)' fill='%23DDC7AB' cx='314.5' cy='201.1' rx='4.1' ry='13.7'/%3e%3cellipse transform='rotate(-21.518 317.511 178.077)' fill='%23DDC7AB' cx='317.5' cy='178.1' rx='13.7' ry='4.1'/%3e%3cellipse transform='rotate(-7.7 473.781 225.857)' fill='%23F7A226' cx='473.6' cy='225.9' rx='15.7' ry='48.7'/%3e%3cellipse transform='rotate(-21.901 462.057 164.866)' fill='%23DDC7AB' cx='462' cy='164.9' rx='7.2' ry='11.7'/%3e%3cellipse transform='rotate(-8.27 473.27 271.908)' fill='%23DDC7AB' cx='473.4' cy='271.9' rx='3.3' ry='11.4'/%3e%3cellipse transform='matrix(.05353 -.9986 .9986 .05353 171.34 719.998)' fill='%23DDC7AB' cx='465.5' cy='269.6' rx='11' ry='3.3'/%3e%3cellipse transform='rotate(-68.482 450.552 201.247)' fill='%23DDC7AB' cx='450.6' cy='201.2' rx='13.7' ry='4.1'/%3e%3cellipse transform='rotate(-68.482 447.58 178.265)' fill='%23DDC7AB' cx='447.6' cy='178.3' rx='4.1' ry='13.7'/%3e%3cpath fill='%23B0C6CC' d='M373.3 130.3L356.1 155l17.8 26.1H396l4.7-25.4-5.4-25.4z'/%3e%3cpath fill='white' d='M256 0v117.4h-46.1l46.1 30.7v22.6h-22.6L160 121.8v48.9H96v-48.9l-73.4 48.9H0v-22.6l46.1-30.7H0v-64h46.1L0 22.7V0h22.6L96 48.9V0h64v48.9L233.4 0z'/%3e%3cpath fill='%23D80027' d='M144 0h-32v69.4H0v32h112v69.3h32v-69.3h112v-32H144z'/%3e%3cpath fill='%232E52B2' d='M256 22.7v30.7h-46.1z'/%3e%3cpath fill='%23D80027' d='M0 170.7v-11l62.5-42.3h22.6L7.3 170.7zM7.3.1l77.8 53.2H62.5L0 11.1V.1zM256 .1v11l-62.5 42.3h-22.6L248.7.1zm-7.3 170.6l-77.8-53.3h22.6l62.5 42.3v11z'/%3e%3c/svg%3e",TA:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 341.3'%3e%3cpath fill='%230052B4' d='M0 0h512v341.3H0z'/%3e%3cpath fill='white' d='M256 0v117.4h-46.1l46.1 30.7v22.6h-22.6L160 121.8v48.9H96v-48.9l-73.4 48.9H0v-22.6l46.1-30.7H0v-64h46.1L0 22.7V0h22.6L96 48.9V0h64v48.9L233.4 0z'/%3e%3cg fill='%23D80027'%3e%3cpath d='M144 0h-32v69.4H0v32h112v69.3h32v-69.3h112v-32H144z'/%3e%3cpath d='M0 0v15.1l57.4 38.3H80zm256 0v15.1l-57.4 38.3H176z'/%3e%3c/g%3e%3cpath fill='%232E52B2' d='M256 22.7v30.7h-46.1z'/%3e%3cpath d='M0 0v15.1l57.4 38.3H80zm256 0v15.1l-57.4 38.3H176z' fill='%23D80027'/%3e%3cpath fill='%232E52B2' d='M256 22.7v30.7h-46.1z'/%3e%3cpath d='M0 170.7v-15.1l57.4-38.2H80zm256 0v-15.1l-57.4-38.2H176z' fill='%23D80027'/%3e%3cpath fill='%2329DBFF' d='M448.9 169.5c0 9.6-.3 29.6-1.4 39.2-4.1 34.9-23.5 68.8-62.1 85.9-45.3-17.9-60.8-51-64.9-85.9-1.1-9.6-1.5-19.4-1.5-29l.3-47.1h129.2l.4 36.9z'/%3e%3cpath fill='white' d='M447.5 208.7c-.2 1.6-.4 3.3-.6 4.9-4.8 33.1-22.9 65.4-61.5 81-43.2-17-59.4-47.9-64.2-81-.2-1.6-.4-3.2-.6-4.9'/%3e%3cpath fill='%2329DBFF' d='M385.4 251.7l-22.9-43h45.8z'/%3e%3cpath fill='white' d='M385.4 165.8l-22.9 42.9h45.8z'/%3e%3cellipse fill='%23FFBE57' cx='474.8' cy='236.8' rx='16.8' ry='43.3'/%3e%3cellipse fill='%23FFBE57' cx='295.3' cy='236.8' rx='16.8' ry='43.3'/%3e%3cpath fill='white' d='M385.4 31.5l-33.4 44h68.5zM315.5 280s33.8 29.5 69.9 29.5 67.1-29.5 67.1-29.5l8.5 14.6S439.2 326 385.4 326 307 294.6 307 294.6l8.5-14.6z'/%3e%3cellipse fill='%23A5A5A5' cx='386.3' cy='104.3' rx='34.3' ry='23.3'/%3e%3c/svg%3e"},OS=e=>e==="TA"||e==="AC"?{TA:ap.TA,AC:ap.AC}[e]:`https://flagcdn.com/w40/${e.toLowerCase()}.webp`,s0="MuiTelInput-FlagImg",Jd=({isoCode:e,countryName:t})=>({src:OS(e),loading:"lazy",width:26,alt:t,className:s0}),RS=(e,{countryName:t})=>r.jsx("img",{...Jd({isoCode:e,countryName:t})}),NS=r.jsx("img",{src:MS,loading:"lazy",width:26,alt:"unknown",className:s0});function Hl(...e){}function o0(e=$o){try{return new Intl.DisplayNames(e,{type:"region"})}catch{return new Intl.DisplayNames($o,{type:"region"})}}const FS={CallingCodeSplitted:Oe(v)({borderRight:`1px solid ${Dg[300]}`,paddingRight:10,cursor:"default",pointerEvents:"none"})},ip="MuiTelInput-IconButton",LS=({disableDropdown:e=!1,forceCallingCode:t=!1,langOfCountryName:n=$o,isFlagsMenuOpened:a,getFlagElement:i,unknownFlagElement:s,isoCode:o,...l})=>{const c=re.useMemo(()=>o0(n),[n]),d=r.jsx(a0,{isoCode:o,children:o?i(o,{countryName:c.of(o)||"",isSelected:!0,imgProps:Jd({isoCode:o,countryName:c.of(o)||""})}):s});return r.jsxs(r.Fragment,{children:[e?r.jsx(Ae,{tabIndex:-1,className:ip,role:"",disableRipple:!0,sx:{pointerEvents:"none",aspectRatio:"1 / 1"},component:"span",children:d}):r.jsx(Ae,{...l,"aria-label":"Select country",className:ip,"aria-haspopup":"listbox",sx:{aspectRatio:"1 / 1"},"aria-controls":a?"select-country":void 0,"aria-expanded":a?"true":"false",children:d}),t&&o?r.jsxs(FS.CallingCodeSplitted,{children:["+",So(o)]}):null]})},sp={ListItemIcon:Oe(vn)({marginRight:"10px"}),ListItemText:Oe(Ot)({marginRight:"10px"})},VS="MuiTelInput-MenuItem",zS="MuiTelInput-ListItemIcon-flag",_S="MuiTelInput-ListItemText-country",WS="MuiTelInput-Typography-calling-code",BS=({isoCode:e,onSelectCountry:t,countryName:n,getFlagElement:a,...i})=>{var s;return r.jsxs(ne,{...i,onClick:o=>{o.preventDefault(),t(e)},role:"option","data-testid":`option-${e}`,className:VS,children:[r.jsx(sp.ListItemIcon,{className:zS,children:r.jsx(a0,{isoCode:e,children:a(e,{countryName:n,isSelected:!1,imgProps:Jd({isoCode:e,countryName:n})})})}),r.jsx(sp.ListItemText,{className:_S,children:n}),r.jsxs(v,{variant:"body2",color:"text.secondary",className:WS,children:["+",(s=ii[e])==null?void 0:s[0]]})]})},US=re.memo(BS),qS=[],HS=[],YS=[],GS=[],QS="MuiTelInput-Menu",KS=({anchorEl:e,isoCode:t,onSelectCountry:n,excludedCountries:a=qS,onlyCountries:i=HS,langOfCountryName:s=$o,continents:o=YS,preferredCountries:l=GS,className:c,getFlagElement:d,...u})=>{const h=re.useMemo(()=>o0(s),[s]),p=AS($S,h,{onlyCountries:i,excludedCountries:a,continents:o,preferredCountries:l});return r.jsx(Kn,{anchorEl:e,open:!!e,id:"select-country",className:`${QS} ${c||""}`,MenuListProps:{role:"listbox","aria-activedescendant":t?`country-${t}`:"","aria-labelledby":"select-country"},...u,children:p.map(y=>r.jsx(US,{onSelectCountry:n,isoCode:y,countryName:h.of(y)||"",selected:y===t,id:`country-${y}`,getFlagElement:d},y))})};function op(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&wS(n)&&"current"in n&&(n.current=t)})}}function l0(e,t){return e.replace(t,"")}function ZS({disabled:e,disableDropdown:t}){const n=re.useRef(null),[a,i]=re.useState(null);return{anchorRef:n,anchorEl:a,openMenu:()=>{(!e||!t)&&i(n.current)},closeMenu:()=>{i(null)}}}function XS(e){const{length:t}=e.value;e.setSelectionRange(t,t)}function JS({onDoubleClick:e,onCopy:t,onFocus:n,inputRef:a}){return{handleDoubleClick:i=>{const s=a.current;s.setSelectionRange(0,s.value.length),e==null||e(i)},handleCopy:i=>{if(t){t(i);return}const s=window.getSelection();if(s){const o=s.toString().replaceAll(" ","");i.clipboardData.setData("text/plain",o),i.preventDefault()}},handleFocus:i=>{a.current&&XS(a.current),n==null||n(i)}}}function eD(e){const{defaultCountry:t,onlyCountries:n,excludedCountries:a,continents:i,forceCallingCode:s}=e;re.useEffect(()=>{n&&a&&DS(n,a)},[n,a]),re.useEffect(()=>{t&&a&&a.includes(t)&&Hl(`[mui-tel-input] Not expected to have the 'defaultCountry' (${t}) prop excluded by the 'excludedCountries' prop`)},[t,a]),re.useEffect(()=>{t&&n&&!n.includes(t)&&Hl(`[mui-tel-input] Not expected to have a 'defaultCountry' prop (${t}) and a 'onlyCountries' prop but without included the 'defaultCountry' (${t})`)},[t,n]),re.useEffect(()=>{t&&i&&i.length>0&&(i.some(o=>Xd[o].includes(t))||Hl(`[mui-tel-input] Not expected to have a 'defaultCountry' prop (${t}) and a 'continents' prop that are not contain the country (${t})`))},[t,i]),re.useEffect(()=>{},[t,s])}var tD=3,ts="0-9０-９٠-٩۰-۹",nD="-‐-―−ー－",rD="／/",aD="．.",iD="  ­​⁠　",sD="()（）［］\\[\\]",oD="~⁓∼～",Ar="".concat(nD).concat(rD).concat(aD).concat(iD).concat(sD).concat(oD),lD="+＋";function lp(e,t){e=e.split("-"),t=t.split("-");for(var n=e[0].split("."),a=t[0].split("."),i=0;i<3;i++){var s=Number(n[i]),o=Number(a[i]);if(s>o)return 1;if(o>s)return-1;if(!isNaN(s)&&isNaN(o))return 1;if(isNaN(s)&&!isNaN(o))return-1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0}var cD={}.constructor;function Zs(e){return e!=null&&e.constructor===cD}function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function ul(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dD(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function hl(e,t,n){return t&&dD(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var uD="1.2.0",hD="1.7.35",cp=" ext. ",pD=/^\d+$/,nn=function(){function e(t){ul(this,e),gD(t),this.metadata=t,d0.call(this,t)}return hl(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(t){return t!=="001"})}},{key:"getCountryMetadata",value:function(t){return this.metadata.countries[t]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(t){return this.getCountryMetadata(t)!==void 0}},{key:"hasCallingCode",value:function(t){if(this.getCountryCodesForCallingCode(t))return!0;if(this.nonGeographic()){if(this.nonGeographic()[t])return!0}else{var n=this.countryCallingCodes()[t];if(n&&n.length===1&&n[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(t){return this.nonGeographic()?!!this.nonGeographic()[t]:!this.getCountryCodesForCallingCode(t)}},{key:"country",value:function(t){return this.selectNumberingPlan(t)}},{key:"selectNumberingPlan",value:function(t,n){if(t&&pD.test(t)&&(n=t,t=null),t&&t!=="001"){if(!this.hasCountry(t))throw new Error("Unknown country: ".concat(t));this.numberingPlan=new dp(this.getCountryMetadata(t),this)}else if(n){if(!this.hasCallingCode(n))throw new Error("Unknown calling code: ".concat(n));this.numberingPlan=new dp(this.getNumberingPlanMetadata(n),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(t){var n=this.countryCallingCodes()[t];if(n)return n.length===1&&n[0].length===3?void 0:n}},{key:"getCountryCodeForCallingCode",value:function(t){var n=this.getCountryCodesForCallingCode(t);if(n)return n[0]}},{key:"getNumberingPlanMetadata",value:function(t){var n=this.getCountryCodeForCallingCode(t);if(n)return this.getCountryMetadata(n);if(this.nonGeographic()){var a=this.nonGeographic()[t];if(a)return a}else{var i=this.countryCallingCodes()[t];if(i&&i.length===1&&i[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(t){return this.numberingPlan.type(t)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(t){return this.selectNumberingPlan(t)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}]),e}(),dp=function(){function e(t,n){ul(this,e),this.globalMetadataObject=n,this.metadata=t,d0.call(this,n.metadata)}return hl(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(t){return t[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var t=this,n=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return n.map(function(a){return new fD(a,t)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(t){return t[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(t){if(this.hasTypes()&&up(this.types(),t))return new xD(up(this.types(),t),this)}},{key:"ext",value:function(){return this.v1||this.v2?cp:this.metadata[13]||cp}}]),e}(),fD=function(){function e(t,n){ul(this,e),this._format=t,this.metadata=n}return hl(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!mD.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}]),e}(),mD=/^\(?\$1\)?$/,xD=function(){function e(t,n){ul(this,e),this.type=t,this.metadata=n}return hl(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}]),e}();function up(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}function gD(e){if(!e)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!Zs(e)||!Zs(e.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(Zs(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+vD(e)+": "+e,"."))}var vD=function(e){return Fc(e)};function c0(e,t){if(t=new nn(t),t.hasCountry(e))return t.country(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function d0(e){var t=e.version;typeof t=="number"?(this.v1=t===1,this.v2=t===2,this.v3=t===3,this.v4=t===4):t?lp(t,uD)===-1?this.v2=!0:lp(t,hD)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function yD(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=bD(e))||t){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bD(e,t){if(e){if(typeof e=="string")return hp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hp(e,t)}}function hp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var jD={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9"};function wD(e){return jD[e]}function Do(e){for(var t="",n=yD(e.split("")),a;!(a=n()).done;){var i=a.value,s=wD(i);s&&(t+=s)}return t}function pl(e,t){return CD(e,void 0,t)}function CD(e,t,n){var a=n.type(t),i=a&&a.possibleLengths()||n.possibleLengths();if(!i)return"IS_POSSIBLE";var s=e.length,o=i[0];return o===s?"IS_POSSIBLE":o>s?"TOO_SHORT":i[i.length-1]<s?"TOO_LONG":i.indexOf(s,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function $D(e,t,n){if(t===void 0&&(t={}),n=new nn(n),t.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!n.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));n.country(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}}if(n.possibleLengths())return SD(e.phone||e.nationalNumber,n);if(e.countryCallingCode&&n.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function SD(e,t){switch(pl(e,t)){case"IS_POSSIBLE":return!0;default:return!1}}function Nr(e,t){return e=e||"",new RegExp("^(?:"+t+")$").test(e)}function DD(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=TD(e))||t){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TD(e,t){if(e){if(typeof e=="string")return pp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pp(e,t)}}function pp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var kD=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function eu(e,t,n){if(t=t||{},!(!e.country&&!e.countryCallingCode)){n=new nn(n),n.selectNumberingPlan(e.country,e.countryCallingCode);var a=t.v2?e.nationalNumber:e.phone;if(Nr(a,n.nationalNumberPattern())){if(Yl(a,"FIXED_LINE",n))return n.type("MOBILE")&&n.type("MOBILE").pattern()===""||!n.type("MOBILE")||Yl(a,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var i=DD(kD),s;!(s=i()).done;){var o=s.value;if(Yl(a,o,n))return o}}}}function Yl(e,t,n){return t=n.type(t),!t||!t.pattern()||t.possibleLengths()&&t.possibleLengths().indexOf(e.length)<0?!1:Nr(e,t.pattern())}function PD(e,t,n){if(t=t||{},n=new nn(n),n.selectNumberingPlan(e.country,e.countryCallingCode),n.hasTypes())return eu(e,t,n.metadata)!==void 0;var a=t.v2?e.nationalNumber:e.phone;return Nr(a,n.nationalNumberPattern())}function ED(e,t,n){var a=new nn(n),i=a.getCountryCodesForCallingCode(e);return i?i.filter(function(s){return AD(t,s,n)}):[]}function AD(e,t,n){var a=new nn(n);return a.selectNumberingPlan(t),a.numberingPlan.possibleLengths().indexOf(e.length)>=0}function u0(e){return e.replace(new RegExp("[".concat(Ar,"]+"),"g")," ").trim()}var h0=/(\$\d)/;function p0(e,t,n){var a=n.useInternationalFormat,i=n.withNationalPrefix;n.carrierCode,n.metadata;var s=e.replace(new RegExp(t.pattern()),a?t.internationalFormat():i&&t.nationalPrefixFormattingRule()?t.format().replace(h0,t.nationalPrefixFormattingRule()):t.format());return a?u0(s):s}var ID=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function MD(e,t,n){var a=new nn(n);if(a.selectNumberingPlan(e,t),a.defaultIDDPrefix())return a.defaultIDDPrefix();if(ID.test(a.IDDPrefix()))return a.IDDPrefix()}function OD(e){var t=e.number,n=e.ext;if(!t)return"";if(t[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(t).concat(n?";ext="+n:"")}function RD(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=ND(e))||t){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ND(e,t){if(e){if(typeof e=="string")return fp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fp(e,t)}}function fp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function mp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function xp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mp(Object(n),!0).forEach(function(a){FD(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mp(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function FD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gp={formatExtension:function(e,t,n){return"".concat(e).concat(n.ext()).concat(t)}};function LD(e,t,n,a){if(n?n=xp(xp({},gp),n):n=gp,a=new nn(a),e.country&&e.country!=="001"){if(!a.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));a.country(e.country)}else if(e.countryCallingCode)a.selectNumberingPlan(e.countryCallingCode);else return e.phone||"";var i=a.countryCallingCode(),s=n.v2?e.nationalNumber:e.phone,o;switch(t){case"NATIONAL":return s?(o=To(s,e.carrierCode,"NATIONAL",a,n),Gl(o,e.ext,a,n.formatExtension)):"";case"INTERNATIONAL":return s?(o=To(s,null,"INTERNATIONAL",a,n),o="+".concat(i," ").concat(o),Gl(o,e.ext,a,n.formatExtension)):"+".concat(i);case"E.164":return"+".concat(i).concat(s);case"RFC3966":return OD({number:"+".concat(i).concat(s),ext:e.ext});case"IDD":if(!n.fromCountry)return;var l=zD(s,e.carrierCode,i,n.fromCountry,a);return Gl(l,e.ext,a,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}}function To(e,t,n,a,i){var s=VD(a.formats(),e);return s?p0(e,s,{useInternationalFormat:n==="INTERNATIONAL",withNationalPrefix:!(s.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&i&&i.nationalPrefix===!1),carrierCode:t,metadata:a}):e}function VD(e,t){for(var n=RD(e),a;!(a=n()).done;){var i=a.value;if(i.leadingDigitsPatterns().length>0){var s=i.leadingDigitsPatterns()[i.leadingDigitsPatterns().length-1];if(t.search(s)!==0)continue}if(Nr(t,i.pattern()))return i}}function Gl(e,t,n,a){return t?a(e,t,n):e}function zD(e,t,n,a,i){var s=c0(a,i.metadata);if(s===n){var o=To(e,t,"NATIONAL",i);return n==="1"?n+" "+o:o}var l=MD(a,void 0,i.metadata);if(l)return"".concat(l," ").concat(n," ").concat(To(e,null,"INTERNATIONAL",i))}function vp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function yp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vp(Object(n),!0).forEach(function(a){_D(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vp(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function _D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BD(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function UD(e,t,n){return t&&BD(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var qD=function(){function e(t,n,a){if(WD(this,e),!t)throw new TypeError("`country` or `countryCallingCode` not passed");if(!n)throw new TypeError("`nationalNumber` not passed");if(!a)throw new TypeError("`metadata` not passed");var i=YD(t,a),s=i.country,o=i.countryCallingCode;this.country=s,this.countryCallingCode=o,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return a}}return UD(e,[{key:"setExt",value:function(t){this.ext=t}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:ED(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return $D(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return PD(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var t=new nn(this.getMetadata());return t.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(t){return this.number===t.number&&this.ext===t.ext}},{key:"getType",value:function(){return eu(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(t,n){return LD(this,t,n?yp(yp({},n),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(t){return this.format("NATIONAL",t)}},{key:"formatInternational",value:function(t){return this.format("INTERNATIONAL",t)}},{key:"getURI",value:function(t){return this.format("RFC3966",t)}}]),e}(),HD=function(e){return/^[A-Z]{2}$/.test(e)};function YD(e,t){var n,a,i=new nn(t);return HD(e)?(n=e,i.selectNumberingPlan(n),a=i.countryCallingCode()):a=e,{country:n,countryCallingCode:a}}var GD=new RegExp("(["+ts+"])");function f0(e,t,n,a){if(t){var i=new nn(a);i.selectNumberingPlan(t,n);var s=new RegExp(i.IDDPrefix());if(e.search(s)===0){e=e.slice(e.match(s)[0].length);var o=e.match(GD);if(!(o&&o[1]!=null&&o[1].length>0&&o[1]==="0"))return e}}}function Lc(e,t){if(e&&t.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+t.numberingPlan.nationalPrefixForParsing()+")"),a=n.exec(e);if(a){var i,s,o=a.length-1,l=o>0&&a[o];if(t.nationalPrefixTransformRule()&&l)i=e.replace(n,t.nationalPrefixTransformRule()),o>1&&(s=a[1]);else{var c=a[0];i=e.slice(c.length),l&&(s=a[1])}var d;if(l){var u=e.indexOf(a[1]),h=e.slice(0,u);h===t.numberingPlan.nationalPrefix()&&(d=t.numberingPlan.nationalPrefix())}else d=a[0];return{nationalNumber:i,nationalPrefix:d,carrierCode:s}}}return{nationalNumber:e}}function bp(e,t){var n=Lc(e,t),a=n.carrierCode,i=n.nationalNumber;if(i!==e){if(!QD(e,i,t))return{nationalNumber:e};if(t.possibleLengths()&&!KD(i,t))return{nationalNumber:e}}return{nationalNumber:i,carrierCode:a}}function QD(e,t,n){return!(Nr(e,n.nationalNumberPattern())&&!Nr(t,n.nationalNumberPattern()))}function KD(e,t){switch(pl(e,t)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function m0(e,t,n,a){var i=t?c0(t,a):n;if(e.indexOf(i)===0){a=new nn(a),a.selectNumberingPlan(t,n);var s=e.slice(i.length),o=bp(s,a),l=o.nationalNumber,c=bp(e,a),d=c.nationalNumber;if(!Nr(d,a.nationalNumberPattern())&&Nr(l,a.nationalNumberPattern())||pl(d,a)==="TOO_LONG")return{countryCallingCode:i,number:s}}return{number:e}}function ZD(e,t,n,a){if(!e)return{};var i;if(e[0]!=="+"){var s=f0(e,t,n,a);if(s&&s!==e)i=!0,e="+"+s;else{if(t||n){var o=m0(e,t,n,a),l=o.countryCallingCode,c=o.number;if(l)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:l,number:c}}return{number:e}}}if(e[1]==="0")return{};a=new nn(a);for(var d=2;d-1<=tD&&d<=e.length;){var u=e.slice(1,d);if(a.hasCallingCode(u))return a.selectNumberingPlan(u),{countryCallingCodeSource:i?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:u,number:e.slice(d)};d++}return{}}function XD(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=JD(e))||t){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JD(e,t){if(e){if(typeof e=="string")return jp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jp(e,t)}}function jp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function x0(e,t){var n=t.countries,a=t.defaultCountry,i=t.metadata;i=new nn(i);for(var s=[],o=XD(n),l;!(l=o()).done;){var c=l.value;if(i.country(c),i.leadingDigits()){if(e&&e.search(i.leadingDigits())===0)return c}else if(eu({phone:e,country:c},void 0,i.metadata))if(a){if(c===a)return c;s.push(c)}else return c}if(s.length>0)return s[0]}function e4(e,t){var n=t.nationalNumber,a=t.defaultCountry,i=t.metadata,s=i.getCountryCodesForCallingCode(e);if(s)return s.length===1?s[0]:x0(n,{countries:s,defaultCountry:a,metadata:i.metadata})}function t4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n4(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r4(e,t,n){return t&&n4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var a4=function(){function e(t){var n=t.onCountryChange,a=t.onCallingCodeChange;t4(this,e),this.onCountryChange=n,this.onCallingCodeChange=a}return r4(e,[{key:"reset",value:function(t){var n=t.country,a=t.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(n,a)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"update",value:function(t){for(var n=0,a=Object.keys(t);n<a.length;n++){var i=a[n];this[i]=t[i]}}},{key:"initCountryAndCallingCode",value:function(t,n){this.setCountry(t),this.setCallingCode(n)}},{key:"setCountry",value:function(t){this.country=t,this.onCountryChange(t)}},{key:"setCallingCode",value:function(t){this.callingCode=t,this.onCallingCodeChange(t,this.country)}},{key:"startInternationalNumber",value:function(t,n){this.international=!0,this.initCountryAndCallingCode(t,n)}},{key:"appendDigits",value:function(t){this.digits+=t}},{key:"appendNationalSignificantNumberDigits",value:function(t){this.nationalSignificantNumber+=t}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}]),e}();function i4(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=s4(e))||t){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s4(e,t){if(e){if(typeof e=="string")return wp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wp(e,t)}}function wp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Tn="x",Ql=new RegExp(Tn);function Xs(e,t){if(t<1)return"";for(var n="";t>1;)t&1&&(n+=e),t>>=1,e+=e;return n+e}function Cp(e,t){return e[t]===")"&&t++,o4(e.slice(0,t))}function o4(e){for(var t=[],n=0;n<e.length;)e[n]==="("?t.push(n):e[n]===")"&&t.pop(),n++;var a=0,i="";t.push(e.length);for(var s=0,o=t;s<o.length;s++){var l=o[s];i+=e.slice(a,l),a=l+1}return i}function l4(e,t,n){for(var a=i4(n.split("")),i;!(i=a()).done;){var s=i.value;if(e.slice(t+1).search(Ql)<0)return;t=e.search(Ql),e=e.replace(Ql,s)}return[e,t]}function c4(e,t,n){var a=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix,o=new RegExp("^(?:".concat(t.pattern(),")$"));if(o.test(e.nationalSignificantNumber))return u4(e,t,{metadata:a,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:s})}function d4(e,t){return pl(e,t)==="IS_POSSIBLE"}function u4(e,t,n){var a=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix;if(e.nationalSignificantNumber,e.international,e.nationalPrefix,e.carrierCode,i(t)){var o=$p(e,t,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:s,metadata:a});if(o)return o}return $p(e,t,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:s,metadata:a})}function $p(e,t,n){var a=n.metadata,i=n.useNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix,o=p0(e.nationalSignificantNumber,t,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:i,metadata:a});if(i||(e.nationalPrefix?o=e.nationalPrefix+s(t)+o:e.complexPrefixBeforeNationalSignificantNumber&&(o=e.complexPrefixBeforeNationalSignificantNumber+" "+o)),h4(o,e))return o}function h4(e,t){return Do(e)===t.getNationalDigits()}function p4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f4(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m4(e,t,n){return t&&f4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var x4=function(){function e(){p4(this,e)}return m4(e,[{key:"parse",value:function(t){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(t),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var n=this.context[0],a=n.branches,i=n.instructions;if(a)return{op:"|",args:a.concat([Kl(i)])};if(i.length===0)throw new Error("Pattern is required");return i.length===1?i[0]:i}},{key:"startContext",value:function(t){this.context.push(t)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(t){if(!t)throw new Error("Pattern is required");var n=t.match(y4);if(!n){if(v4.test(t))throw new Error("Illegal characters found in a pattern: ".concat(t));this.getContext().instructions=this.getContext().instructions.concat(t.split(""));return}var a=n[1],i=t.slice(0,n.index),s=t.slice(n.index+a.length);switch(a){case"(?:":i&&this.parsePattern(i),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(i&&this.parsePattern(i),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var o=this.getContext(),l=o.branches;l.push(Kl(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:l});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(i&&this.parsePattern(i),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(Kl(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":i&&this.parsePattern(i),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:g4(i)});break;default:throw new Error("Unknown operator: ".concat(a))}s&&this.parsePattern(s)}}]),e}();function g4(e){for(var t=[],n=0;n<e.length;){if(e[n]==="-"){if(n===0||n===e.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(e));for(var a=e[n-1].charCodeAt(0)+1,i=e[n+1].charCodeAt(0)-1,s=a;s<=i;)t.push(String.fromCharCode(s)),s++}else t.push(e[n]);n++}return t}var v4=/[\(\)\[\]\?\:\|]/,y4=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function Kl(e){return e.length===1?e[0]:e}function Sp(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=b4(e))||t){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b4(e,t){if(e){if(typeof e=="string")return Dp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dp(e,t)}}function Dp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function j4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w4(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function C4(e,t,n){return t&&w4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var $4=function(){function e(t){j4(this,e),this.matchTree=new x4().parse(t)}return C4(e,[{key:"match",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.allowOverflow;if(!t)throw new Error("String is required");var i=Vc(t.split(""),this.matchTree,!0);if(i&&i.match&&delete i.matchedChars,!(i&&i.overflow&&!a))return i}}]),e}();function Vc(e,t,n){if(typeof t=="string"){var a=e.join("");return t.indexOf(a)===0?e.length===t.length?{match:!0,matchedChars:e}:{partialMatch:!0}:a.indexOf(t)===0?n&&e.length>t.length?{overflow:!0}:{match:!0,matchedChars:e.slice(0,t.length)}:void 0}if(Array.isArray(t)){for(var i=e.slice(),s=0;s<t.length;){var o=t[s],l=Vc(i,o,n&&s===t.length-1);if(l){if(l.overflow)return l;if(l.match){if(i=i.slice(l.matchedChars.length),i.length===0)return s===t.length-1?{match:!0,matchedChars:e}:{partialMatch:!0}}else{if(l.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(l,null,2)))}}else return;s++}return n?{overflow:!0}:{match:!0,matchedChars:e.slice(0,e.length-i.length)}}switch(t.op){case"|":for(var c,d=Sp(t.args),u;!(u=d()).done;){var h=u.value,p=Vc(e,h,n);if(p){if(p.overflow)return p;if(p.match)return{match:!0,matchedChars:p.matchedChars};if(p.partialMatch)c=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(p,null,2)))}}return c?{partialMatch:!0}:void 0;case"[]":for(var y=Sp(t.args),b;!(b=y()).done;){var m=b.value;if(e[0]===m)return e.length===1?{match:!0,matchedChars:e}:n?{overflow:!0}:{match:!0,matchedChars:[m]}}return;default:throw new Error("Unsupported instruction tree: ".concat(t))}}function Tp(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=S4(e))||t){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S4(e,t){if(e){if(typeof e=="string")return kp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kp(e,t)}}function kp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function D4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T4(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function k4(e,t,n){return t&&T4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var zc="9",P4=15,E4=Xs(zc,P4),A4=/[- ]/,I4=function(){return/\[([^\[\]])*\]/g},M4=function(){return/\d(?=[^,}][^,}])/g},O4=new RegExp("["+Ar+"]*\\$1["+Ar+"]*(\\$\\d["+Ar+"]*)*$"),Pp=3,R4=function(){function e(t){t.state;var n=t.metadata;D4(this,e),this.metadata=n,this.resetFormat()}return k4(e,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(t,n){this.resetFormat(),t?(this.isNANP=t.callingCode()==="1",this.matchingFormats=t.formats(),n.nationalSignificantNumber&&this.narrowDownMatchingFormats(n)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(t,n){var a=this;if(d4(n.nationalSignificantNumber,this.metadata))for(var i=Tp(this.matchingFormats),s;!(s=i()).done;){var o=s.value,l=c4(n,o,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(c){return a.shouldTryNationalPrefixFormattingRule(c,{international:n.international,nationalPrefix:n.nationalPrefix})},getSeparatorAfterNationalPrefix:function(c){return a.getSeparatorAfterNationalPrefix(c)}});if(l)return this.resetFormat(),this.chosenFormat=o,this.setNationalNumberTemplate(l.replace(/\d/g,Tn),n),this.populatedNationalNumberTemplate=l,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(Tn),l}return this.formatNationalNumberWithNextDigits(t,n)}},{key:"formatNationalNumberWithNextDigits",value:function(t,n){var a=this.chosenFormat,i=this.chooseFormat(n);if(i)return i===a?this.formatNextNationalNumberDigits(t):this.formatNextNationalNumberDigits(n.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(t){var n=this,a=t.nationalSignificantNumber,i=t.nationalPrefix,s=t.international,o=a,l=o.length-Pp;l<0&&(l=0),this.matchingFormats=this.matchingFormats.filter(function(c){return n.formatSuits(c,s,i)&&n.formatMatches(c,o,l)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(t,n,a){return!(a&&!t.usesNationalPrefix()&&!t.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!n&&!a&&t.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(t,n,a){var i=t.leadingDigitsPatterns().length;if(i===0)return!0;a=Math.min(a,i-1);var s=t.leadingDigitsPatterns()[a];if(n.length<Pp)try{return new $4(s).match(n,{allowOverflow:!0})!==void 0}catch(o){return console.error(o),!0}return new RegExp("^(".concat(s,")")).test(n)}},{key:"getFormatFormat",value:function(t,n){return n?t.internationalFormat():t.format()}},{key:"chooseFormat",value:function(t){for(var n=this,a=function(){var l=s.value;return n.chosenFormat===l?"break":O4.test(n.getFormatFormat(l,t.international))?n.createTemplateForFormat(l,t)?(n.chosenFormat=l,"break"):(n.matchingFormats=n.matchingFormats.filter(function(c){return c!==l}),"continue"):"continue"},i=Tp(this.matchingFormats.slice()),s;!(s=i()).done;){var o=a();if(o==="break")break}return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(t,n){if(!(t.pattern().indexOf("|")>=0)){var a=this.getTemplateForFormat(t,n);if(a)return this.setNationalNumberTemplate(a,n),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(t){return this.isNANP||t&&t.nationalPrefixFormattingRule()&&A4.test(t.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(t,n){var a=t.IDDPrefix,i=t.missingPlus;return a?n&&n.spacing===!1?a:a+" ":i?"":"+"}},{key:"getTemplate",value:function(t){if(this.template){for(var n=-1,a=0,i=t.international?this.getInternationalPrefixBeforeCountryCallingCode(t,{spacing:!1}):"";a<i.length+t.getDigitsWithoutInternationalPrefix().length;)n=this.template.indexOf(Tn,n+1),a++;return Cp(this.template,n+1)}}},{key:"setNationalNumberTemplate",value:function(t,n){this.nationalNumberTemplate=t,this.populatedNationalNumberTemplate=t,this.populatedNationalNumberTemplatePosition=-1,n.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(n).replace(/[\d\+]/g,Tn)+Xs(Tn,n.callingCode.length)+" "+t:this.template=t}},{key:"getTemplateForFormat",value:function(t,n){var a=n.nationalSignificantNumber,i=n.international,s=n.nationalPrefix,o=n.complexPrefixBeforeNationalSignificantNumber,l=t.pattern();l=l.replace(I4(),"\\d").replace(M4(),"\\d");var c=E4.match(l)[0];if(!(a.length>c.length)){var d=new RegExp("^"+l+"$"),u=a.replace(/\d/g,zc);d.test(u)&&(c=u);var h=this.getFormatFormat(t,i),p;if(this.shouldTryNationalPrefixFormattingRule(t,{international:i,nationalPrefix:s})){var y=h.replace(h0,t.nationalPrefixFormattingRule());if(Do(t.nationalPrefixFormattingRule())===(s||"")+Do("$1")&&(h=y,p=!0,s))for(var b=s.length;b>0;)h=h.replace(/\d/,Tn),b--}var m=c.replace(new RegExp(l),h).replace(new RegExp(zc,"g"),Tn);return p||(o?m=Xs(Tn,o.length)+" "+m:s&&(m=Xs(Tn,s.length)+this.getSeparatorAfterNationalPrefix(t)+m)),i&&(m=u0(m)),m}}},{key:"formatNextNationalNumberDigits",value:function(t){var n=l4(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,t);if(!n){this.resetFormat();return}return this.populatedNationalNumberTemplate=n[0],this.populatedNationalNumberTemplatePosition=n[1],Cp(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(t,n){var a=n.international,i=n.nationalPrefix;if(t.nationalPrefixFormattingRule()){var s=t.usesNationalPrefix();if(s&&i||!s&&!a)return!0}}}]),e}();function g0(e,t){return V4(e)||L4(e,t)||F4(e,t)||N4()}function N4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F4(e,t){if(e){if(typeof e=="string")return Ep(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ep(e,t)}}function Ep(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function L4(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],i=!0,s=!1,o,l;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(a.push(o.value),!(t&&a.length===t));i=!0);}catch(c){s=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return a}}function V4(e){if(Array.isArray(e))return e}function z4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _4(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function W4(e,t,n){return t&&_4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var B4="["+Ar+ts+"]+",U4=new RegExp("^"+B4+"$","i"),q4="(?:["+lD+"]["+Ar+ts+"]*|["+Ar+ts+"]+)",H4=new RegExp("[^"+Ar+ts+"]+.*$"),Y4=/[^\d\[\]]/,G4=function(){function e(t){var n=t.defaultCountry,a=t.defaultCallingCode,i=t.metadata,s=t.onNationalSignificantNumberChange;z4(this,e),this.defaultCountry=n,this.defaultCallingCode=a,this.metadata=i,this.onNationalSignificantNumberChange=s}return W4(e,[{key:"input",value:function(t,n){var a=Z4(t),i=g0(a,2),s=i[0],o=i[1],l=Do(s),c;return o&&(n.digits||(n.startInternationalNumber(),l||(c=!0))),l&&this.inputDigits(l,n),{digits:l,justLeadingPlus:c}}},{key:"inputDigits",value:function(t,n){var a=n.digits,i=a.length<3&&a.length+t.length>=3;if(n.appendDigits(t),i&&this.extractIddPrefix(n),this.isWaitingForCountryCallingCode(n)){if(!this.extractCountryCallingCode(n))return}else n.appendNationalSignificantNumberDigits(t);n.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(n.getNationalDigits(),function(s){return n.update(s)})}},{key:"isWaitingForCountryCallingCode",value:function(t){var n=t.international,a=t.callingCode;return n&&!a}},{key:"extractCountryCallingCode",value:function(t){var n=ZD("+"+t.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),a=n.countryCallingCode,i=n.number;if(a)return t.setCallingCode(a),t.update({nationalSignificantNumber:i}),!0}},{key:"reset",value:function(t){if(t){this.hasSelectedNumberingPlan=!0;var n=t._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=n&&Y4.test(n)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(t,n){if(this.hasSelectedNumberingPlan){var a=Lc(t,this.metadata),i=a.nationalPrefix,s=a.nationalNumber,o=a.carrierCode;if(s!==t)return this.onExtractedNationalNumber(i,o,s,t,n),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(t,n,a){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(t,a);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var i=Lc(t,this.metadata),s=i.nationalPrefix,o=i.nationalNumber,l=i.carrierCode;if(o!==n)return this.onExtractedNationalNumber(s,l,o,t,a),!0}}},{key:"onExtractedNationalNumber",value:function(t,n,a,i,s){var o,l,c=i.lastIndexOf(a);if(c>=0&&c===i.length-a.length){l=!0;var d=i.slice(0,c);d!==t&&(o=d)}s({nationalPrefix:t,carrierCode:n,nationalSignificantNumber:a,nationalSignificantNumberMatchesInput:l,complexPrefixBeforeNationalSignificantNumber:o}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(t){if(this.extractAnotherNationalSignificantNumber(t.getNationalDigits(),t.nationalSignificantNumber,function(n){return t.update(n)}))return!0;if(this.extractIddPrefix(t))return this.extractCallingCodeAndNationalSignificantNumber(t),!0;if(this.fixMissingPlus(t))return this.extractCallingCodeAndNationalSignificantNumber(t),!0}},{key:"extractIddPrefix",value:function(t){var n=t.international,a=t.IDDPrefix,i=t.digits;if(t.nationalSignificantNumber,!(n||a)){var s=f0(i,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(s!==void 0&&s!==i)return t.update({IDDPrefix:i.slice(0,i.length-s.length)}),this.startInternationalNumber(t,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(t){if(!t.international){var n=m0(t.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),a=n.countryCallingCode;if(n.number,a)return t.update({missingPlus:!0}),this.startInternationalNumber(t,{country:t.country,callingCode:a}),!0}}},{key:"startInternationalNumber",value:function(t,n){var a=n.country,i=n.callingCode;t.startInternationalNumber(a,i),t.nationalSignificantNumber&&(t.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(t){this.extractCountryCallingCode(t)&&this.extractNationalSignificantNumber(t.getNationalDigits(),function(n){return t.update(n)})}}]),e}();function Q4(e){var t=e.search(q4);if(!(t<0)){e=e.slice(t);var n;return e[0]==="+"&&(n=!0,e=e.slice(1)),e=e.replace(H4,""),n&&(e="+"+e),e}}function K4(e){var t=Q4(e)||"";return t[0]==="+"?[t.slice(1),!0]:[t]}function Z4(e){var t=K4(e),n=g0(t,2),a=n[0],i=n[1];return U4.test(a)||(a=""),[a,i]}function X4(e,t){return n5(e)||t5(e,t)||e5(e,t)||J4()}function J4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e5(e,t){if(e){if(typeof e=="string")return Ap(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ap(e,t)}}function Ap(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function t5(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],i=!0,s=!1,o,l;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(a.push(o.value),!(t&&a.length===t));i=!0);}catch(c){s=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return a}}function n5(e){if(Array.isArray(e))return e}function r5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a5(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i5(e,t,n){return t&&a5(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var v0=function(){function e(t,n){r5(this,e),this.metadata=new nn(n);var a=this.getCountryAndCallingCode(t),i=X4(a,2),s=i[0],o=i[1];this.defaultCountry=s,this.defaultCallingCode=o,this.reset()}return i5(e,[{key:"getCountryAndCallingCode",value:function(t){var n,a;return t&&(Zs(t)?(n=t.defaultCountry,a=t.defaultCallingCode):n=t),n&&!this.metadata.hasCountry(n)&&(n=void 0),[n,a]}},{key:"input",value:function(t){var n=this.parser.input(t,this.state),a=n.digits,i=n.justLeadingPlus;if(i)this.formattedOutput="+";else if(a){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var s;if(this.metadata.hasSelectedNumberingPlan()&&(s=this.formatter.format(a,this.state)),s===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var o=this.state.getNationalDigits();o&&(s=this.formatter.format(o,this.state))}this.formattedOutput=s?this.getFullNumber(s):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var t=this;return this.state=new a4({onCountryChange:function(n){t.country=n},onCallingCodeChange:function(n,a){t.metadata.selectNumberingPlan(a,n),t.formatter.reset(t.metadata.numberingPlan,t.state),t.parser.reset(t.metadata.numberingPlan)}}),this.formatter=new R4({state:this.state,metadata:this.metadata}),this.parser=new G4({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){t.determineTheCountryIfNeeded(),t.formatter.reset(t.metadata.numberingPlan,t.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var t=this.state.digits;if(t)return this._getCountry()}},{key:"_getCountry",value:function(){var t=this.state.country;return t}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(t){var n=this;if(this.isInternational()){var a=function(s){return n.formatter.getInternationalPrefixBeforeCountryCallingCode(n.state,{spacing:!!s})+s},i=this.state.callingCode;return a(i?t?"".concat(i," ").concat(t):i:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return t}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var t=this.state,n=t.nationalSignificantNumber,a=t.complexPrefixBeforeNationalSignificantNumber,i=t.nationalPrefix,s=n,o=a||i;return o&&(s=o+s),s}},{key:"getNonFormattedNumber",value:function(){var t=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(t?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var t=this.getNonFormattedNumber();if(t)return t.replace(/[\+\d]/g,Tn)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var t=this.state.callingCode,n=this.metadata.getCountryCodesForCallingCode(t);return n&&n.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(e4(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var t=this.state,n=t.digits,a=t.callingCode,i=t.country,s=t.nationalSignificantNumber;if(n){if(this.isInternational())return a?"+"+a+s:"+"+n;if(i||a){var o=i?this.metadata.countryCallingCode():a;return"+"+o+s}}}},{key:"getNumber",value:function(){var t=this.state,n=t.nationalSignificantNumber,a=t.carrierCode,i=t.callingCode,s=this._getCountry();if(n&&!(!s&&!i)){if(s&&s===this.defaultCountry){var o=new nn(this.metadata.metadata);o.selectNumberingPlan(s);var l=o.numberingPlan.callingCode(),c=this.metadata.getCountryCodesForCallingCode(l);if(c.length>1){var d=x0(n,{countries:c,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata});d&&(s=d)}}var u=new qD(s||i,n,this.metadata.metadata);return a&&(u.carrierCode=a),u}}},{key:"isPossible",value:function(){var t=this.getNumber();return t?t.isPossible():!1}},{key:"isValid",value:function(){var t=this.getNumber();return t?t.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}]),e}();function si(e){return v0.call(this,e,i0)}si.prototype=Object.create(v0.prototype,{});si.prototype.constructor=si;function Zl(e){var d,u;const{defaultCountry:t,initialValue:n,disableFormatting:a,forceCallingCode:i}=e,s=t?`+${(d=ii[t])==null?void 0:d[0]}`:"",o=new si(t);let l=o.input(n);i&&l==="+"&&t&&(l=`+${(u=ii[t])==null?void 0:u[0]}`);const c=o.getNumberValue();return a&&c&&(l=c),{inputValue:l||s,isoCode:o.getCountry()||t||null}}function s5(e,t){const{excludedCountries:n,onlyCountries:a,continents:i}=t;return!(ur(n,!0)&&n.includes(e)||ur(a)&&!a.includes(e)||ur(i)&&!IS(i,e))}function o5({value:e,onChange:t,defaultCountry:n,onlyCountries:a,excludedCountries:i,continents:s,disableFormatting:o,forceCallingCode:l}){const c=re.useRef(n||null),d=re.useRef(new si(n)),u=re.useRef(null),[h,p]=re.useState(n),[y,b]=re.useState(()=>Zl({initialValue:e,defaultCountry:n,disableFormatting:o,forceCallingCode:l})),[m,f]=re.useState(e),j=D=>{var P;return{countryCallingCode:d.current.getCallingCode()||null,countryCode:d.current.getCountry()||null,nationalNumber:d.current.getNationalNumber(),numberType:((P=d.current.getNumber())==null?void 0:P.getType())??null,numberValue:d.current.getNumberValue()||null,reason:D}},$=D=>D&&s5(D,{onlyCountries:a,excludedCountries:i,continents:s}),S=D=>(d.current.reset(),d.current.input(D)),T=D=>D.startsWith("+")||D===""?D:`+${D}`,A=(D,P)=>D.startsWith("+")||D===""?D:`+${So(P)}${D}`,M=D=>{const P=l?A(D.target.value,y.isoCode):T(D.target.value),C=S(P),k=d.current.getCountry()||(l?y.isoCode:c.current),R=d.current.getNumberValue()||"";c.current=k;const O=j("input");if(R&&(!k||!$(k)))t==null||t(R,{...O,countryCode:null,countryCallingCode:null,nationalNumber:null}),f(R),b({isoCode:null,inputValue:R});else{const E=o?R:C;t==null||t(E,O),f(E),b({isoCode:k,inputValue:E})}};re.useEffect(()=>{if(e!==m){f(e);const D=Zl({initialValue:e,defaultCountry:n,forceCallingCode:l,disableFormatting:o});c.current=D.isoCode,b(D)}},[e,m,n,l,o]),re.useEffect(()=>{if(n!==h){p(n),d.current=new si(n);const{inputValue:D,isoCode:P}=Zl({initialValue:"",defaultCountry:n,forceCallingCode:l,disableFormatting:o});f(D),d.current.input(D),c.current=d.current.getCountry()||null,t==null||t(D,j("country")),b({inputValue:D,isoCode:P})}},[n,h,t,l,o]);const g=D=>{var E;if(D===y.isoCode)return;const P=(E=ii[D])==null?void 0:E[0],{inputValue:C,isoCode:k}=y;let R=C;if(k){const I=`+${So(k)}`;R=C.startsWith(I)?l0(C,I):""}let O=`+${P}${R}`;o||(O=S(O)),t==null||t(O,{...j("country"),countryCode:D}),c.current=D,f(O),b({isoCode:D,inputValue:O})};return{inputValue:y.inputValue,isoCode:y.isoCode,onInputChange:M,onCountryChange:g,inputRef:u}}const l5="MuiTelInput-TextField",oi=re.forwardRef((e,t)=>{const{forceCallingCode:n=!1,onlyCountries:a,excludedCountries:i,defaultCountry:s,onDoubleClick:o,onFocus:l,onCopy:c,value:d="",inputProps:u,InputProps:h,inputRef:p,disabled:y,onChange:b,disableDropdown:m,disableFormatting:f=!1,focusOnSelectCountry:j,langOfCountryName:$,continents:S,preferredCountries:T,MenuProps:A,className:M,getFlagElement:g=RS,unknownFlagElement:D=NS,...P}=e,C=n?TS(s):s;eD(e);const{onInputChange:k,onCountryChange:R,inputRef:O,isoCode:E,inputValue:I}=o5({forceCallingCode:n,defaultCountry:C,value:d??"",onChange:b,excludedCountries:i,onlyCountries:a,disableFormatting:f,continents:S}),{openMenu:V,anchorEl:U,anchorRef:_,closeMenu:z}=ZS({disabled:y,disableDropdown:m}),{handleDoubleClick:B,handleCopy:Q,handleFocus:se}=JS({onDoubleClick:o,onCopy:c,onFocus:l,inputRef:O}),X=me=>{z(),R(me),j&&O.current&&O.current.focus()},J=E?`+${So(E)}`:"",ie=n?l0(I,J).trimStart():I;return r.jsxs(r.Fragment,{children:[r.jsx(fe,{type:"tel",disabled:y,value:ie,ref:op([t,_]),onDoubleClick:B,inputRef:op([O,p,h==null?void 0:h.inputRef]),className:`${l5} ${M||""}`,onChange:k,inputProps:{onCopy:Q,...u},onFocus:se,InputProps:{startAdornment:r.jsx($e,{position:"start",sx:{flexShrink:0},children:r.jsx(LS,{isFlagsMenuOpened:!!U,isoCode:E,forceCallingCode:n,onClick:V,disabled:y,getFlagElement:g,unknownFlagElement:D,disableDropdown:!!m})}),...h},...P}),m?null:r.jsx(KS,{onlyCountries:a,excludedCountries:i,continents:S,anchorEl:U,isoCode:E,preferredCountries:T,onClose:z,langOfCountryName:$,onSelectCountry:X,getFlagElement:g,...A})]})}),c5=()=>{const e=Ve(),{control:t,formState:{errors:n}}=tr(),a={"& .MuiOutlinedInput-root":{borderRadius:2,transition:"all 0.2s ease","&:hover":{boxShadow:`0 0 0 1px ${F(e.palette.primary.main,.2)}`},"&.Mui-focused":{boxShadow:`0 0 0 2px ${F(e.palette.primary.main,.2)}`}}},i=s=>{const o=s.split(".");let l=n;for(const c of o)l=l==null?void 0:l[c];return l};return r.jsxs(w,{children:[r.jsxs(w,{mb:5,children:[r.jsxs(v,{variant:"h6",component:"h3",gutterBottom:!0,fontWeight:600,sx:{display:"flex",alignItems:"center",gap:1,color:e.palette.primary.main,mb:3},children:[r.jsx(et,{}),"Personal Information"]}),r.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Enter the individual's basic personal details"}),r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"individualDetails.firstName",control:t,defaultValue:"",rules:{required:"First name is required"},render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"First Name",fullWidth:!0,required:!0,error:!!i("individualDetails.firstName"),helperText:(o=i("individualDetails.firstName"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(et,{color:"action",fontSize:"small"})})},sx:a})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"individualDetails.lastName",control:t,defaultValue:"",rules:{required:"Last name is required"},render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"Last Name",fullWidth:!0,required:!0,error:!!i("individualDetails.lastName"),helperText:(o=i("individualDetails.lastName"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(et,{color:"action",fontSize:"small"})})},sx:a})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"individualDetails.idNumber",control:t,defaultValue:"",rules:{required:"ID number is required"},render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"ID Number",fullWidth:!0,required:!0,error:!!i("individualDetails.idNumber"),helperText:(o=i("individualDetails.idNumber"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(Gi,{color:"action",fontSize:"small"})})},sx:a})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"individualDetails.dateOfBirth",control:t,defaultValue:"",rules:{required:"Date of birth is required"},render:({field:s})=>{var o;return r.jsx(Rr,{label:"Date of Birth",value:s.value?ze(s.value):null,onChange:l=>s.onChange(l==null?void 0:l.format("YYYY-MM-DD")),slotProps:{textField:{fullWidth:!0,required:!0,error:!!i("individualDetails.dateOfBirth"),helperText:(o=i("individualDetails.dateOfBirth"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(Gn,{color:"action",fontSize:"small"})})},sx:a}}})}})})]})]}),r.jsxs(w,{mb:5,children:[r.jsxs(v,{variant:"h6",component:"h3",gutterBottom:!0,fontWeight:600,sx:{display:"flex",alignItems:"center",gap:1,color:e.palette.primary.main,mb:3},children:[r.jsx(as,{}),"Contact Information"]}),r.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Provide contact details and address information"}),r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,children:r.jsx(Re,{name:"individualDetails.address",control:t,defaultValue:"",rules:{required:"Address is required"},render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"Address",fullWidth:!0,required:!0,multiline:!0,rows:3,error:!!i("individualDetails.address"),helperText:(o=i("individualDetails.address"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",sx:{alignSelf:"flex-start",mt:1},children:r.jsx(td,{color:"action",fontSize:"small"})})},sx:a})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"individualDetails.phone",control:t,defaultValue:"",rules:{required:"Phone number is required"},render:({field:s})=>{var o;return r.jsx(oi,{...s,label:"Phone",fullWidth:!0,required:!0,defaultCountry:"AL",error:!!i("individualDetails.phone"),helperText:(o=i("individualDetails.phone"))==null?void 0:o.message,sx:a})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"individualDetails.email",control:t,defaultValue:"",rules:{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}},render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"Email",type:"email",fullWidth:!0,required:!0,error:!!i("individualDetails.email"),helperText:(o=i("individualDetails.email"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(Mr,{color:"action",fontSize:"small"})})},sx:a})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"individualDetails.secondaryPhone",control:t,defaultValue:"",render:({field:s})=>{var o;return r.jsx(oi,{...s,label:"Secondary Phone (Optional)",fullWidth:!0,defaultCountry:"AL",error:!!i("individualDetails.secondaryPhone"),helperText:(o=i("individualDetails.secondaryPhone"))==null?void 0:o.message,sx:a})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"individualDetails.secondaryEmail",control:t,defaultValue:"",render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"Secondary Email (Optional)",type:"email",fullWidth:!0,error:!!i("individualDetails.secondaryEmail"),helperText:(o=i("individualDetails.secondaryEmail"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(Mr,{color:"action",fontSize:"small"})})},sx:a})}})}),r.jsx(N,{item:!0,xs:12,children:r.jsx(Re,{name:"individualDetails.additionalNotes",control:t,defaultValue:"",render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"Additional Notes (Optional)",fullWidth:!0,multiline:!0,rows:3,error:!!i("individualDetails.additionalNotes"),helperText:(o=i("individualDetails.additionalNotes"))==null?void 0:o.message,sx:a})}})})]})]})]})},d5=()=>{const e=Ve(),{control:t,formState:{errors:n}}=tr(),a={"& .MuiOutlinedInput-root":{borderRadius:2,transition:"all 0.2s ease","&:hover":{boxShadow:`0 0 0 1px ${F(e.palette.primary.main,.2)}`},"&.Mui-focused":{boxShadow:`0 0 0 2px ${F(e.palette.primary.main,.2)}`}}},i=s=>{const o=s.split(".");let l=n;for(const c of o)l=l==null?void 0:l[c];return l};return r.jsxs(w,{children:[r.jsxs(w,{mb:5,children:[r.jsxs(v,{variant:"h6",component:"h3",gutterBottom:!0,fontWeight:600,sx:{display:"flex",alignItems:"center",gap:1,color:e.palette.primary.main,mb:3},children:[r.jsx(tn,{}),"Business Information"]}),r.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Enter the business registration and legal details"}),r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,children:r.jsx(Re,{name:"businessDetails.legalName",control:t,defaultValue:"",rules:{required:"Legal name is required"},render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"Legal Name",fullWidth:!0,required:!0,error:!!i("businessDetails.legalName"),helperText:(o=i("businessDetails.legalName"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(tn,{color:"action",fontSize:"small"})})},sx:a})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"businessDetails.nuisNipt",control:t,defaultValue:"",rules:{required:"NUIS/NIPT is required"},render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"NUIS/NIPT",fullWidth:!0,required:!0,error:!!i("businessDetails.nuisNipt"),helperText:(o=i("businessDetails.nuisNipt"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(Gi,{color:"action",fontSize:"small"})})},sx:a})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"businessDetails.mainShareholders",control:t,defaultValue:"",render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"Main Shareholders (Optional)",fullWidth:!0,error:!!i("businessDetails.mainShareholders"),helperText:(o=i("businessDetails.mainShareholders"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(Tg,{color:"action",fontSize:"small"})})},sx:a})}})})]})]}),r.jsxs(w,{mb:5,children:[r.jsxs(v,{variant:"h6",component:"h3",gutterBottom:!0,fontWeight:600,sx:{display:"flex",alignItems:"center",gap:1,color:e.palette.primary.main,mb:3},children:[r.jsx(Jc,{}),"Administrator Information"]}),r.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Details of the business administrator or authorized representative"}),r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"businessDetails.administratorName",control:t,defaultValue:"",rules:{required:"Administrator name is required"},render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"Administrator Name",fullWidth:!0,required:!0,error:!!i("businessDetails.administratorName"),helperText:(o=i("businessDetails.administratorName"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(et,{color:"action",fontSize:"small"})})},sx:a})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"businessDetails.administratorId",control:t,defaultValue:"",rules:{required:"Administrator ID is required"},render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"Administrator ID",fullWidth:!0,required:!0,error:!!i("businessDetails.administratorId"),helperText:(o=i("businessDetails.administratorId"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(Gi,{color:"action",fontSize:"small"})})},sx:a})}})}),r.jsx(N,{item:!0,xs:12,children:r.jsx(Re,{name:"businessDetails.administratorPosition",control:t,defaultValue:"",rules:{required:"Administrator position is required"},render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"Administrator Position",fullWidth:!0,required:!0,error:!!i("businessDetails.administratorPosition"),helperText:(o=i("businessDetails.administratorPosition"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(kg,{color:"action",fontSize:"small"})})},sx:a})}})})]})]}),r.jsxs(w,{mb:5,children:[r.jsxs(v,{variant:"h6",component:"h3",gutterBottom:!0,fontWeight:600,sx:{display:"flex",alignItems:"center",gap:1,color:e.palette.primary.main,mb:3},children:[r.jsx(as,{}),"Contact Information"]}),r.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Business contact details and address information"}),r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,children:r.jsx(Re,{name:"businessDetails.address",control:t,defaultValue:"",rules:{required:"Address is required"},render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"Address",fullWidth:!0,required:!0,multiline:!0,rows:3,error:!!i("businessDetails.address"),helperText:(o=i("businessDetails.address"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",sx:{alignSelf:"flex-start",mt:1},children:r.jsx(td,{color:"action",fontSize:"small"})})},sx:a})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"businessDetails.phone",control:t,defaultValue:"",rules:{required:"Phone number is required"},render:({field:s})=>{var o;return r.jsx(oi,{...s,label:"Phone",fullWidth:!0,required:!0,defaultCountry:"AL",error:!!i("businessDetails.phone"),helperText:(o=i("businessDetails.phone"))==null?void 0:o.message,sx:a})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"businessDetails.email",control:t,defaultValue:"",rules:{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}},render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"Email",type:"email",fullWidth:!0,required:!0,error:!!i("businessDetails.email"),helperText:(o=i("businessDetails.email"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(Mr,{color:"action",fontSize:"small"})})},sx:a})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"businessDetails.secondaryPhone",control:t,defaultValue:"",render:({field:s})=>{var o;return r.jsx(oi,{...s,label:"Secondary Phone (Optional)",fullWidth:!0,defaultCountry:"AL",error:!!i("businessDetails.secondaryPhone"),helperText:(o=i("businessDetails.secondaryPhone"))==null?void 0:o.message,sx:a})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"businessDetails.secondaryEmail",control:t,defaultValue:"",render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"Secondary Email (Optional)",type:"email",fullWidth:!0,error:!!i("businessDetails.secondaryEmail"),helperText:(o=i("businessDetails.secondaryEmail"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(Mr,{color:"action",fontSize:"small"})})},sx:a})}})}),r.jsx(N,{item:!0,xs:12,children:r.jsx(Re,{name:"businessDetails.additionalNotes",control:t,defaultValue:"",render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"Additional Notes (Optional)",fullWidth:!0,multiline:!0,rows:3,error:!!i("businessDetails.additionalNotes"),helperText:(o=i("businessDetails.additionalNotes"))==null?void 0:o.message,sx:a})}})})]})]})]})},u5=()=>{const e=Ve(),{control:t,formState:{errors:n}}=tr(),a={"& .MuiOutlinedInput-root":{borderRadius:2,transition:"all 0.2s ease","&:hover":{boxShadow:`0 0 0 1px ${F(e.palette.primary.main,.2)}`},"&.Mui-focused":{boxShadow:`0 0 0 2px ${F(e.palette.primary.main,.2)}`}}},i=s=>{const o=s.split(".");let l=n;for(const c of o)l=l==null?void 0:l[c];return l};return r.jsxs(w,{children:[r.jsxs(w,{mb:5,children:[r.jsxs(v,{variant:"h6",component:"h3",gutterBottom:!0,fontWeight:600,sx:{display:"flex",alignItems:"center",gap:1,color:e.palette.primary.main,mb:3},children:[r.jsx(et,{}),"Personal Information"]}),r.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Enter the endorser's basic personal details"}),r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"endorserDetails.firstName",control:t,defaultValue:"",rules:{required:"First name is required"},render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"First Name",fullWidth:!0,required:!0,error:!!i("endorserDetails.firstName"),helperText:(o=i("endorserDetails.firstName"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(et,{color:"action",fontSize:"small"})})},sx:a})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"endorserDetails.lastName",control:t,defaultValue:"",rules:{required:"Last name is required"},render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"Last Name",fullWidth:!0,required:!0,error:!!i("endorserDetails.lastName"),helperText:(o=i("endorserDetails.lastName"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(et,{color:"action",fontSize:"small"})})},sx:a})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"endorserDetails.idNumber",control:t,defaultValue:"",rules:{required:"ID number is required"},render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"ID Number",fullWidth:!0,required:!0,error:!!i("endorserDetails.idNumber"),helperText:(o=i("endorserDetails.idNumber"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(Gi,{color:"action",fontSize:"small"})})},sx:a})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"endorserDetails.dateOfBirth",control:t,defaultValue:"",rules:{required:"Date of birth is required"},render:({field:s})=>r.jsx(Rr,{...s,label:"Date of Birth",value:s.value?ze(s.value):null,onChange:o=>{s.onChange(o?o.format("YYYY-MM-DD"):"")},maxDate:ze().subtract(18,"year"),slots:{textField:o=>{var l;return r.jsx(fe,{...o,fullWidth:!0,required:!0,error:!!i("endorserDetails.dateOfBirth"),helperText:(l=i("endorserDetails.dateOfBirth"))==null?void 0:l.message,InputProps:{...o.InputProps,startAdornment:r.jsx($e,{position:"start",children:r.jsx(Gn,{color:"action",fontSize:"small"})})},sx:a})}}})})})]})]}),r.jsxs(w,{mb:5,children:[r.jsxs(v,{variant:"h6",component:"h3",gutterBottom:!0,fontWeight:600,sx:{display:"flex",alignItems:"center",gap:1,color:e.palette.primary.main,mb:3},children:[r.jsx(as,{}),"Contact Information"]}),r.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Provide contact details for the endorser"}),r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,children:r.jsx(Re,{name:"endorserDetails.address",control:t,defaultValue:"",rules:{required:"Address is required"},render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"Address",fullWidth:!0,required:!0,multiline:!0,rows:2,error:!!i("endorserDetails.address"),helperText:(o=i("endorserDetails.address"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",sx:{alignSelf:"flex-start",mt:1},children:r.jsx(td,{color:"action",fontSize:"small"})})},sx:a})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"endorserDetails.phone",control:t,defaultValue:"",rules:{required:"Phone number is required"},render:({field:s})=>{var o;return r.jsx(oi,{...s,label:"Phone",fullWidth:!0,required:!0,defaultCountry:"AL",error:!!i("endorserDetails.primaryPhone"),helperText:(o=i("endorserDetails.primaryPhone"))==null?void 0:o.message,sx:a})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"endorserDetails.email",control:t,defaultValue:"",rules:{required:"Email is required"},render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"Email Address",type:"email",fullWidth:!0,required:!0,error:!!i("endorserDetails.email"),helperText:(o=i("endorserDetails.email"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(Mr,{color:"action",fontSize:"small"})})},sx:a})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"endorserDetails.secondaryPhone",control:t,defaultValue:"",render:({field:s})=>{var o;return r.jsx(oi,{...s,label:"Phone",fullWidth:!0,required:!0,defaultCountry:"AL",error:!!i("endorserDetails.secondaryPhone"),helperText:(o=i("endorserDetails.secondaryPhone"))==null?void 0:o.message,sx:a})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"endorserDetails.secondaryEmail",control:t,defaultValue:"",render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"Secondary Email (Optional)",type:"email",fullWidth:!0,error:!!i("endorserDetails.secondaryEmail"),helperText:(o=i("endorserDetails.secondaryEmail"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(Mr,{color:"action",fontSize:"small"})})},sx:a})}})})]})]}),r.jsxs(w,{mb:5,children:[r.jsxs(v,{variant:"h6",component:"h3",gutterBottom:!0,fontWeight:600,sx:{display:"flex",alignItems:"center",gap:1,color:e.palette.primary.main,mb:3},children:[r.jsx(zr,{}),"Endorser Details"]}),r.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Provide endorser-specific information and guarantees"}),r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"endorserDetails.guaranteedAmount",control:t,defaultValue:0,render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"Maximum Guaranteed Amount",type:"number",fullWidth:!0,value:s.value||"",onChange:l=>{const c=parseFloat(l.target.value)||0;s.onChange(c)},inputProps:{min:0,step:.01},error:!!i("endorserDetails.guaranteedAmount"),helperText:((o=i("endorserDetails.guaranteedAmount"))==null?void 0:o.message)||"Maximum amount this endorser can guarantee",InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(to,{color:"action",fontSize:"small"})})},sx:a})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"endorserDetails.relationshipToCustomer",control:t,defaultValue:"",render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"Relationship to Customer",fullWidth:!0,placeholder:"e.g., Business Partner, Family Member",error:!!i("endorserDetails.relationshipToCustomer"),helperText:(o=i("endorserDetails.relationshipToCustomer"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(et,{color:"action",fontSize:"small"})})},sx:a})}})}),r.jsx(N,{item:!0,xs:12,children:r.jsx(Re,{name:"endorserDetails.active",control:t,defaultValue:!0,render:({field:s})=>r.jsx(nd,{control:r.jsx(Ef,{checked:s.value||!1,onChange:o=>s.onChange(o.target.checked),color:"primary"}),label:"Active Endorser",sx:{mt:1}})})})]})]}),r.jsx(w,{mb:3,children:r.jsxs(Af,{children:[r.jsx(If,{expandIcon:r.jsx(hi,{}),"aria-controls":"optional-info-content",id:"optional-info-header",children:r.jsx(v,{variant:"h6",fontWeight:600,children:"Additional Information (Optional)"})}),r.jsx(Mf,{children:r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,children:r.jsx(Re,{name:"endorserDetails.additionalNotes",control:t,defaultValue:"",render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"Additional Notes",fullWidth:!0,multiline:!0,rows:3,placeholder:"Any additional information about the endorser...",error:!!i("endorserDetails.additionalNotes"),helperText:(o=i("endorserDetails.additionalNotes"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",sx:{alignSelf:"flex-start",mt:1},children:r.jsx(uu,{color:"action",fontSize:"small"})})},sx:a})}})}),r.jsx(N,{item:!0,xs:12,children:r.jsx(Re,{name:"endorserDetails.notes",control:t,defaultValue:"",render:({field:s})=>{var o;return r.jsx(fe,{...s,label:"Internal Notes",fullWidth:!0,multiline:!0,rows:3,placeholder:"Internal notes about this endorser (not visible to customer)...",error:!!i("endorserDetails.notes"),helperText:(o=i("endorserDetails.notes"))==null?void 0:o.message,InputProps:{startAdornment:r.jsx($e,{position:"start",sx:{alignSelf:"flex-start",mt:1},children:r.jsx(uu,{color:"action",fontSize:"small"})})},sx:a})}})})]})})]})})]})},tu=({initialData:e,onSubmit:t,loading:n,activeStep:a,onStepChange:i,isEdit:s=!1})=>{const[o,l]=re.useState(e!=null&&e.individualDetails?we.INDIVIDUAL:e!=null&&e.businessDetails?we.BUSINESS:e!=null&&e.endorserDetails?we.ENDORSER:we.INDIVIDUAL),c=Hd({defaultValues:{customerType:o,individualDetails:o===we.INDIVIDUAL?{type:we.INDIVIDUAL,firstName:"",lastName:"",idNumber:"",dateOfBirth:"",address:"",phone:"",email:"",secondaryPhone:"",secondaryEmail:"",additionalNotes:""}:void 0,businessDetails:o===we.BUSINESS?{type:we.BUSINESS,legalName:"",nuisNipt:"",administratorName:"",administratorId:"",administratorPosition:"",mainShareholders:"",address:"",phone:"",email:"",secondaryPhone:"",secondaryEmail:"",additionalNotes:""}:void 0,endorserDetails:o===we.ENDORSER?{type:we.ENDORSER,firstName:"",lastName:"",idNumber:"",dateOfBirth:"",address:"",phone:"",email:"",secondaryPhone:"",secondaryEmail:"",additionalNotes:"",guaranteedAmount:0,relationshipToCustomer:"",financialInformation:void 0,active:!0,notes:""}:void 0,...e},mode:"onChange",reValidateMode:"onChange"}),{handleSubmit:d,formState:{errors:u,isValid:h},trigger:p,getValues:y,reset:b,setValue:m}=c;re.useEffect(()=>{const P=y();m("customerType",o),o===we.INDIVIDUAL?(m("businessDetails",void 0),m("endorserDetails",void 0),P.individualDetails||m("individualDetails",{type:we.INDIVIDUAL,firstName:"",lastName:"",idNumber:"",dateOfBirth:"",address:"",phone:"",email:"",secondaryPhone:"",secondaryEmail:"",additionalNotes:""})):o===we.BUSINESS?(m("individualDetails",void 0),m("endorserDetails",void 0),P.businessDetails||m("businessDetails",{type:we.BUSINESS,legalName:"",nuisNipt:"",administratorName:"",administratorId:"",administratorPosition:"",mainShareholders:"",address:"",phone:"",email:"",secondaryPhone:"",secondaryEmail:"",additionalNotes:""})):o===we.ENDORSER&&(m("individualDetails",void 0),m("businessDetails",void 0),P.endorserDetails||m("endorserDetails",{type:we.ENDORSER,firstName:"",lastName:"",idNumber:"",dateOfBirth:"",address:"",phone:"",email:"",secondaryPhone:"",secondaryEmail:"",additionalNotes:"",guaranteedAmount:0,relationshipToCustomer:"",financialInformation:void 0,active:!0,notes:""}))},[o,m,y]);const f=x.useCallback(P=>{switch(P){case 0:return Fi.CUSTOMER_TYPE;case 1:return o===we.INDIVIDUAL?Fi.INDIVIDUAL_DETAILS:o===we.BUSINESS?Fi.BUSINESS_DETAILS:Fi.ENDORSER_DETAILS;case 2:return[];default:return[]}},[o]),j=x.useCallback(P=>{switch(P){case 0:return Li.CUSTOMER_TYPE;case 1:return o===we.INDIVIDUAL?Li.INDIVIDUAL_DETAILS:o===we.BUSINESS?Li.BUSINESS_DETAILS:Li.ENDORSER_DETAILS;case 2:return[];default:return[]}},[o]),$=x.useCallback(()=>{const P=f(a),k=j(a).every(O=>{const E=y(O);return E!=null&&E!==""}),R=P.every(O=>{const E=O.split(".");let I=u;for(const V of E)I=I==null?void 0:I[V];return!I});return k&&R},[a,u,f,j,y]),S=x.useCallback(async()=>{const P=f(a);return await p(P)},[a,f,p]),T=x.useCallback(async()=>{await S()&&i(a+1)},[a,i,S]),A=x.useCallback(()=>{i(a-1)},[a,i]),M=x.useCallback(async P=>{try{if(!await p()){console.error("Form validation failed");return}const k={individualDetails:P.individualDetails?{...P.individualDetails,secondaryPhone:P.individualDetails.secondaryPhone||void 0,secondaryEmail:P.individualDetails.secondaryEmail||void 0,additionalNotes:P.individualDetails.additionalNotes||void 0}:void 0,businessDetails:P.businessDetails?{...P.businessDetails,secondaryPhone:P.businessDetails.secondaryPhone||void 0,secondaryEmail:P.businessDetails.secondaryEmail||void 0,additionalNotes:P.businessDetails.additionalNotes||void 0,mainShareholders:P.businessDetails.mainShareholders||void 0}:void 0,endorserDetails:P.endorserDetails?{firstName:P.endorserDetails.firstName,lastName:P.endorserDetails.lastName,idNumber:P.endorserDetails.idNumber,dateOfBirth:P.endorserDetails.dateOfBirth,address:P.endorserDetails.address,phone:P.endorserDetails.phone,email:P.endorserDetails.email,secondaryPhone:P.endorserDetails.secondaryPhone||void 0,secondaryEmail:P.endorserDetails.secondaryEmail||void 0,additionalNotes:P.endorserDetails.additionalNotes||void 0,guaranteedAmount:P.endorserDetails.guaranteedAmount||0,relationshipToCustomer:P.endorserDetails.relationshipToCustomer||void 0,financialInformation:P.endorserDetails.financialInformation||void 0,active:P.endorserDetails.active??!0,notes:P.endorserDetails.notes||void 0}:void 0};await t(k)}catch(C){console.error("Submission failed:",C)}},[t,p]);re.useEffect(()=>{e&&b({customerType:o,individualDetails:o===we.INDIVIDUAL?{type:we.INDIVIDUAL,firstName:"",lastName:"",idNumber:"",dateOfBirth:"",address:"",phone:"",email:"",secondaryPhone:"",secondaryEmail:"",additionalNotes:"",...e.individualDetails}:void 0,businessDetails:o===we.BUSINESS?{type:we.BUSINESS,legalName:"",nuisNipt:"",administratorName:"",administratorId:"",administratorPosition:"",mainShareholders:"",address:"",phone:"",email:"",secondaryPhone:"",secondaryEmail:"",additionalNotes:"",...e.businessDetails}:void 0,endorserDetails:o===we.ENDORSER?{type:we.ENDORSER,firstName:"",lastName:"",idNumber:"",dateOfBirth:"",address:"",phone:"",email:"",secondaryPhone:"",secondaryEmail:"",additionalNotes:"",guaranteedAmount:0,relationshipToCustomer:"",financialInformation:void 0,active:!0,notes:"",...e.endorserDetails}:void 0})},[e,b,o]);const g=x.useCallback(()=>{switch(a){case 0:return r.jsx(yS,{customerType:o,onCustomerTypeChange:l});case 1:return o===we.INDIVIDUAL?r.jsx(c5,{}):o===we.BUSINESS?r.jsx(d5,{}):r.jsx(u5,{});case 2:return r.jsxs(w,{sx:{py:4,textAlign:"center"},children:[r.jsx(v,{variant:"h5",gutterBottom:!0,fontWeight:600,children:"Review & Confirm"}),r.jsx(v,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Please review your information and click save to create the customer"}),r.jsxs(w,{sx:{p:3,bgcolor:P=>P.palette.grey[50],borderRadius:2,border:1,borderColor:"divider",maxWidth:600,mx:"auto",textAlign:"left"},children:[r.jsxs(v,{variant:"subtitle1",fontWeight:600,gutterBottom:!0,children:["Customer Type: ",o===we.INDIVIDUAL?"Individual":o===we.BUSINESS?"Business":"Endorser"]}),o===we.INDIVIDUAL&&y("individualDetails")&&r.jsxs(r.Fragment,{children:[r.jsxs(v,{variant:"body2",sx:{mb:1},children:[r.jsx("strong",{children:"Name:"})," ",y("individualDetails.firstName")," ",y("individualDetails.lastName")]}),r.jsxs(v,{variant:"body2",sx:{mb:1},children:[r.jsx("strong",{children:"Email:"})," ",y("individualDetails.email")]}),r.jsxs(v,{variant:"body2",children:[r.jsx("strong",{children:"Phone:"})," ",y("individualDetails.phone")]})]}),o===we.BUSINESS&&y("businessDetails")&&r.jsxs(r.Fragment,{children:[r.jsxs(v,{variant:"body2",sx:{mb:1},children:[r.jsx("strong",{children:"Business:"})," ",y("businessDetails.legalName")]}),r.jsxs(v,{variant:"body2",sx:{mb:1},children:[r.jsx("strong",{children:"NUIS/NIPT:"})," ",y("businessDetails.nuisNipt")]}),r.jsxs(v,{variant:"body2",sx:{mb:1},children:[r.jsx("strong",{children:"Email:"})," ",y("businessDetails.email")]}),r.jsxs(v,{variant:"body2",children:[r.jsx("strong",{children:"Phone:"})," ",y("businessDetails.phone")]})]}),o===we.ENDORSER&&y("endorserDetails")&&r.jsxs(r.Fragment,{children:[r.jsxs(v,{variant:"body2",sx:{mb:1},children:[r.jsx("strong",{children:"Name:"})," ",y("endorserDetails.firstName")," ",y("endorserDetails.lastName")]}),r.jsxs(v,{variant:"body2",sx:{mb:1},children:[r.jsx("strong",{children:"ID Number:"})," ",y("endorserDetails.idNumber")]}),r.jsxs(v,{variant:"body2",sx:{mb:1},children:[r.jsx("strong",{children:"Email:"})," ",y("endorserDetails.email")]}),r.jsxs(v,{variant:"body2",sx:{mb:1},children:[r.jsx("strong",{children:"Phone:"})," ",y("endorserDetails.phone")]}),y("endorserDetails.guaranteedAmount")&&r.jsxs(v,{variant:"body2",sx:{mb:1},children:[r.jsx("strong",{children:"Max Guarantee:"})," $",y("endorserDetails.guaranteedAmount")]}),y("endorserDetails.relationshipToCustomer")&&r.jsxs(v,{variant:"body2",children:[r.jsx("strong",{children:"Relationship:"})," ",y("endorserDetails.relationshipToCustomer")]})]})]})]});default:return null}},[a,o,y]),D=x.useMemo(()=>f(a).filter(C=>{const k=C.split(".");let R=u;for(const O of k)R=R==null?void 0:R[O];return R}).map(C=>({field:C,message:(()=>{const k=C.split(".");let R=u;for(const O of k)R=R==null?void 0:R[O];return R==null?void 0:R.message})()})),[a,u,f]);return r.jsx(Ur,{dateAdapter:Go,children:r.jsx(Wd,{...c,children:r.jsxs(Ie,{elevation:2,sx:{p:4},children:[r.jsxs(w,{mb:4,children:[r.jsx(v,{variant:"h4",component:"h1",gutterBottom:!0,fontWeight:"bold",children:s?"Edit Customer":"Add New Customer"}),r.jsx(v,{variant:"body1",color:"text.secondary",children:s?"Update customer information":"Enter customer details in the form below"})]}),r.jsx(w,{mb:4,children:r.jsx(rd,{activeStep:a,alternativeLabel:!0,children:ql.map((P,C)=>r.jsx(ad,{children:r.jsx(id,{error:a===C&&D.length>0,children:P.label})},P.label))})}),D.length>0&&r.jsx(bn,{in:!0,children:r.jsxs(_e,{severity:"error",sx:{mb:3},children:[r.jsx(v,{variant:"subtitle2",gutterBottom:!0,children:"Please fix the following errors:"}),r.jsx(w,{component:"ul",sx:{m:0,pl:2},children:D.map(({field:P,message:C})=>r.jsx("li",{children:r.jsx(v,{variant:"body2",children:C})},P))})]})}),r.jsx(w,{mb:4,children:g()}),r.jsx(Ee,{sx:{my:3}}),r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx(ue,{type:"button",variant:"outlined",onClick:A,disabled:a===0,sx:{borderRadius:2,px:3,py:1.5,textTransform:"none",fontWeight:600},children:"Back"}),r.jsxs(w,{sx:{display:"flex",gap:2,alignItems:"center"},children:[r.jsxs(v,{variant:"body2",color:"text.secondary",children:["Step ",a+1," of ",ql.length]}),a<ql.length-1?r.jsx(ue,{type:"button",variant:"contained",onClick:T,disabled:!$(),sx:{borderRadius:2,px:3,py:1.5,textTransform:"none",fontWeight:600,boxShadow:2},children:"Next"}):r.jsx(ue,{type:"button",variant:"contained",color:"primary",disabled:n||!h,onClick:d(P=>M(P)),startIcon:n?r.jsx(fn,{size:20,color:"inherit"}):null,sx:{borderRadius:2,px:3,py:1.5,textTransform:"none",fontWeight:600,boxShadow:2},children:n?"Saving...":s?"Update Customer":"Create Customer"})]})]})]})})})},h5=()=>{const[e,t]=x.useState(!1),[n,a]=x.useState(null),i=yt(),s=Ta(),{showSuccess:o,showError:l}=Fd();return{updateCustomer:async(d,u)=>{t(!0),a(null);try{const h=await wn.update(d,u),p=await wn.getById(d);return s(Gm(p)),o("Customer updated successfully"),i(`/customers/${d}`),h}catch(h){const p=h instanceof Error?h.message:"Failed to update customer";throw a(p),l(p),h}finally{t(!1)}},loading:e,error:n}},p5=["Customer Type","Details","Review"],f5=({customerId:e,onEditComplete:t,onCancel:n,variant:a="card",showHeader:i=!0})=>{const{updateCustomer:s,loading:o}=h5(),[l,c]=x.useState(null),[d,u]=x.useState(!0),[h,p]=x.useState(null),[y,b]=x.useState(0),[m,f]=x.useState(!1),[j,$]=x.useState(!1),S=async()=>{try{u(!0),p(null),console.log("Fetching customer with ID:",e);const k=await wn.getById(e);console.log("Received customer data:",k),console.log("Customer.customer:",k==null?void 0:k.customer),c(k)}catch(k){console.error("Error fetching customer:",k),p(k instanceof Error?k.message:"Failed to fetch customer")}finally{u(!1)}};x.useEffect(()=>{S()},[e]),x.useEffect(()=>{b(0)},[e]);const T=async k=>{try{const R=await s(e,{id:e,individualDetails:k.individualDetails,businessDetails:k.businessDetails});f(!0),$(!1),b(0),await S(),t&&R&&t(R)}catch(R){console.error("Failed to update customer:",R)}},A=()=>{$(!1),b(0),n&&n()},M=()=>{$(!0)};if(d)return r.jsx(w,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:a==="modal"?200:300,p:3},children:r.jsx(fn,{})});if(h)return r.jsxs(w,{sx:{p:3},children:[r.jsx(_e,{severity:"error",sx:{mb:2},children:h}),r.jsx(ue,{variant:"outlined",onClick:S,children:"Retry"})]});if(!l)return r.jsx(w,{sx:{p:3},children:r.jsx(_e,{severity:"warning",children:"Customer not found"})});let g=l.customer||l;if(!g||typeof g!="object")return console.log("Invalid customer data structure:",l),r.jsx(w,{sx:{p:3},children:r.jsxs(_e,{severity:"error",children:["Customer data is invalid. Expected customer object but received: ",typeof l]})});if(!g.type)return console.log("Customer missing type field:",g),r.jsx(w,{sx:{p:3},children:r.jsx(_e,{severity:"error",children:"Customer type is missing from the data"})});const D={};g.type===we.INDIVIDUAL?D.individualDetails={type:we.INDIVIDUAL,firstName:g.firstName||"",lastName:g.lastName||"",idNumber:g.idNumber||"",dateOfBirth:g.dateOfBirth||"",address:g.address||"",phone:g.phone||"",email:g.email||"",secondaryPhone:g.secondaryPhone||"",secondaryEmail:g.secondaryEmail||"",additionalNotes:g.additionalNotes||""}:g.type===we.BUSINESS&&(D.businessDetails={type:we.BUSINESS,legalName:g.legalName||"",nuisNipt:g.nuisNipt||"",administratorName:g.administratorName||"",administratorId:g.administratorId||"",administratorPosition:g.administratorPosition||"",mainShareholders:g.mainShareholders||"",address:g.address||"",phone:g.phone||"",email:g.email||"",secondaryPhone:g.secondaryPhone||"",secondaryEmail:g.secondaryEmail||"",additionalNotes:g.additionalNotes||""});const C=(()=>{const k={sx:{}};switch(a){case"modal":k.sx={maxWidth:800,mx:"auto",p:0};break;case"inline":k.sx={width:"100%"};break;case"card":default:return{component:Ie,elevation:2,sx:{borderRadius:2,overflow:"hidden"}}}return k})();return j?r.jsxs(r.Fragment,{children:[r.jsxs(w,{...C,children:[i&&r.jsxs(w,{sx:{p:3,borderBottom:1,borderColor:"divider",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(w,{children:[r.jsx(v,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:"Edit Customer"}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Update customer information"})]}),r.jsx(ue,{variant:"outlined",startIcon:r.jsx(sd,{}),onClick:A,disabled:o,sx:{borderRadius:2,textTransform:"none",fontWeight:600},children:"Cancel"})]}),r.jsx(w,{sx:{p:a==="modal"?3:0},children:r.jsx(tu,{onSubmit:T,initialData:D,loading:o,activeStep:y,onStepChange:b,steps:p5,isEdit:!0})})]}),r.jsx(pi,{open:m,autoHideDuration:4e3,onClose:()=>f(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:r.jsx(_e,{onClose:()=>f(!1),severity:"success",sx:{width:"100%"},iconMapping:{success:r.jsx(Pg,{fontSize:"inherit"})},children:"Customer updated successfully!"})})]}):r.jsxs(w,{...C,children:[i&&r.jsxs(w,{sx:{p:3,borderBottom:1,borderColor:"divider",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(w,{children:[r.jsx(v,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:"Customer Information"}),r.jsx(v,{variant:"body2",color:"text.secondary",children:g.type===we.INDIVIDUAL?`${g.firstName} ${g.lastName}`:g.legalName})]}),r.jsx(ue,{variant:"outlined",startIcon:r.jsx(Ht,{}),onClick:M,sx:{borderRadius:2,textTransform:"none",fontWeight:600},children:"Edit Customer"})]}),r.jsxs(w,{sx:{p:3},children:[r.jsxs(w,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr"},gap:3},children:[r.jsxs(w,{children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Customer Type"}),r.jsx(v,{variant:"body1",fontWeight:500,children:g.type===we.INDIVIDUAL?"Individual":"Business"})]}),r.jsxs(w,{children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:g.type===we.INDIVIDUAL?"Full Name":"Business Name"}),r.jsx(v,{variant:"body1",fontWeight:500,children:g.type===we.INDIVIDUAL?`${g.firstName} ${g.lastName}`:g.legalName})]}),r.jsxs(w,{children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Email"}),r.jsx(v,{variant:"body1",fontWeight:500,children:g.email})]}),r.jsxs(w,{children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Phone"}),r.jsx(v,{variant:"body1",fontWeight:500,children:g.phone})]}),r.jsxs(w,{sx:{gridColumn:{xs:"1",md:"1 / -1"}},children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Address"}),r.jsx(v,{variant:"body1",fontWeight:500,children:g.address})]}),g.type===we.BUSINESS&&r.jsxs(r.Fragment,{children:[r.jsxs(w,{children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"NUIS/NIPT"}),r.jsx(v,{variant:"body1",fontWeight:500,children:g.nuisNipt})]}),r.jsxs(w,{children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Administrator"}),r.jsx(v,{variant:"body1",fontWeight:500,children:g.administratorName})]})]}),g.type===we.INDIVIDUAL&&r.jsxs(r.Fragment,{children:[r.jsxs(w,{children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"ID Number"}),r.jsx(v,{variant:"body1",fontWeight:500,children:g.idNumber})]}),r.jsxs(w,{children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Date of Birth"}),r.jsx(v,{variant:"body1",fontWeight:500,children:g.dateOfBirth})]})]})]}),!i&&r.jsx(w,{sx:{mt:3,pt:3,borderTop:1,borderColor:"divider"},children:r.jsx(ue,{variant:"contained",startIcon:r.jsx(Ht,{}),onClick:M,sx:{borderRadius:2,textTransform:"none",fontWeight:600},children:"Edit Customer Information"})})]})]})},m5=({customer:e,onDownloadDocument:t,isDownloading:n,onReset:a})=>{const i=yt(),s=()=>{const c=e.type==="endorser"?"endorsers":"customers";i(`/${c}/${e.id}`)},o=()=>{a&&a()},l=e.type==="individual"?`${e.firstName} ${e.lastName}`.trim():e.type==="business"?e.legalName||e.administratorName:e.type==="endorser"?`${e.firstName} ${e.lastName}`.trim():"Unknown Customer";return r.jsx(w,{sx:{maxWidth:600,mx:"auto",py:4},children:r.jsx(Fe,{elevation:0,sx:{border:"2px solid",borderColor:"success.main",borderRadius:3},children:r.jsxs(Le,{sx:{p:4,textAlign:"center"},children:[r.jsxs(w,{sx:{mb:3},children:[r.jsx(lt,{sx:{fontSize:64,color:"success.main",mb:2}}),r.jsx(v,{variant:"h4",fontWeight:"bold",color:"success.main",gutterBottom:!0,children:"Customer Created Successfully!"}),r.jsx(v,{variant:"body1",color:"text.secondary",children:"The customer has been added to your fleet management system"})]}),r.jsx(Ee,{sx:{my:3}}),r.jsxs(w,{sx:{mb:4},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:2,mb:2},children:[e.type==="individual"?r.jsx(et,{sx:{color:"primary.main"}}):e.type==="endorser"?r.jsx(zr,{sx:{color:"info.main"}}):r.jsx(tn,{sx:{color:"secondary.main"}}),r.jsx(v,{variant:"h6",fontWeight:"600",children:l}),r.jsx(de,{label:e.type,size:"small",color:e.type==="individual"?"primary":e.type==="endorser"?"info":"secondary",variant:"outlined"})]}),e.email&&r.jsxs(v,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Email: ",e.email]}),e.phone&&r.jsxs(v,{variant:"body2",color:"text.secondary",children:["Phone: ",e.phone]})]}),r.jsx(Ee,{sx:{my:3}}),r.jsx(v,{variant:"subtitle1",fontWeight:"600",sx:{mb:3},children:"What would you like to do next?"}),r.jsxs(Yi,{spacing:2,children:[r.jsx(ue,{variant:"contained",size:"large",startIcon:n?r.jsx(fn,{size:20,color:"inherit"}):r.jsx(va,{}),onClick:t,disabled:n,sx:{py:1.5,fontSize:"1rem",fontWeight:600},children:n?"Generating Document...":"Download Registration Document"}),r.jsx(ue,{variant:"outlined",size:"large",startIcon:r.jsx(et,{}),endIcon:r.jsx(no,{}),onClick:s,sx:{py:1.5,fontSize:"1rem",fontWeight:600},children:"Go to Customer Page"}),r.jsx(ue,{variant:"text",size:"medium",onClick:o,sx:{mt:2,color:"text.secondary","&:hover":{bgcolor:"action.hover"}},children:"Create Another Customer"})]})]})})})},Ip=[{value:"",label:"All Statuses",icon:null},{value:"draft",label:"Draft",icon:r.jsx(ni,{fontSize:"small"})},{value:"active",label:"Active",icon:r.jsx(lt,{fontSize:"small"})},{value:"pending",label:"Pending",icon:r.jsx(ni,{fontSize:"small"})},{value:"completed",label:"Completed",icon:r.jsx(lt,{fontSize:"small"})},{value:"cancelled",label:"Cancelled",icon:r.jsx(ri,{fontSize:"small"})}],Mp=[{value:"",label:"All Types"},{value:"loan",label:"Loan"},{value:"leasing",label:"Leasing"}],Op=[{value:"",label:"Any Time"},{value:"today",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"},{value:"quarter",label:"This Quarter"},{value:"year",label:"This Year"}],Rp=[{value:"",label:"Any Amount"},{value:"0-10000",label:"Under $10,000"},{value:"10000-50000",label:"$10,000 - $50,000"},{value:"50000-100000",label:"$50,000 - $100,000"},{value:"100000-500000",label:"$100,000 - $500,000"},{value:"500000+",label:"Over $500,000"}],x5=(e,t)=>{const[n,a]=x.useState(!1),i=x.useMemo(()=>Object.values(e).some(d=>d!==void 0&&d!==""&&d!==null),[e]),s=x.useMemo(()=>Object.values(e).filter(d=>d!==void 0&&d!==""&&d!==null).length,[e]),o=x.useCallback((d,u)=>{t({...e,[d]:u})},[e,t]),l=x.useCallback(()=>{t({search:"",status:"",type:"",dateRange:"",amountRange:""}),a(!1)},[t]),c=x.useCallback(()=>{a(d=>!d)},[]);return{advancedOpen:n,hasActiveFilters:i,filterCount:s,handleFilterChange:o,handleClearFilters:l,toggleAdvancedFilters:c}},g5=()=>{const e=x.useCallback(i=>Ip.find(s=>s.value===i),[]),t=x.useCallback(i=>Mp.find(s=>s.value===i),[]),n=x.useCallback(i=>Op.find(s=>s.value===i),[]),a=x.useCallback(i=>Rp.find(s=>s.value===i),[]);return{getStatusOption:e,getTypeOption:t,getDateRangeOption:n,getAmountRangeOption:a,statusOptions:Ip,typeOptions:Mp,dateRangeOptions:Op,amountRangeOptions:Rp}},v5=(e,t,n,a,i)=>{const s=[];if(e.search&&s.push({key:"search",label:`Search: ${e.search}`,icon:r.jsx(en,{fontSize:"small"})}),e.status){const o=t(e.status);s.push({key:"status",label:`Status: ${o==null?void 0:o.label}`,icon:(o==null?void 0:o.icon)||r.jsx(lt,{fontSize:"small"})})}if(e.type){const o=n(e.type);s.push({key:"type",label:`Type: ${o==null?void 0:o.label}`,icon:r.jsx(od,{fontSize:"small"})})}if(e.dateRange){const o=a(e.dateRange);s.push({key:"dateRange",label:`Date: ${o==null?void 0:o.label}`,icon:r.jsx(ti,{fontSize:"small"})})}if(e.amountRange){const o=i(e.amountRange);s.push({key:"amountRange",label:`Amount: ${o==null?void 0:o.label}`,icon:r.jsx(Yt,{fontSize:"small"})})}return s},y5=({filters:e,onFilterChange:t,contractsCount:n=0})=>{const a=Ve(),{advancedOpen:i,hasActiveFilters:s,filterCount:o,handleFilterChange:l,handleClearFilters:c,toggleAdvancedFilters:d}=x5(e,t),{getStatusOption:u,getTypeOption:h,getDateRangeOption:p,getAmountRangeOption:y,statusOptions:b,typeOptions:m,dateRangeOptions:f,amountRangeOptions:j}=g5(),$=v5(e,u,h,p,y);return r.jsx(Ie,{elevation:2,sx:{mb:3,borderRadius:2,overflow:"hidden",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:a.shadows[4]}},children:r.jsxs(w,{sx:{p:2},children:[r.jsxs(N,{container:!0,spacing:2,alignItems:"center",children:[r.jsx(N,{item:!0,xs:12,md:8,children:r.jsx(fe,{id:"contract-search-field",placeholder:"Search contracts by number, type, or customer...",value:e.search,onChange:S=>l("search",S.target.value),fullWidth:!0,variant:"outlined",InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(en,{color:"action"})}),endAdornment:e.search&&r.jsx($e,{position:"end",children:r.jsx(ot,{title:"Clear search",children:r.jsx(Ae,{size:"small",onClick:()=>l("search",""),edge:"end",children:r.jsx(Gt,{fontSize:"small"})})})}),sx:{borderRadius:2,transition:"all 0.2s","&.Mui-focused":{boxShadow:`0 0 0 2px ${F(a.palette.primary.main,.25)}`}}}})}),r.jsx(N,{item:!0,xs:12,md:4,children:r.jsxs(w,{sx:{display:"flex",gap:1,justifyContent:{xs:"flex-start",md:"flex-end"}},children:[r.jsxs(Je,{sx:{minWidth:140},children:[r.jsx(at,{id:"contract-status-label",size:"small",children:"Status"}),r.jsx(it,{labelId:"contract-status-label",value:e.status,onChange:S=>l("status",S.target.value),label:"Status",size:"small",sx:{borderRadius:2,"& .MuiOutlinedInput-notchedOutline":{transition:"all 0.2s"}},children:b.map(S=>r.jsx(ne,{value:S.value,children:r.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[S.icon&&r.jsx(w,{sx:{mr:1,color:a.palette.primary.main},children:S.icon}),S.label]})},S.value))})]}),r.jsx(ot,{title:"More filters",children:r.jsx(Ae,{color:i?"primary":"default",onClick:d,sx:{height:40,width:40,bgcolor:i?F(a.palette.primary.main,.1):"transparent",border:`1px solid ${i?a.palette.primary.main:a.palette.divider}`,borderRadius:2,"&:hover":{bgcolor:i?F(a.palette.primary.main,.15):F(a.palette.action.hover,.8)}},children:r.jsx(Wr,{fontSize:"small"})})})]})})]}),r.jsx($n,{in:i,children:r.jsxs(w,{sx:{mt:2,pt:2,borderTop:`1px solid ${a.palette.divider}`},children:[r.jsx(v,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,color:"text.primary",children:"Additional Filters"}),r.jsxs(N,{container:!0,spacing:2,children:[r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsxs(Je,{fullWidth:!0,size:"small",children:[r.jsx(at,{children:"Contract Type"}),r.jsx(it,{value:e.type,onChange:S=>l("type",S.target.value),label:"Contract Type",children:m.map(S=>r.jsx(ne,{value:S.value,children:S.label},S.value))})]})}),r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsxs(Je,{fullWidth:!0,size:"small",children:[r.jsx(at,{children:"Date Range"}),r.jsx(it,{value:e.dateRange,onChange:S=>l("dateRange",S.target.value),label:"Date Range",children:f.map(S=>r.jsx(ne,{value:S.value,children:S.label},S.value))})]})}),r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsxs(Je,{fullWidth:!0,size:"small",children:[r.jsx(at,{children:"Amount Range"}),r.jsx(it,{value:e.amountRange,onChange:S=>l("amountRange",S.target.value),label:"Amount Range",children:j.map(S=>r.jsx(ne,{value:S.value,children:S.label},S.value))})]})})]})]})}),s&&r.jsxs(w,{sx:{mt:2,display:"flex",flexWrap:"wrap",gap:1,alignItems:"center"},children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Active filters:"}),$.map(S=>r.jsx(de,{label:S.label,size:"small",onDelete:()=>l(S.key,""),sx:{borderRadius:1.5},icon:S.icon},S.key)),r.jsxs(ue,{variant:"text",size:"small",startIcon:r.jsx(Gt,{}),onClick:c,sx:{ml:"auto"},children:["Clear All (",o,")"]})]}),r.jsx(w,{sx:{mt:1},children:r.jsxs(v,{variant:"body2",color:"text.secondary",children:[n," contract",n!==1?"s":""," found"]})})]})})},y0=[{value:"",label:"All Statuses",icon:null},{value:"pending",label:"Pending",icon:r.jsx(ni,{fontSize:"small"})},{value:"paid",label:"Paid",icon:r.jsx(lt,{fontSize:"small"})},{value:"overdue",label:"Overdue",icon:r.jsx(ri,{fontSize:"small"})},{value:"cancelled",label:"Cancelled",icon:r.jsx(ri,{fontSize:"small"})}],b0=[{value:"",label:"All Types"},{value:"monthly",label:"Monthly"},{value:"deposit",label:"Deposit"},{value:"final",label:"Final"},{value:"penalty",label:"Penalty"}],j0=[{value:"",label:"Any Time"},{value:"today",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"},{value:"quarter",label:"This Quarter"},{value:"year",label:"This Year"}],w0=[{value:"",label:"Any Amount"},{value:"0-100",label:"Under $100"},{value:"100-500",label:"$100 - $500"},{value:"500-1000",label:"$500 - $1,000"},{value:"1000-5000",label:"$1,000 - $5,000"},{value:"5000+",label:"Over $5,000"}],b5=e=>Object.values(e).some(t=>t!==void 0&&t!==""&&t!==null),j5=e=>Object.values(e).filter(t=>t!==void 0&&t!==""&&t!==null).length,w5=e=>y0.find(t=>t.value===e),C5=e=>b0.find(t=>t.value===e),$5=e=>j0.find(t=>t.value===e),S5=e=>w0.find(t=>t.value===e),D5=()=>({search:"",status:"",type:"",dateRange:"",amountRange:""}),T5=(e,t)=>{const n=Ve(),[a,i]=x.useState(!1),s=x.useMemo(()=>({advancedOpen:a,hasActiveFilters:b5(e),filterCount:j5(e)}),[a,e]),o=x.useCallback((u,h)=>{t({...e,[u]:h})},[e,t]),l=x.useCallback(()=>{t(D5())},[t]),c=x.useCallback(()=>{i(u=>!u)},[]),d=x.useMemo(()=>({getStatusOption:u=>w5(u),getTypeOption:u=>C5(u),getDateRangeOption:u=>$5(u),getAmountRangeOption:u=>S5(u)}),[]);return{theme:n,filterState:s,handleFilterChange:o,handleClearFilters:l,toggleAdvancedFilters:c,...d}},k5=({filters:e,onFilterChange:t,invoicesCount:n=0})=>{var m,f,j,$,S;const{theme:a,filterState:i,handleFilterChange:s,handleClearFilters:o,toggleAdvancedFilters:l,getStatusOption:c,getTypeOption:d,getDateRangeOption:u,getAmountRangeOption:h}=T5(e,t),{advancedOpen:p,hasActiveFilters:y,filterCount:b}=i;return r.jsx(Ie,{elevation:2,sx:{mb:3,borderRadius:2,overflow:"hidden",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:a.shadows[4]}},children:r.jsxs(w,{sx:{p:2},children:[r.jsxs(N,{container:!0,spacing:2,alignItems:"center",children:[r.jsx(N,{item:!0,xs:12,md:8,children:r.jsx(fe,{id:"invoice-search-field",placeholder:"Search invoices by reference, amount, or notes...",value:e.search,onChange:T=>s("search",T.target.value),fullWidth:!0,variant:"outlined",InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(en,{color:"action"})}),endAdornment:e.search&&r.jsx($e,{position:"end",children:r.jsx(ot,{title:"Clear search",children:r.jsx(Ae,{size:"small",onClick:()=>s("search",""),edge:"end",children:r.jsx(Gt,{fontSize:"small"})})})}),sx:{borderRadius:2,transition:"all 0.2s","&.Mui-focused":{boxShadow:`0 0 0 2px ${F(a.palette.primary.main,.25)}`}}}})}),r.jsx(N,{item:!0,xs:12,md:4,children:r.jsxs(w,{sx:{display:"flex",gap:1,justifyContent:{xs:"flex-start",md:"flex-end"}},children:[r.jsxs(Je,{sx:{minWidth:140},children:[r.jsx(at,{id:"invoice-status-label",size:"small",children:"Status"}),r.jsx(it,{labelId:"invoice-status-label",value:e.status,onChange:T=>s("status",T.target.value),label:"Status",size:"small",sx:{borderRadius:2,"& .MuiOutlinedInput-notchedOutline":{transition:"all 0.2s"}},children:y0.map(T=>r.jsx(ne,{value:T.value,children:r.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[T.icon&&r.jsx(w,{sx:{mr:1,color:a.palette.primary.main},children:T.icon}),T.label]})},T.value))})]}),r.jsx(ot,{title:"More filters",children:r.jsx(Ae,{color:p?"primary":"default",onClick:l,sx:{height:40,width:40,bgcolor:p?F(a.palette.primary.main,.1):"transparent",border:`1px solid ${p?a.palette.primary.main:a.palette.divider}`,borderRadius:2,"&:hover":{bgcolor:p?F(a.palette.primary.main,.15):F(a.palette.action.hover,.8)}},children:r.jsx(Wr,{fontSize:"small"})})})]})})]}),r.jsx($n,{in:p,children:r.jsxs(w,{sx:{mt:2,pt:2,borderTop:`1px solid ${a.palette.divider}`},children:[r.jsx(v,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,color:"text.primary",children:"Additional Filters"}),r.jsxs(N,{container:!0,spacing:2,children:[r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsxs(Je,{fullWidth:!0,size:"small",children:[r.jsx(at,{children:"Invoice Type"}),r.jsx(it,{value:e.type,onChange:T=>s("type",T.target.value),label:"Invoice Type",children:b0.map(T=>r.jsx(ne,{value:T.value,children:T.label},T.value))})]})}),r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsxs(Je,{fullWidth:!0,size:"small",children:[r.jsx(at,{children:"Date Range"}),r.jsx(it,{value:e.dateRange,onChange:T=>s("dateRange",T.target.value),label:"Date Range",children:j0.map(T=>r.jsx(ne,{value:T.value,children:T.label},T.value))})]})}),r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsxs(Je,{fullWidth:!0,size:"small",children:[r.jsx(at,{children:"Amount Range"}),r.jsx(it,{value:e.amountRange,onChange:T=>s("amountRange",T.target.value),label:"Amount Range",children:w0.map(T=>r.jsx(ne,{value:T.value,children:T.label},T.value))})]})})]})]})}),y&&r.jsxs(w,{sx:{mt:2,display:"flex",flexWrap:"wrap",gap:1,alignItems:"center"},children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Active filters:"}),e.search&&r.jsx(de,{label:`Search: ${e.search}`,size:"small",onDelete:()=>s("search",""),sx:{borderRadius:1.5},icon:r.jsx(en,{fontSize:"small"})}),e.status&&r.jsx(de,{label:`Status: ${(m=c(e.status))==null?void 0:m.label}`,size:"small",onDelete:()=>s("status",""),sx:{borderRadius:1.5},icon:((f=c(e.status))==null?void 0:f.icon)||r.jsx(lt,{fontSize:"small"})}),e.type&&r.jsx(de,{label:`Type: ${(j=d(e.type))==null?void 0:j.label}`,size:"small",onDelete:()=>s("type",""),sx:{borderRadius:1.5},icon:r.jsx(od,{fontSize:"small"})}),e.dateRange&&r.jsx(de,{label:`Date: ${($=u(e.dateRange))==null?void 0:$.label}`,size:"small",onDelete:()=>s("dateRange",""),sx:{borderRadius:1.5},icon:r.jsx(ti,{fontSize:"small"})}),e.amountRange&&r.jsx(de,{label:`Amount: ${(S=h(e.amountRange))==null?void 0:S.label}`,size:"small",onDelete:()=>s("amountRange",""),sx:{borderRadius:1.5},icon:r.jsx(Yt,{fontSize:"small"})}),r.jsxs(ue,{variant:"text",size:"small",startIcon:r.jsx(Gt,{}),onClick:o,sx:{ml:"auto"},children:["Clear All (",b,")"]})]}),r.jsx(w,{sx:{mt:1},children:r.jsxs(v,{variant:"body2",color:"text.secondary",children:[n," invoice",n!==1?"s":""," found"]})})]})})},P5=e=>e==null||isNaN(e)?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),Np=e=>{if(!e)return"N/A";try{return ze(e).format("MMM D, YYYY")}catch{return"Invalid Date"}},C0=(e,t)=>t==="paid"?!1:ze(e).isBefore(ze(),"day"),E5=(e,t)=>{let n=[...e].map(a=>({...a,status:C0(a.dueDate,a.status)&&a.status==="pending"?"overdue":a.status}));if(t.search){const a=t.search.toLowerCase();n=n.filter(i=>{var s,o,l;return((s=i.id)==null?void 0:s.toLowerCase().includes(a))||((o=i.transactionReference)==null?void 0:o.toLowerCase().includes(a))||((l=i.notes)==null?void 0:l.toLowerCase().includes(a))})}return t.status&&(n=n.filter(a=>{var i;return((i=a.status)==null?void 0:i.toLowerCase())===t.status.toLowerCase()})),t.type&&(n=n.filter(a=>{var i;return((i=a.type)==null?void 0:i.toLowerCase())===t.type.toLowerCase()})),n},A5=(e,t,n)=>e.slice().sort((a,i)=>{let s=a[t],o=i[t];return(t==="dueDate"||t==="paymentDate"||t==="createdAt")&&(s=s?ze(s).valueOf():0,o=o?ze(o).valueOf():0),s==null&&o==null?0:s==null?n==="asc"?-1:1:o==null?n==="asc"?1:-1:s<o?n==="asc"?-1:1:s>o?n==="asc"?1:-1:0}),I5={pending:{icon:r.jsx(ni,{fontSize:"small"}),color:"warning",label:"Pending"},paid:{icon:r.jsx(lt,{fontSize:"small"}),color:"success",label:"Paid"},overdue:{icon:r.jsx(ri,{fontSize:"small"}),color:"error",label:"Overdue"},cancelled:{icon:r.jsx(ri,{fontSize:"small"}),color:"error",label:"Cancelled"}},M5={monthly:{label:"Monthly",color:"#1976d2"},deposit:{label:"Deposit",color:"#9c27b0"},final:{label:"Final",color:"#388e3c"},penalty:{label:"Penalty",color:"#f44336"}},O5=10,R5=[5,10,25,50],N5=e=>{const{id:t}=Mn(),n=e||t,[a,i]=x.useState([]),[s,o]=x.useState(!0),[l,c]=x.useState(null),d=x.useCallback(async()=>{if(n){o(!0),c(null);try{const u=await wn.getInvoices(n);let h;Array.isArray(u)?h=u:u&&typeof u=="object"&&"invoices"in u&&Array.isArray(u.invoices)?h=u.invoices:u&&typeof u=="object"&&"data"in u&&Array.isArray(u.data)?h=u.data:(console.warn("Unexpected invoices response structure:",u),h=[]),i(h)}catch(u){console.error("Failed to fetch invoices:",u);const h=u instanceof Error?u.message:"Failed to load invoices";c(h),i([])}finally{o(!1)}}},[n]);return x.useEffect(()=>{d()},[d]),{invoices:a,loading:s,error:l,fetchInvoices:d,customerId:n}},F5=(e,t)=>{const[n,a]=x.useState(0),[i,s]=x.useState(O5),[o,l]=x.useState("desc"),[c,d]=x.useState("dueDate"),u=x.useMemo(()=>E5(e,t),[e,t]),h=x.useMemo(()=>A5(u,c,o),[u,o,c]),p=x.useMemo(()=>{const f=n*i;return h.slice(f,f+i)},[h,n,i]),y=x.useCallback(f=>{l(c===f&&o==="asc"?"desc":"asc"),d(f)},[o,c]),b=x.useCallback(f=>{a(f)},[]),m=x.useCallback(f=>{s(f),a(0)},[]);return x.useEffect(()=>{a(0)},[t]),{page:n,rowsPerPage:i,order:o,orderBy:c,filteredInvoices:u,sortedInvoices:h,paginatedInvoices:p,handleRequestSort:y,handlePageChange:b,handleRowsPerPageChange:m}},L5=()=>{const[e,t]=x.useState({showNewInvoiceDialog:!1,deleteDialogOpen:!1,invoiceToDelete:null}),n=x.useCallback(()=>{t(o=>({...o,showNewInvoiceDialog:!0}))},[]),a=x.useCallback(()=>{t(o=>({...o,showNewInvoiceDialog:!1}))},[]),i=x.useCallback(o=>{t(l=>({...l,deleteDialogOpen:!0,invoiceToDelete:o}))},[]),s=x.useCallback(()=>{t(o=>({...o,deleteDialogOpen:!1,invoiceToDelete:null}))},[]);return{...e,openNewInvoiceDialog:n,closeNewInvoiceDialog:a,openDeleteDialog:i,closeDeleteDialog:s}},V5=()=>{const[e,t]=x.useState({anchorEl:null,selectedInvoice:null}),n=x.useCallback((i,s)=>{t({anchorEl:i.currentTarget,selectedInvoice:s})},[]),a=x.useCallback(()=>{t({anchorEl:null,selectedInvoice:null})},[]);return{...e,openMenu:n,closeMenu:a}},z5=()=>{const[e,t]=x.useState({open:!1,message:"",severity:"info"}),n=x.useCallback((i,s="info")=>{t({open:!0,message:i,severity:s})},[]),a=x.useCallback(()=>{t(i=>({...i,open:!1}))},[]);return{notification:e,showNotification:n,hideNotification:a}},_5=()=>({handleDeleteInvoice:x.useCallback(async t=>{try{console.log("Deleting invoice:",t)}catch(n){console.error("Error deleting invoice:",n)}},[])}),W5=e=>{const t=I5[e.toLowerCase()]||{icon:r.jsx(kn,{fontSize:"small"}),color:"default",label:"Unknown"};return r.jsx(de,{icon:t.icon,label:t.label,size:"small",color:t.color,sx:{minWidth:90,fontWeight:500}})},B5=e=>{const t=Ve(),n=M5[e==null?void 0:e.toLowerCase()];return r.jsx(de,{label:(n==null?void 0:n.label)||e,size:"small",variant:"outlined",sx:{borderRadius:1,bgcolor:F((n==null?void 0:n.color)||t.palette.primary.main,.05),borderColor:(n==null?void 0:n.color)||t.palette.primary.main,color:(n==null?void 0:n.color)||t.palette.primary.main,fontWeight:500}})},U5=({customerId:e})=>{const t=Ve(),n=yt(),{invoices:a,loading:i,error:s,fetchInvoices:o}=N5(e),{notification:l,showNotification:c,hideNotification:d}=z5(),{handleDeleteInvoice:u}=_5(),{showNewInvoiceDialog:h,deleteDialogOpen:p,invoiceToDelete:y,openNewInvoiceDialog:b,closeNewInvoiceDialog:m,openDeleteDialog:f,closeDeleteDialog:j}=L5(),{anchorEl:$,selectedInvoice:S,openMenu:T,closeMenu:A}=V5(),[M,g]=x.useState({search:"",status:"",type:"",dateRange:"",amountRange:""}),{page:D,rowsPerPage:P,order:C,orderBy:k,filteredInvoices:R,paginatedInvoices:O,handleRequestSort:E,handlePageChange:I,handleRowsPerPageChange:V}=F5(a||[],M),U=()=>{g({search:"",status:"",type:"",dateRange:"",amountRange:""})},_=B=>{f(B)},z=async B=>{try{console.log(`Marking invoice ${B} as paid`),c("Invoice marked as paid","success"),await o()}catch{c("Failed to mark invoice as paid","error")}};return i&&(!a||a.length===0)?r.jsx(Ie,{elevation:2,sx:{borderRadius:2,overflow:"hidden",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:t.shadows[4]}},children:r.jsxs(w,{sx:{p:3},children:[r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[r.jsx(le,{variant:"text",width:200,height:32}),r.jsx(le,{variant:"rectangular",width:100,height:36,sx:{borderRadius:1}})]}),r.jsx(Ee,{sx:{mb:2}}),r.jsx(w,{sx:{display:"flex",mb:1.5},children:["15%","15%","15%","15%","15%","15%","10%"].map((B,Q)=>r.jsx(le,{variant:"text",width:B,height:24,sx:{mr:2}},Q))}),[...Array(5)].map((B,Q)=>r.jsx(w,{sx:{py:2,display:"flex",alignItems:"center",borderBottom:Q<4?`1px solid ${t.palette.divider}`:"none"},children:["15%","15%","15%","15%","15%","15%","10%"].map((se,X)=>r.jsx(le,{variant:"text",width:se,height:24,sx:{mr:2}},X))},Q)),r.jsx(w,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:r.jsx(le,{variant:"rectangular",width:300,height:36,sx:{borderRadius:1}})})]})}):s&&(!a||!a.length)?r.jsxs(w,{sx:{p:3},children:[r.jsx(_e,{severity:"error",sx:{mb:2},children:s}),r.jsx(ue,{variant:"contained",onClick:o,children:"Retry"})]}):r.jsxs(w,{sx:{p:3},children:[r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[r.jsxs(w,{children:[r.jsx(v,{variant:"h5",fontWeight:600,sx:{mb:.5},children:"Invoices & Payments"}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Manage customer payments and invoicing"})]}),r.jsx(w,{sx:{display:"flex",gap:1.5},children:r.jsx(ue,{variant:"contained",startIcon:r.jsx(Zt,{}),onClick:b,children:"New Payment"})})]}),r.jsx(w,{sx:{mb:3},children:r.jsx(k5,{filters:M,onFilterChange:g,invoicesCount:R.length})}),r.jsxs(Ie,{elevation:2,sx:{borderRadius:2,overflow:"hidden",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:t.shadows[4]}},children:[r.jsx(mr,{children:r.jsxs(xr,{children:[r.jsx(gr,{children:r.jsxs(st,{children:[r.jsx(Z,{children:r.jsx(Ge,{active:k==="amount",direction:k==="amount"?C:"asc",onClick:()=>E("amount"),children:"Amount"})}),r.jsx(Z,{children:r.jsx(Ge,{active:k==="type",direction:k==="type"?C:"asc",onClick:()=>E("type"),children:"Type"})}),r.jsx(Z,{children:r.jsx(Ge,{active:k==="status",direction:k==="status"?C:"asc",onClick:()=>E("status"),children:"Status"})}),r.jsx(Z,{children:r.jsx(Ge,{active:k==="dueDate",direction:k==="dueDate"?C:"asc",onClick:()=>E("dueDate"),children:"Due Date"})}),r.jsx(Z,{children:r.jsx(Ge,{active:k==="paymentDate",direction:k==="paymentDate"?C:"asc",onClick:()=>E("paymentDate"),children:"Payment Date"})}),r.jsx(Z,{children:"Payment Method"}),r.jsx(Z,{align:"right",children:"Actions"})]})}),r.jsxs(vr,{children:[O.map(B=>r.jsxs(st,{hover:!0,onClick:()=>n(`/payments/${B.id}`),sx:{cursor:"pointer",transition:"all 0.2s","&:hover":{backgroundColor:F(t.palette.primary.main,.02)}},children:[r.jsx(Z,{children:r.jsx(v,{variant:"body2",fontWeight:600,color:"primary",children:P5(B.amount)})}),r.jsx(Z,{children:B5(B.type||"N/A")}),r.jsx(Z,{children:W5(B.status||"unknown")}),r.jsx(Z,{children:r.jsx(v,{variant:"body2",color:C0(B.dueDate,B.status)?"error.main":"text.primary",children:Np(B.dueDate)})}),r.jsx(Z,{children:r.jsx(v,{variant:"body2",children:Np(B.paymentDate)})}),r.jsx(Z,{children:r.jsx(v,{variant:"body2",children:B.paymentMethod||"N/A"})}),r.jsx(Z,{align:"right",children:r.jsx(Ae,{size:"small",onClick:Q=>{Q.stopPropagation(),T(Q,B)},children:r.jsx(_r,{fontSize:"small"})})})]},B.id)),O.length===0&&!i&&r.jsx(st,{children:r.jsx(Z,{colSpan:7,align:"center",sx:{py:6},children:r.jsxs(w,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:3},children:[r.jsx(w,{sx:{bgcolor:F(t.palette.primary.main,.05),borderRadius:"50%",p:2,mb:2},children:r.jsx(Sn,{sx:{fontSize:48,color:t.palette.primary.main,opacity:.7}})}),r.jsx(v,{variant:"h6",gutterBottom:!0,children:"No invoices found"}),r.jsx(v,{variant:"body2",color:"textSecondary",align:"center",sx:{maxWidth:500,mb:3},children:R.length!==a.length?"No invoices match your current filter criteria.":"This customer doesn't have any invoices yet."}),R.length!==a.length?r.jsx(ue,{variant:"outlined",onClick:U,children:"Clear Filters"}):r.jsx(ue,{variant:"contained",color:"primary",startIcon:r.jsx(Zt,{}),onClick:b,children:"Add New Payment"})]})})})]})]})}),r.jsx(yr,{component:"div",count:R.length||0,page:Math.min(D,Math.max(0,Math.ceil((R.length||0)/P)-1)),onPageChange:(B,Q)=>{I(Q)},rowsPerPage:P,onRowsPerPageChange:B=>{const Q=parseInt(B.target.value,10);V(Q)},rowsPerPageOptions:R5,labelRowsPerPage:"Rows per page:",labelDisplayedRows:({from:B,to:Q,count:se})=>i?"Loading...":`${B}–${Q} of ${se!==-1?se:`more than ${Q}`}`,disabled:i,sx:{borderTop:`1px solid ${t.palette.divider}`,"& .MuiTablePagination-select":{pr:1},"& .MuiTablePagination-displayedRows":{fontSize:"0.875rem",color:t.palette.text.secondary},"&.Mui-disabled":{opacity:.6}}})]}),r.jsxs(Kn,{anchorEl:$,open:!!$,onClose:A,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[r.jsxs(ne,{onClick:()=>{S&&n(`/payments/${S.id}`),A()},children:[r.jsx(Jn,{fontSize:"small",sx:{mr:1}}),"View Payment Details"]}),r.jsxs(ne,{onClick:()=>{S&&n(`/payments/${S.id}/edit`),A()},children:[r.jsx(Ht,{fontSize:"small",sx:{mr:1}}),"Edit Payment"]}),(S==null?void 0:S.status)==="pending"&&r.jsxs(ne,{onClick:()=>{S&&z(S.id),A()},children:[r.jsx(Zn,{fontSize:"small",sx:{mr:1}}),"Mark as Paid"]}),r.jsx(Ee,{}),r.jsxs(ne,{onClick:()=>{S&&_(S.id),A()},sx:{color:"error.main"},children:[r.jsx(sn,{fontSize:"small",sx:{mr:1}}),"Delete Payment"]})]}),r.jsxs(Lr,{open:h,onClose:m,maxWidth:"md",fullWidth:!0,children:[r.jsx(Ca,{children:"Create New Payment"}),r.jsx(Vr,{children:r.jsx(_e,{severity:"info",sx:{mt:1},children:"Payment creation form will be implemented here."})}),r.jsxs(ui,{children:[r.jsx(ue,{onClick:m,children:"Cancel"}),r.jsx(ue,{variant:"contained",onClick:m,children:"Create Payment"})]})]}),r.jsx(sl,{open:p,onConfirm:()=>u(y),onCancel:j,title:"Delete Payment",message:`Are you sure you want to delete payment #${y}?`}),r.jsx(pi,{open:l.open,autoHideDuration:6e3,onClose:d,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:r.jsx(_e,{onClose:d,severity:l.severity,variant:"filled",sx:{width:"100%"},children:l.message})})]})};var Qe=(e=>(e.AVAILABLE="AVAILABLE",e.LEASED="LEASED",e.MAINTENANCE="MAINTENANCE",e.SOLD="SOLD",e.LIQUID_ASSET="LIQUID_ASSET",e))(Qe||{}),Ba=(e=>(e.EXCELLENT="EXCELLENT",e.GOOD="GOOD",e.FAIR="FAIR",e.POOR="POOR",e.NEEDS_REPAIR="NEEDS_REPAIR",e))(Ba||{}),ca=(e=>(e.GASOLINE="GASOLINE",e.DIESEL="DIESEL",e.ELECTRIC="ELECTRIC",e.HYBRID="HYBRID",e.LPG="LPG",e))(ca||{});const Fp=[{value:"",label:"All Status",icon:null},{value:Qe.AVAILABLE,label:"Available",icon:re.createElement(lt,{fontSize:"small"})},{value:Qe.LEASED,label:"Leased",icon:re.createElement(tn,{fontSize:"small"})},{value:Qe.MAINTENANCE,label:"Maintenance",icon:re.createElement(Lo,{fontSize:"small"})},{value:Qe.SOLD,label:"Sold",icon:re.createElement(Of,{fontSize:"small"})},{value:Qe.LIQUID_ASSET,label:"Liquid Asset",icon:re.createElement(Rf,{fontSize:"small"})}],q5=()=>{const e=new Date().getFullYear(),t=[];for(let n=e;n>=e-50;n--)t.push({value:n.toString(),label:n.toString()});return[{value:"",label:"All Years"},...t]},H5=(e,t)=>{const n=Ve(),[a,i]=x.useState(!1),s=(d,u)=>{t({...e,[d]:u})},o=()=>{t({search:"",status:"",make:"",model:"",year:""}),i(!1)},l=()=>{i(!a)},c=x.useMemo(()=>{const d=Object.values(e).some(h=>h!==""),u=Object.values(e).filter(h=>h!=="").length;return{advancedOpen:a,hasActiveFilters:d,filterCount:u}},[a,e]);return{theme:n,filterState:c,handleFilterChange:s,handleClearFilters:o,toggleAdvancedFilters:l}},Y5=({filters:e,onFilterChange:t,vehiclesCount:n=0})=>{var p,y;const{theme:a,filterState:i,handleFilterChange:s,handleClearFilters:o,toggleAdvancedFilters:l}=H5(e,t),{advancedOpen:c,hasActiveFilters:d,filterCount:u}=i,h=b=>Fp.find(m=>m.value===b);return r.jsx(Ie,{elevation:2,sx:{mb:3,borderRadius:2,overflow:"hidden",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:a.shadows[4]}},children:r.jsxs(w,{sx:{p:2},children:[r.jsxs(N,{container:!0,spacing:2,alignItems:"center",children:[r.jsx(N,{item:!0,xs:12,md:8,children:r.jsx(fe,{id:"vehicle-search-field",placeholder:"Search vehicles by license plate, VIN, make, or model...",value:e.search,onChange:b=>s("search",b.target.value),fullWidth:!0,variant:"outlined",InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(en,{color:"action"})}),endAdornment:e.search&&r.jsx($e,{position:"end",children:r.jsx(ot,{title:"Clear search",children:r.jsx(Ae,{size:"small",onClick:()=>s("search",""),edge:"end",children:r.jsx(Gt,{fontSize:"small"})})})}),sx:{borderRadius:2,transition:"all 0.2s","&.Mui-focused":{boxShadow:`0 0 0 2px ${F(a.palette.primary.main,.25)}`}}}})}),r.jsx(N,{item:!0,xs:12,md:4,children:r.jsxs(w,{sx:{display:"flex",gap:1,justifyContent:{xs:"flex-start",md:"flex-end"}},children:[r.jsxs(Je,{sx:{minWidth:140},children:[r.jsx(at,{id:"vehicle-status-label",size:"small",children:"Status"}),r.jsx(it,{labelId:"vehicle-status-label",value:e.status,onChange:b=>s("status",b.target.value),label:"Status",size:"small",sx:{borderRadius:2,"& .MuiOutlinedInput-notchedOutline":{transition:"all 0.2s"}},children:Fp.map(b=>r.jsx(ne,{value:b.value,children:r.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[b.icon&&r.jsx(w,{sx:{mr:1,color:a.palette.primary.main},children:b.icon}),b.label]})},b.value))})]}),r.jsx(ot,{title:"More filters",children:r.jsx(Ae,{color:c?"primary":"default",onClick:l,sx:{height:40,width:40,bgcolor:c?F(a.palette.primary.main,.1):"transparent",border:`1px solid ${c?a.palette.primary.main:a.palette.divider}`,borderRadius:2,"&:hover":{bgcolor:c?F(a.palette.primary.main,.15):F(a.palette.action.hover,.8)}},children:r.jsx(Wr,{fontSize:"small"})})})]})})]}),r.jsx($n,{in:c,children:r.jsxs(w,{sx:{mt:2,pt:2,borderTop:`1px solid ${a.palette.divider}`},children:[r.jsx(v,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,color:"text.primary",children:"Additional Filters"}),r.jsxs(N,{container:!0,spacing:2,children:[r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsx(fe,{label:"Make",value:e.make,onChange:b=>s("make",b.target.value),placeholder:"e.g. Toyota, BMW",fullWidth:!0,size:"small",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsx(fe,{label:"Model",value:e.model,onChange:b=>s("model",b.target.value),placeholder:"e.g. Corolla, X5",fullWidth:!0,size:"small",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsxs(Je,{fullWidth:!0,size:"small",children:[r.jsx(at,{children:"Year"}),r.jsx(it,{value:e.year,onChange:b=>s("year",b.target.value),label:"Year",sx:{borderRadius:2},children:q5().map(b=>r.jsx(ne,{value:b.value,children:b.label},b.value))})]})})]})]})}),d&&r.jsxs(w,{sx:{mt:2,display:"flex",flexWrap:"wrap",gap:1,alignItems:"center"},children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Active filters:"}),e.search&&r.jsx(de,{label:`Search: ${e.search}`,size:"small",onDelete:()=>s("search",""),sx:{borderRadius:1.5},icon:r.jsx(en,{fontSize:"small"})}),e.status&&r.jsx(de,{label:`Status: ${(p=h(e.status))==null?void 0:p.label}`,size:"small",onDelete:()=>s("status",""),sx:{borderRadius:1.5},icon:((y=h(e.status))==null?void 0:y.icon)||r.jsx(lt,{fontSize:"small"})}),e.make&&r.jsx(de,{label:`Make: ${e.make}`,size:"small",onDelete:()=>s("make",""),sx:{borderRadius:1.5},icon:r.jsx(od,{fontSize:"small"})}),e.model&&r.jsx(de,{label:`Model: ${e.model}`,size:"small",onDelete:()=>s("model",""),sx:{borderRadius:1.5},icon:r.jsx(pt,{fontSize:"small"})}),e.year&&r.jsx(de,{label:`Year: ${e.year}`,size:"small",onDelete:()=>s("year",""),sx:{borderRadius:1.5},icon:r.jsx(Gn,{fontSize:"small"})}),r.jsxs(ue,{variant:"text",size:"small",startIcon:r.jsx(Gt,{}),onClick:o,sx:{ml:"auto"},children:["Clear All (",u,")"]})]}),r.jsx(w,{sx:{mt:1},children:r.jsxs(v,{variant:"body2",color:"text.secondary",children:[n," vehicle",n!==1?"s":""," found"]})})]})})},ja={getVehicles:async e=>{var n;const t=new URLSearchParams;e.status&&t.append("status",e.status),e.legalOwner&&t.append("legalOwner",e.legalOwner),e.make&&t.append("make",e.make),e.model&&t.append("model",e.model),e.year&&t.append("year",e.year.toString()),e.isLiquidAsset!==void 0&&t.append("isLiquidAsset",e.isLiquidAsset.toString()),e.search&&t.append("search",e.search),e.limit&&t.append("limit",e.limit.toString()),e.offset!==void 0&&t.append("offset",e.offset.toString()),console.log("Vehicle API Request URL:",`/vehicles?${t.toString()}`),console.log("Vehicle Filters being sent:",e);try{const a=await We.get(`/vehicles?${t.toString()}`);console.log("Vehicle API Response:",a);const i=a.data;let s,o;return i&&typeof i=="object"&&"data"in i&&"meta"in i?(s=i.data||[],o=((n=i.meta)==null?void 0:n.total)||0,console.log("Using paginated response structure - Total from meta:",o)):i&&typeof i=="object"&&"vehicles"in i?(s=i.vehicles||[],o=i.total||s.length,console.log("Using legacy response structure - Total:",o)):Array.isArray(i)?(s=i,o=s.length,console.log("Using array response structure - Total from array length:",o)):(console.warn("Unexpected response structure:",i),s=[],o=0),console.log("Processed vehicles count:",s.length),console.log("Total count from API:",o),{vehicles:s,total:o}}catch(a){throw console.error("Vehicle API request failed:",a),a}},getVehicleById:async e=>(await We.get(`/vehicles/${e}`)).data,getVehicleByLicensePlate:async e=>(await We.get(`/vehicles/plate/${e}`)).data,getVehicleByVin:async e=>(await We.get(`/vehicles/vin/${e}`)).data,getVehiclesByClientId:async e=>(await We.get(`/vehicles/client/${e}`)).data,createVehicle:async e=>(await We.post("/vehicles",e)).data,updateVehicle:async(e,t)=>(await We.put(`/vehicles/${e}`,t)).data,deleteVehicle:async e=>{await We.delete(`/vehicles/${e}`)},updateVehicleStatus:async(e,t)=>(await We.put(`/vehicles/${e}/status`,{status:t})).data,updateVehicleValuation:async(e,t,n="currentValuation")=>(await We.post(`/vehicles/${e}/valuation`,{valuation:t,valuationType:n})).data,assignCustomer:async(e,t)=>(await We.put(`/vehicles/${e}/assign-customer`,{customerId:t})).data,unassignCustomer:async e=>(await We.put(`/vehicles/${e}/unassign-customer`)).data,getAvailableVehicles:async()=>(await We.get("/vehicles/status/available")).data,getLeasedVehicles:async()=>(await We.get("/vehicles/status/leased")).data,getLiquidAssets:async()=>(await We.get("/vehicles/liquid-assets")).data,getVehiclesNeedingMaintenance:async()=>(await We.get("/vehicles/maintenance/needed")).data,getVehiclesWithExpiringInsurance:async e=>{const t=e?{daysThreshold:e}:{};return(await We.get("/vehicles/insurance/expiring",{params:t})).data},getVehiclesWithExpiringRegistration:async e=>{const t=e?{daysThreshold:e}:{};return(await We.get("/vehicles/registration/expiring",{params:t})).data},getVehicleStatistics:async()=>(await We.get("/vehicles/reports/statistics")).data},G5=e=>e==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),Q5=(e,t)=>e.filter(n=>{var a,i,s,o,l,c,d;if(t.search){const u=t.search.toLowerCase();if(!(((a=n.licensePlate)==null?void 0:a.toLowerCase().includes(u))||((i=n.vin)==null?void 0:i.toLowerCase().includes(u))||((s=n.make)==null?void 0:s.toLowerCase().includes(u))||((o=n.model)==null?void 0:o.toLowerCase().includes(u))||`${n.make} ${n.model}`.toLowerCase().includes(u)))return!1}return!(t.status&&t.status!==n.status||t.make&&((l=n.make)==null?void 0:l.toLowerCase())!==t.make.toLowerCase()||t.model&&!((c=n.model)!=null&&c.toLowerCase().includes(t.model.toLowerCase()))||t.year&&((d=n.year)==null?void 0:d.toString())!==t.year)}),K5=(e,t,n)=>[...e].sort((a,i)=>{let s,o;switch(n){case"licensePlate":s=a.licensePlate||"",o=i.licensePlate||"";break;case"make":s=a.make||"",o=i.make||"";break;case"model":s=a.model||"",o=i.model||"";break;case"year":s=a.year||0,o=i.year||0;break;case"status":s=a.status||"",o=i.status||"";break;case"currentValuation":s=a.currentValuation||0,o=i.currentValuation||0;break;case"createdAt":s=new Date(a.createdAt||0).getTime(),o=new Date(i.createdAt||0).getTime();break;default:s="",o=""}return typeof s=="string"&&typeof o=="string"?t==="asc"?s.localeCompare(o):o.localeCompare(s):typeof s=="number"&&typeof o=="number"?t==="asc"?s-o:o-s:0}),Z5={[Qe.AVAILABLE]:{icon:re.createElement(lt),color:"success",label:"Available"},[Qe.LEASED]:{icon:re.createElement(tn),color:"primary",label:"Leased"},[Qe.MAINTENANCE]:{icon:re.createElement(Lo),color:"warning",label:"Maintenance"},[Qe.SOLD]:{icon:re.createElement(Of),color:"default",label:"Sold"},[Qe.LIQUID_ASSET]:{icon:re.createElement(Rf),color:"secondary",label:"Liquid Asset"}},X5=10,J5=[5,10,25,50],e6=e=>{const{id:t}=Mn(),n=e||t,[a,i]=x.useState([]),[s,o]=x.useState(!0),[l,c]=x.useState(null),d=x.useCallback(async()=>{if(n){o(!0),c(null);try{const u=await ja.getVehiclesByClientId(n);i(u)}catch(u){console.error("Failed to fetch vehicles:",u);const h=u instanceof Error?u.message:"Failed to load vehicles";c(h)}finally{o(!1)}}},[n]);return x.useEffect(()=>{d()},[d]),{vehicles:a,loading:s,error:l,fetchVehicles:d,customerId:n}},t6=(e,t)=>{const[n,a]=x.useState(0),[i,s]=x.useState(X5),[o,l]=x.useState("desc"),[c,d]=x.useState("createdAt"),u=x.useMemo(()=>Q5(e,t),[e,t]),h=x.useMemo(()=>K5(u,o,c),[u,o,c]),p=x.useMemo(()=>{const f=n*i;return h.slice(f,f+i)},[h,n,i]),y=x.useCallback(f=>{l(c===f&&o==="asc"?"desc":"asc"),d(f)},[o,c]),b=x.useCallback(f=>{a(f)},[]),m=x.useCallback(f=>{s(f),a(0)},[]);return x.useEffect(()=>{a(0)},[t]),{page:n,rowsPerPage:i,order:o,orderBy:c,filteredVehicles:u,sortedVehicles:h,paginatedVehicles:p,handleRequestSort:y,handlePageChange:b,handleRowsPerPageChange:m}},n6=()=>{const[e,t]=x.useState({deleteDialogOpen:!1,vehicleToDelete:null}),n=x.useCallback(i=>{t(s=>({...s,deleteDialogOpen:!0,vehicleToDelete:i}))},[]),a=x.useCallback(()=>{t(i=>({...i,deleteDialogOpen:!1,vehicleToDelete:null}))},[]);return{...e,openDeleteDialog:n,closeDeleteDialog:a}},r6=()=>{const[e,t]=x.useState({anchorEl:null,selectedVehicle:null}),n=x.useCallback((i,s)=>{t({anchorEl:i.currentTarget,selectedVehicle:s})},[]),a=x.useCallback(()=>{t({anchorEl:null,selectedVehicle:null})},[]);return{...e,openMenu:n,closeMenu:a}},a6=()=>{const[e,t]=x.useState({open:!1,message:"",severity:"info"}),n=x.useCallback((i,s="info")=>{t({open:!0,message:i,severity:s})},[]),a=x.useCallback(()=>{t(i=>({...i,open:!1}))},[]);return{notification:e,showNotification:n,hideNotification:a}},i6=()=>({handleDeleteVehicle:x.useCallback(async t=>{throw console.log(`Vehicle ${t} removal would be handled through contract management`),new Error("Vehicle removal should be handled through contract management")},[])}),s6=e=>{const t=Z5[e];return t?r.jsx(de,{icon:t.icon,label:t.label,size:"small",variant:"outlined",color:t.color}):r.jsx(de,{label:e,size:"small",variant:"outlined",color:"default"})},o6=({customerId:e})=>{const t=Ve(),n=yt(),{vehicles:a,loading:i,error:s,fetchVehicles:o}=e6(e),{notification:l,showNotification:c,hideNotification:d}=a6(),{handleDeleteVehicle:u}=i6(),{deleteDialogOpen:h,vehicleToDelete:p,openDeleteDialog:y,closeDeleteDialog:b}=n6(),{anchorEl:m,selectedVehicle:f,openMenu:j,closeMenu:$}=r6(),[S,T]=x.useState({search:"",status:"",make:"",model:"",year:""}),{page:A,rowsPerPage:M,order:g,orderBy:D,filteredVehicles:P,paginatedVehicles:C,handleRequestSort:k,handlePageChange:R,handleRowsPerPageChange:O}=t6(a,S),E=()=>{T({search:"",status:"",make:"",model:"",year:""})},I=U=>{y(U)},V=async()=>{if(p){try{await u(p),c("Vehicle removed successfully","success"),await o()}catch{c("Vehicles are managed through contracts","warning")}b()}};return i&&a.length===0?r.jsx(Ie,{elevation:2,sx:{borderRadius:2,overflow:"hidden",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:t.shadows[4]}},children:r.jsxs(w,{sx:{p:3},children:[r.jsx(w,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:r.jsx(le,{variant:"text",width:200,height:32})}),r.jsx(Ee,{sx:{mb:2}}),r.jsx(w,{sx:{display:"flex",mb:1.5},children:["15%","20%","15%","15%","15%","15%","5%"].map((U,_)=>r.jsx(le,{variant:"text",width:U,height:24,sx:{mr:2}},_))}),[...Array(5)].map((U,_)=>r.jsx(w,{sx:{py:2,display:"flex",alignItems:"center",borderBottom:_<4?`1px solid ${t.palette.divider}`:"none"},children:["15%","20%","15%","15%","15%","15%","5%"].map((z,B)=>r.jsx(le,{variant:"text",width:z,height:24,sx:{mr:2}},B))},_)),r.jsx(w,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:r.jsx(le,{variant:"rectangular",width:300,height:36,sx:{borderRadius:1}})})]})}):s&&!a.length?r.jsxs(w,{sx:{p:3},children:[r.jsx(_e,{severity:"error",sx:{mb:2},children:s}),r.jsx(ue,{variant:"contained",onClick:o,children:"Retry"})]}):r.jsxs(w,{sx:{p:3},children:[r.jsx(w,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:r.jsxs(w,{children:[r.jsx(v,{variant:"h5",fontWeight:600,sx:{mb:.5},children:"Customer Vehicles"}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"View vehicles assigned to this customer through contracts"})]})}),r.jsx(w,{sx:{mb:3},children:r.jsx(Y5,{filters:S,onFilterChange:T,vehiclesCount:P.length})}),r.jsxs(Ie,{elevation:2,sx:{borderRadius:2,overflow:"hidden",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:t.shadows[4]}},children:[r.jsx(mr,{children:r.jsxs(xr,{children:[r.jsx(gr,{children:r.jsxs(st,{children:[r.jsx(Z,{children:r.jsx(Ge,{active:D==="licensePlate",direction:D==="licensePlate"?g:"asc",onClick:()=>k("licensePlate"),children:"License Plate"})}),r.jsx(Z,{children:r.jsx(Ge,{active:D==="make",direction:D==="make"?g:"asc",onClick:()=>k("make"),children:"Vehicle"})}),r.jsx(Z,{children:r.jsx(Ge,{active:D==="year",direction:D==="year"?g:"asc",onClick:()=>k("year"),children:"Year"})}),r.jsx(Z,{children:r.jsx(Ge,{active:D==="status",direction:D==="status"?g:"asc",onClick:()=>k("status"),children:"Status"})}),r.jsx(Z,{children:r.jsx(Ge,{active:D==="currentValuation",direction:D==="currentValuation"?g:"asc",onClick:()=>k("currentValuation"),children:"Valuation"})}),r.jsx(Z,{children:"VIN"}),r.jsx(Z,{align:"right",children:"Actions"})]})}),r.jsxs(vr,{children:[C.map(U=>r.jsxs(st,{hover:!0,sx:{transition:"all 0.2s","&:hover":{backgroundColor:F(t.palette.primary.main,.02)}},children:[r.jsx(Z,{children:r.jsx(v,{variant:"body2",fontWeight:600,color:"primary",children:U.licensePlate})}),r.jsx(Z,{children:r.jsxs(w,{children:[r.jsxs(v,{variant:"body2",fontWeight:500,children:[U.make," ",U.model]}),U.color&&r.jsx(v,{variant:"caption",color:"text.secondary",children:U.color})]})}),r.jsx(Z,{children:r.jsx(v,{variant:"body2",children:U.year})}),r.jsx(Z,{children:s6(U.status)}),r.jsx(Z,{children:r.jsx(v,{variant:"body2",fontWeight:500,children:G5(U.currentValuation)})}),r.jsx(Z,{children:r.jsx(v,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.75rem"},children:U.vin})}),r.jsx(Z,{align:"right",children:r.jsx(Ae,{size:"small",onClick:_=>j(_,U),children:r.jsx(_r,{fontSize:"small"})})})]},U.id)),C.length===0&&!i&&r.jsx(st,{children:r.jsx(Z,{colSpan:7,align:"center",sx:{py:6},children:r.jsxs(w,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:3},children:[r.jsx(w,{sx:{bgcolor:F(t.palette.primary.main,.05),borderRadius:"50%",p:2,mb:2},children:r.jsx(pt,{sx:{fontSize:48,color:t.palette.primary.main,opacity:.7}})}),r.jsx(v,{variant:"h6",gutterBottom:!0,children:"No vehicles found"}),r.jsx(v,{variant:"body2",color:"textSecondary",align:"center",sx:{maxWidth:500,mb:3},children:P.length!==a.length?"No vehicles match your current filter criteria.":"This customer doesn't have any vehicles assigned yet. Vehicles are assigned through contracts."}),P.length!==a.length&&r.jsx(ue,{variant:"outlined",onClick:E,children:"Clear Filters"})]})})})]})]})}),r.jsx(yr,{component:"div",count:P.length||0,page:Math.min(A,Math.max(0,Math.ceil((P.length||0)/M)-1)),onPageChange:(U,_)=>{R(_)},rowsPerPage:M,onRowsPerPageChange:U=>{const _=parseInt(U.target.value,10);O(_)},rowsPerPageOptions:J5,labelRowsPerPage:"Rows per page:",labelDisplayedRows:({from:U,to:_,count:z})=>i?"Loading...":`${U}–${_} of ${z!==-1?z:`more than ${_}`}`,disabled:i,sx:{borderTop:`1px solid ${t.palette.divider}`,"& .MuiTablePagination-select":{pr:1},"& .MuiTablePagination-displayedRows":{fontSize:"0.875rem",color:t.palette.text.secondary},"&.Mui-disabled":{opacity:.6}}})]}),r.jsxs(Kn,{anchorEl:m,open:!!m,onClose:$,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[r.jsxs(ne,{onClick:()=>{f&&n(`/vehicles/${f.id}`),$()},children:[r.jsx(Jn,{fontSize:"small",sx:{mr:1}}),"View Details"]}),r.jsxs(ne,{onClick:()=>{f&&n(`/vehicles/${f.id}/edit`),$()},children:[r.jsx(Ht,{fontSize:"small",sx:{mr:1}}),"Edit Vehicle"]}),r.jsx(Ee,{}),r.jsxs(ne,{onClick:()=>{f&&I(f.id),$()},sx:{color:"warning.main"},disabled:!0,children:[r.jsx(sn,{fontSize:"small",sx:{mr:1}}),"Remove Assignment"]})]}),r.jsx(sl,{open:h,onConfirm:V,onCancel:b,title:"Remove Vehicle Assignment",message:"Vehicle assignments are managed through contracts. Please modify the relevant contract to change vehicle assignments."}),r.jsx(pi,{open:l.open,autoHideDuration:6e3,onClose:d,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:r.jsx(_e,{onClose:d,severity:l.severity,variant:"filled",sx:{width:"100%"},children:l.message})})]})};function tt(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ye(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function be(e){ye(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Vo(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Js(e,t){ye(2,arguments);var n=be(e),a=tt(t);return isNaN(a)?new Date(NaN):(a&&n.setDate(n.getDate()+a),n)}function fl(e,t){ye(2,arguments);var n=be(e).getTime(),a=tt(t);return new Date(n+a)}function l6(e,t){ye(2,arguments);var n=tt(t);return fl(e,n*1e3)}var c6=6e4;function d6(e,t){ye(2,arguments);var n=tt(t);return fl(e,n*c6)}var u6=36e5;function h6(e,t){ye(2,arguments);var n=tt(t);return fl(e,n*u6)}function p6(e,t){ye(2,arguments);var n=tt(t),a=n*7;return Js(e,a)}function eo(e,t){ye(2,arguments);var n=be(e),a=tt(t);if(isNaN(a))return new Date(NaN);if(!a)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+a+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function Lp(e,t){ye(2,arguments);var n=tt(t);return eo(e,n*12)}function f6(e,t){ye(2,arguments);var n=be(e),a=be(t);return n.getFullYear()-a.getFullYear()}function Hi(e,t){ye(2,arguments);var n=be(e),a=be(t),i=n.getTime()-a.getTime();return i<0?-1:i>0?1:i}function m6(e,t){ye(2,arguments);var n=be(e),a=be(t),i=Hi(n,a),s=Math.abs(f6(n,a));n.setFullYear(1584),a.setFullYear(1584);var o=Hi(n,a)===-i,l=i*(s-Number(o));return l===0?0:l}function x6(e,t){ye(2,arguments);var n=be(e),a=be(t),i=n.getFullYear()-a.getFullYear(),s=n.getMonth()-a.getMonth();return i*12+s}function _c(e){ye(1,arguments);var t=be(e);return t.setHours(23,59,59,999),t}function Wc(e){ye(1,arguments);var t=be(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function g6(e){ye(1,arguments);var t=be(e);return _c(t).getTime()===Wc(t).getTime()}function $0(e,t){ye(2,arguments);var n=be(e),a=be(t),i=Hi(n,a),s=Math.abs(x6(n,a)),o;if(s<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);var l=Hi(n,a)===-i;g6(be(e))&&s===1&&Hi(e,a)===1&&(l=!1),o=i*(s-Number(l))}return o===0?0:o}var Vp={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},v6="trunc";function ps(e){return e?Vp[e]:Vp[v6]}function y6(e,t,n){ye(2,arguments);var a=$0(e,t)/3;return ps(n==null?void 0:n.roundingMethod)(a)}function ko(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function li(e){ye(1,arguments);var t=be(e);return t.setHours(0,0,0,0),t}var b6=864e5;function j6(e,t){ye(2,arguments);var n=li(e),a=li(t),i=n.getTime()-ko(n),s=a.getTime()-ko(a);return Math.round((i-s)/b6)}function zp(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function S0(e,t){ye(2,arguments);var n=be(e),a=be(t),i=zp(n,a),s=Math.abs(j6(n,a));n.setDate(n.getDate()-i*s);var o=+(zp(n,a)===-i),l=i*(s-o);return l===0?0:l}function w6(e,t,n){ye(2,arguments);var a=S0(e,t)/7;return ps(n==null?void 0:n.roundingMethod)(a)}var ml=6e4,xl=36e5,C6=1e3;function gl(e,t){return ye(2,arguments),be(e).getTime()-be(t).getTime()}function $6(e,t,n){ye(2,arguments);var a=gl(e,t)/xl;return ps(n==null?void 0:n.roundingMethod)(a)}function S6(e,t,n){ye(2,arguments);var a=gl(e,t)/ml;return ps(n==null?void 0:n.roundingMethod)(a)}function D6(e,t,n){ye(2,arguments);var a=gl(e,t)/1e3;return ps(n==null?void 0:n.roundingMethod)(a)}function T6(e,t){var n;ye(1,arguments);var a=e||{},i=be(a.start),s=be(a.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var l=[],c=i;c.setHours(0,0,0,0);var d=Number((n=t==null?void 0:t.step)!==null&&n!==void 0?n:1);if(d<1||isNaN(d))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=o;)l.push(be(c)),c.setDate(c.getDate()+d),c.setHours(0,0,0,0);return l}var k6={};function nr(){return k6}function Xl(e,t){var n,a,i,s,o,l,c,d;ye(1,arguments);var u=nr(),h=tt((n=(a=(i=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&a!==void 0?a:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=be(e),y=p.getDay(),b=(y<h?-7:0)+6-(y-h);return p.setDate(p.getDate()+b),p.setHours(23,59,59,999),p}function Jl(e){ye(1,arguments);var t=be(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function P6(e){return ye(1,arguments),e instanceof Date||Vo(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function D0(e){if(ye(1,arguments),!P6(e)&&typeof e!="number")return!1;var t=be(e);return!isNaN(Number(t))}function T0(e,t){ye(2,arguments);var n=tt(t);return fl(e,-n)}var E6=864e5;function A6(e){ye(1,arguments);var t=be(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var a=t.getTime(),i=n-a;return Math.floor(i/E6)+1}function ci(e){ye(1,arguments);var t=1,n=be(e),a=n.getUTCDay(),i=(a<t?7:0)+a-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function k0(e){ye(1,arguments);var t=be(e),n=t.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(n+1,0,4),a.setUTCHours(0,0,0,0);var i=ci(a),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=ci(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function I6(e){ye(1,arguments);var t=k0(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var a=ci(n);return a}var M6=6048e5;function P0(e){ye(1,arguments);var t=be(e),n=ci(t).getTime()-I6(t).getTime();return Math.round(n/M6)+1}function wa(e,t){var n,a,i,s,o,l,c,d;ye(1,arguments);var u=nr(),h=tt((n=(a=(i=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&a!==void 0?a:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=be(e),y=p.getUTCDay(),b=(y<h?7:0)+y-h;return p.setUTCDate(p.getUTCDate()-b),p.setUTCHours(0,0,0,0),p}function nu(e,t){var n,a,i,s,o,l,c,d;ye(1,arguments);var u=be(e),h=u.getUTCFullYear(),p=nr(),y=tt((n=(a=(i=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&a!==void 0?a:(c=p.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(h+1,0,y),b.setUTCHours(0,0,0,0);var m=wa(b,t),f=new Date(0);f.setUTCFullYear(h,0,y),f.setUTCHours(0,0,0,0);var j=wa(f,t);return u.getTime()>=m.getTime()?h+1:u.getTime()>=j.getTime()?h:h-1}function O6(e,t){var n,a,i,s,o,l,c,d;ye(1,arguments);var u=nr(),h=tt((n=(a=(i=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&a!==void 0?a:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=nu(e,t),y=new Date(0);y.setUTCFullYear(p,0,h),y.setUTCHours(0,0,0,0);var b=wa(y,t);return b}var R6=6048e5;function E0(e,t){ye(1,arguments);var n=be(e),a=wa(n,t).getTime()-O6(n,t).getTime();return Math.round(a/R6)+1}function Ye(e,t){for(var n=e<0?"-":"",a=Math.abs(e).toString();a.length<t;)a="0"+a;return n+a}var N6={y:function(t,n){var a=t.getUTCFullYear(),i=a>0?a:1-a;return Ye(n==="yy"?i%100:i,n.length)},M:function(t,n){var a=t.getUTCMonth();return n==="M"?String(a+1):Ye(a+1,2)},d:function(t,n){return Ye(t.getUTCDate(),n.length)},a:function(t,n){var a=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h:function(t,n){return Ye(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Ye(t.getUTCHours(),n.length)},m:function(t,n){return Ye(t.getUTCMinutes(),n.length)},s:function(t,n){return Ye(t.getUTCSeconds(),n.length)},S:function(t,n){var a=n.length,i=t.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,a-3));return Ye(s,n.length)}};const $r=N6;var Va={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},F6={G:function(t,n,a){var i=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return a.era(i,{width:"abbreviated"});case"GGGGG":return a.era(i,{width:"narrow"});case"GGGG":default:return a.era(i,{width:"wide"})}},y:function(t,n,a){if(n==="yo"){var i=t.getUTCFullYear(),s=i>0?i:1-i;return a.ordinalNumber(s,{unit:"year"})}return $r.y(t,n)},Y:function(t,n,a,i){var s=nu(t,i),o=s>0?s:1-s;if(n==="YY"){var l=o%100;return Ye(l,2)}return n==="Yo"?a.ordinalNumber(o,{unit:"year"}):Ye(o,n.length)},R:function(t,n){var a=k0(t);return Ye(a,n.length)},u:function(t,n){var a=t.getUTCFullYear();return Ye(a,n.length)},Q:function(t,n,a){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Ye(i,2);case"Qo":return a.ordinalNumber(i,{unit:"quarter"});case"QQQ":return a.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,a){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Ye(i,2);case"qo":return a.ordinalNumber(i,{unit:"quarter"});case"qqq":return a.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,a){var i=t.getUTCMonth();switch(n){case"M":case"MM":return $r.M(t,n);case"Mo":return a.ordinalNumber(i+1,{unit:"month"});case"MMM":return a.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,a){var i=t.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Ye(i+1,2);case"Lo":return a.ordinalNumber(i+1,{unit:"month"});case"LLL":return a.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,a,i){var s=E0(t,i);return n==="wo"?a.ordinalNumber(s,{unit:"week"}):Ye(s,n.length)},I:function(t,n,a){var i=P0(t);return n==="Io"?a.ordinalNumber(i,{unit:"week"}):Ye(i,n.length)},d:function(t,n,a){return n==="do"?a.ordinalNumber(t.getUTCDate(),{unit:"date"}):$r.d(t,n)},D:function(t,n,a){var i=A6(t);return n==="Do"?a.ordinalNumber(i,{unit:"dayOfYear"}):Ye(i,n.length)},E:function(t,n,a){var i=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return a.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(i,{width:"short",context:"formatting"});case"EEEE":default:return a.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,a,i){var s=t.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Ye(o,2);case"eo":return a.ordinalNumber(o,{unit:"day"});case"eee":return a.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(s,{width:"short",context:"formatting"});case"eeee":default:return a.day(s,{width:"wide",context:"formatting"})}},c:function(t,n,a,i){var s=t.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Ye(o,n.length);case"co":return a.ordinalNumber(o,{unit:"day"});case"ccc":return a.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(s,{width:"narrow",context:"standalone"});case"cccccc":return a.day(s,{width:"short",context:"standalone"});case"cccc":default:return a.day(s,{width:"wide",context:"standalone"})}},i:function(t,n,a){var i=t.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return Ye(s,n.length);case"io":return a.ordinalNumber(s,{unit:"day"});case"iii":return a.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(i,{width:"short",context:"formatting"});case"iiii":default:return a.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,a){var i=t.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,n,a){var i=t.getUTCHours(),s;switch(i===12?s=Va.noon:i===0?s=Va.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,n,a){var i=t.getUTCHours(),s;switch(i>=17?s=Va.evening:i>=12?s=Va.afternoon:i>=4?s=Va.morning:s=Va.night,n){case"B":case"BB":case"BBB":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,n,a){if(n==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),a.ordinalNumber(i,{unit:"hour"})}return $r.h(t,n)},H:function(t,n,a){return n==="Ho"?a.ordinalNumber(t.getUTCHours(),{unit:"hour"}):$r.H(t,n)},K:function(t,n,a){var i=t.getUTCHours()%12;return n==="Ko"?a.ordinalNumber(i,{unit:"hour"}):Ye(i,n.length)},k:function(t,n,a){var i=t.getUTCHours();return i===0&&(i=24),n==="ko"?a.ordinalNumber(i,{unit:"hour"}):Ye(i,n.length)},m:function(t,n,a){return n==="mo"?a.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):$r.m(t,n)},s:function(t,n,a){return n==="so"?a.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):$r.s(t,n)},S:function(t,n){return $r.S(t,n)},X:function(t,n,a,i){var s=i._originalDate||t,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return Wp(o);case"XXXX":case"XX":return oa(o);case"XXXXX":case"XXX":default:return oa(o,":")}},x:function(t,n,a,i){var s=i._originalDate||t,o=s.getTimezoneOffset();switch(n){case"x":return Wp(o);case"xxxx":case"xx":return oa(o);case"xxxxx":case"xxx":default:return oa(o,":")}},O:function(t,n,a,i){var s=i._originalDate||t,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+_p(o,":");case"OOOO":default:return"GMT"+oa(o,":")}},z:function(t,n,a,i){var s=i._originalDate||t,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+_p(o,":");case"zzzz":default:return"GMT"+oa(o,":")}},t:function(t,n,a,i){var s=i._originalDate||t,o=Math.floor(s.getTime()/1e3);return Ye(o,n.length)},T:function(t,n,a,i){var s=i._originalDate||t,o=s.getTime();return Ye(o,n.length)}};function _p(e,t){var n=e>0?"-":"+",a=Math.abs(e),i=Math.floor(a/60),s=a%60;if(s===0)return n+String(i);var o=t||"";return n+String(i)+o+Ye(s,2)}function Wp(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Ye(Math.abs(e)/60,2)}return oa(e,t)}function oa(e,t){var n=t||"",a=e>0?"-":"+",i=Math.abs(e),s=Ye(Math.floor(i/60),2),o=Ye(i%60,2);return a+s+n+o}const L6=F6;var Bp=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},A0=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},V6=function(t,n){var a=t.match(/(P+)(p+)?/)||[],i=a[1],s=a[2];if(!s)return Bp(t,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",Bp(i,n)).replace("{{time}}",A0(s,n))},z6={p:A0,P:V6};const Bc=z6;var _6=["D","DD"],W6=["YY","YYYY"];function I0(e){return _6.indexOf(e)!==-1}function M0(e){return W6.indexOf(e)!==-1}function Po(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var B6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},U6=function(t,n,a){var i,s=B6[t];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+i:i+" ago":i};const q6=U6;function ec(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,a=e.formats[n]||e.formats[e.defaultWidth];return a}}var H6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Y6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},G6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Q6={date:ec({formats:H6,defaultWidth:"full"}),time:ec({formats:Y6,defaultWidth:"full"}),dateTime:ec({formats:G6,defaultWidth:"full"})};const K6=Q6;var Z6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},X6=function(t,n,a,i){return Z6[t]};const J6=X6;function Ii(e){return function(t,n){var a=n!=null&&n.context?String(n.context):"standalone",i;if(a==="formatting"&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=e.formattingValues[o]||e.formattingValues[s]}else{var l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[c]||e.values[l]}var d=e.argumentCallback?e.argumentCallback(t):t;return i[d]}}var eT={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tT={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nT={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rT={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},iT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sT=function(t,n){var a=Number(t),i=a%100;if(i>20||i<10)switch(i%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},oT={ordinalNumber:sT,era:Ii({values:eT,defaultWidth:"wide"}),quarter:Ii({values:tT,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Ii({values:nT,defaultWidth:"wide"}),day:Ii({values:rT,defaultWidth:"wide"}),dayPeriod:Ii({values:aT,defaultWidth:"wide",formattingValues:iT,defaultFormattingWidth:"wide"})};const lT=oT;function Mi(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.width,i=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;var o=s[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?dT(l,function(h){return h.test(o)}):cT(l,function(h){return h.test(o)}),d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;var u=t.slice(o.length);return{value:d,rest:u}}}function cT(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function dT(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function uT(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.match(e.matchPattern);if(!a)return null;var i=a[0],s=t.match(e.parsePattern);if(!s)return null;var o=e.valueCallback?e.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var l=t.slice(i.length);return{value:o,rest:l}}}var hT=/^(\d+)(th|st|nd|rd)?/i,pT=/\d+/i,fT={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mT={any:[/^b/i,/^(a|c)/i]},xT={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gT={any:[/1/i,/2/i,/3/i,/4/i]},vT={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yT={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bT={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jT={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wT={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CT={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$T={ordinalNumber:uT({matchPattern:hT,parsePattern:pT,valueCallback:function(t){return parseInt(t,10)}}),era:Mi({matchPatterns:fT,defaultMatchWidth:"wide",parsePatterns:mT,defaultParseWidth:"any"}),quarter:Mi({matchPatterns:xT,defaultMatchWidth:"wide",parsePatterns:gT,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Mi({matchPatterns:vT,defaultMatchWidth:"wide",parsePatterns:yT,defaultParseWidth:"any"}),day:Mi({matchPatterns:bT,defaultMatchWidth:"wide",parsePatterns:jT,defaultParseWidth:"any"}),dayPeriod:Mi({matchPatterns:wT,defaultMatchWidth:"any",parsePatterns:CT,defaultParseWidth:"any"})};const ST=$T;var DT={code:"en-US",formatDistance:q6,formatLong:K6,formatRelative:J6,localize:lT,match:ST,options:{weekStartsOn:0,firstWeekContainsDate:1}};const ru=DT;var TT=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kT=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PT=/^'([^]*?)'?$/,ET=/''/g,AT=/[a-zA-Z]/;function rn(e,t,n){var a,i,s,o,l,c,d,u,h,p,y,b,m,f,j,$,S,T;ye(2,arguments);var A=String(t),M=nr(),g=(a=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:M.locale)!==null&&a!==void 0?a:ru,D=tt((s=(o=(l=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(d=n.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&l!==void 0?l:M.firstWeekContainsDate)!==null&&o!==void 0?o:(h=M.locale)===null||h===void 0||(p=h.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=tt((y=(b=(m=(f=n==null?void 0:n.weekStartsOn)!==null&&f!==void 0?f:n==null||(j=n.locale)===null||j===void 0||($=j.options)===null||$===void 0?void 0:$.weekStartsOn)!==null&&m!==void 0?m:M.weekStartsOn)!==null&&b!==void 0?b:(S=M.locale)===null||S===void 0||(T=S.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&y!==void 0?y:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!g.localize)throw new RangeError("locale must contain localize property");if(!g.formatLong)throw new RangeError("locale must contain formatLong property");var C=be(e);if(!D0(C))throw new RangeError("Invalid time value");var k=ko(C),R=T0(C,k),O={firstWeekContainsDate:D,weekStartsOn:P,locale:g,_originalDate:C},E=A.match(kT).map(function(I){var V=I[0];if(V==="p"||V==="P"){var U=Bc[V];return U(I,g.formatLong)}return I}).join("").match(TT).map(function(I){if(I==="''")return"'";var V=I[0];if(V==="'")return IT(I);var U=L6[V];if(U)return!(n!=null&&n.useAdditionalWeekYearTokens)&&M0(I)&&Po(I,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&I0(I)&&Po(I,t,String(e)),U(R,I,g.localize,O);if(V.match(AT))throw new RangeError("Format string contains an unescaped latin alphabet character `"+V+"`");return I}).join("");return E}function IT(e){var t=e.match(PT);return t?t[1].replace(ET,"'"):e}function MT(e){ye(1,arguments);var t=be(e),n=t.getDate();return n}function O0(e){ye(1,arguments);var t=be(e),n=t.getFullYear(),a=t.getMonth(),i=new Date(0);return i.setFullYear(n,a+1,0),i.setHours(0,0,0,0),i.getDate()}function OT(e){ye(1,arguments);var t=be(e),n=t.getHours();return n}function RT(e){ye(1,arguments);var t=be(e),n=t.getMinutes();return n}function NT(e){ye(1,arguments);var t=be(e),n=t.getMonth();return n}function FT(e){ye(1,arguments);var t=be(e),n=t.getSeconds();return n}function LT(e){ye(1,arguments);var t=be(e),n=t.getMilliseconds();return n}function xa(e,t){var n,a,i,s,o,l,c,d;ye(1,arguments);var u=nr(),h=tt((n=(a=(i=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&a!==void 0?a:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=be(e),y=p.getDay(),b=(y<h?7:0)+y-h;return p.setDate(p.getDate()-b),p.setHours(0,0,0,0),p}function VT(e,t){var n,a,i,s,o,l,c,d;ye(1,arguments);var u=be(e),h=u.getFullYear(),p=nr(),y=tt((n=(a=(i=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&a!==void 0?a:(c=p.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setFullYear(h+1,0,y),b.setHours(0,0,0,0);var m=xa(b,t),f=new Date(0);f.setFullYear(h,0,y),f.setHours(0,0,0,0);var j=xa(f,t);return u.getTime()>=m.getTime()?h+1:u.getTime()>=j.getTime()?h:h-1}function zT(e,t){var n,a,i,s,o,l,c,d;ye(1,arguments);var u=nr(),h=tt((n=(a=(i=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&a!==void 0?a:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=VT(e,t),y=new Date(0);y.setFullYear(p,0,h),y.setHours(0,0,0,0);var b=xa(y,t);return b}var _T=6048e5;function WT(e,t){ye(1,arguments);var n=be(e),a=xa(n,t).getTime()-zT(n,t).getTime();return Math.round(a/_T)+1}function BT(e){return ye(1,arguments),be(e).getFullYear()}function tc(e,t){ye(2,arguments);var n=be(e),a=be(t);return n.getTime()>a.getTime()}function Oi(e,t){ye(2,arguments);var n=be(e),a=be(t);return n.getTime()<a.getTime()}function UT(e,t){ye(2,arguments);var n=be(e),a=be(t);return n.getTime()===a.getTime()}function qT(e,t){ye(2,arguments);var n=li(e),a=li(t);return n.getTime()===a.getTime()}function HT(e,t){ye(2,arguments);var n=be(e),a=be(t);return n.getFullYear()===a.getFullYear()}function YT(e,t){ye(2,arguments);var n=be(e),a=be(t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function Up(e){ye(1,arguments);var t=be(e);return t.setMinutes(0,0,0),t}function GT(e,t){ye(2,arguments);var n=Up(e),a=Up(t);return n.getTime()===a.getTime()}function qp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function QT(e,t){if(e){if(typeof e=="string")return qp(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qp(e,t):void 0}}function Hp(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=QT(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return o=d.done,d},e:function(d){l=!0,s=d},f:function(){try{o||n.return==null||n.return()}finally{if(l)throw s}}}}function KT(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function nt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eg(e,t)}function Eo(e){return Eo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Eo(e)}function R0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R0=function(){return!!e})()}function ZT(e,t){if(t&&(Vo(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return De(e)}function rt(e){var t=R0();return function(){var n,a=Eo(e);if(t){var i=Eo(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return ZT(this,n)}}function Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yp(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Ag(a.key),a)}}function Ze(e,t,n){return t&&Yp(e.prototype,t),n&&Yp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var XT=10,N0=function(){function e(){Ke(this,e),Se(this,"priority",void 0),Se(this,"subPriority",0)}return Ze(e,[{key:"validate",value:function(n,a){return!0}}]),e}(),JT=function(e){nt(n,e);var t=rt(n);function n(a,i,s,o,l){var c;return Ke(this,n),c=t.call(this),c.value=a,c.validateValue=i,c.setValue=s,c.priority=o,l&&(c.subPriority=l),c}return Ze(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(N0),ek=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",XT),Se(De(a),"subPriority",-1),a}return Ze(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(N0),ct=function(){function e(){Ke(this,e),Se(this,"incompatibleTokens",void 0),Se(this,"priority",void 0),Se(this,"subPriority",void 0)}return Ze(e,[{key:"run",value:function(n,a,i,s){var o=this.parse(n,a,i,s);return o?{setter:new JT(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,a,i){return!0}}]),e}(),tk=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",140),Se(De(a),"incompatibleTokens",["R","u","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(ct),Rt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Un={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Nt(e,t){return e&&{value:t(e.value),rest:e.rest}}function wt(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function qn(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var a=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:a*(i*xl+s*ml+o*C6),rest:t.slice(n[0].length)}}function F0(e){return wt(Rt.anyDigitsSigned,e)}function Pt(e,t){switch(e){case 1:return wt(Rt.singleDigit,t);case 2:return wt(Rt.twoDigits,t);case 3:return wt(Rt.threeDigits,t);case 4:return wt(Rt.fourDigits,t);default:return wt(new RegExp("^\\d{1,"+e+"}"),t)}}function Ao(e,t){switch(e){case 1:return wt(Rt.singleDigitSigned,t);case 2:return wt(Rt.twoDigitsSigned,t);case 3:return wt(Rt.threeDigitsSigned,t);case 4:return wt(Rt.fourDigitsSigned,t);default:return wt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function au(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function L0(e,t){var n=t>0,a=n?t:1-t,i;if(a<=50)i=e||100;else{var s=a+50,o=Math.floor(s/100)*100,l=e>=s%100;i=e+o-(l?100:0)}return n?i:1-i}function V0(e){return e%400===0||e%4===0&&e%100!==0}var nk=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",130),Se(De(a),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o){var l=function(d){return{year:d,isTwoDigitYear:s==="yy"}};switch(s){case"y":return Nt(Pt(4,i),l);case"yo":return Nt(o.ordinalNumber(i,{unit:"year"}),l);default:return Nt(Pt(s.length,i),l)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var l=i.getUTCFullYear();if(o.isTwoDigitYear){var c=L0(o.year,l);return i.setUTCFullYear(c,0,1),i.setUTCHours(0,0,0,0),i}var d=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(d,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(ct),rk=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",130),Se(De(a),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o){var l=function(d){return{year:d,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return Nt(Pt(4,i),l);case"Yo":return Nt(o.ordinalNumber(i,{unit:"year"}),l);default:return Nt(Pt(s.length,i),l)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,l){var c=nu(i,l);if(o.isTwoDigitYear){var d=L0(o.year,c);return i.setUTCFullYear(d,0,l.firstWeekContainsDate),i.setUTCHours(0,0,0,0),wa(i,l)}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,l.firstWeekContainsDate),i.setUTCHours(0,0,0,0),wa(i,l)}}]),n}(ct),ak=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",130),Se(De(a),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s){return Ao(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var l=new Date(0);return l.setUTCFullYear(o,0,4),l.setUTCHours(0,0,0,0),ci(l)}}]),n}(ct),ik=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",130),Se(De(a),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s){return Ao(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(ct),sk=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",120),Se(De(a),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return Pt(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(ct),ok=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",120),Se(De(a),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return Pt(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(ct),lk=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Se(De(a),"priority",110),a}return Ze(n,[{key:"parse",value:function(i,s,o){var l=function(d){return d-1};switch(s){case"M":return Nt(wt(Rt.month,i),l);case"MM":return Nt(Pt(2,i),l);case"Mo":return Nt(o.ordinalNumber(i,{unit:"month"}),l);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(ct),ck=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",110),Se(De(a),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o){var l=function(d){return d-1};switch(s){case"L":return Nt(wt(Rt.month,i),l);case"LL":return Nt(Pt(2,i),l);case"Lo":return Nt(o.ordinalNumber(i,{unit:"month"}),l);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(ct);function dk(e,t,n){ye(2,arguments);var a=be(e),i=tt(t),s=E0(a,n)-i;return a.setUTCDate(a.getUTCDate()-s*7),a}var uk=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",100),Se(De(a),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return wt(Rt.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return Pt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,l){return wa(dk(i,o,l),l)}}]),n}(ct);function hk(e,t){ye(2,arguments);var n=be(e),a=tt(t),i=P0(n)-a;return n.setUTCDate(n.getUTCDate()-i*7),n}var pk=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",100),Se(De(a),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return wt(Rt.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return Pt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return ci(hk(i,o))}}]),n}(ct),fk=[31,28,31,30,31,30,31,31,30,31,30,31],mk=[31,29,31,30,31,30,31,31,30,31,30,31],xk=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",90),Se(De(a),"subPriority",1),Se(De(a),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return wt(Rt.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return Pt(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),l=V0(o),c=i.getUTCMonth();return l?s>=1&&s<=mk[c]:s>=1&&s<=fk[c]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(ct),gk=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",90),Se(De(a),"subpriority",1),Se(De(a),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return wt(Rt.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return Pt(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),l=V0(o);return l?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(ct);function iu(e,t,n){var a,i,s,o,l,c,d,u;ye(2,arguments);var h=nr(),p=tt((a=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(l=n.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&i!==void 0?i:(d=h.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&a!==void 0?a:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=be(e),b=tt(t),m=y.getUTCDay(),f=b%7,j=(f+7)%7,$=(j<p?7:0)+b-m;return y.setUTCDate(y.getUTCDate()+$),y}var vk=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",90),Se(De(a),"incompatibleTokens",["D","i","e","c","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,l){return i=iu(i,o,l),i.setUTCHours(0,0,0,0),i}}]),n}(ct),yk=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",90),Se(De(a),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o,l){var c=function(u){var h=Math.floor((u-1)/7)*7;return(u+l.weekStartsOn+6)%7+h};switch(s){case"e":case"ee":return Nt(Pt(s.length,i),c);case"eo":return Nt(o.ordinalNumber(i,{unit:"day"}),c);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,l){return i=iu(i,o,l),i.setUTCHours(0,0,0,0),i}}]),n}(ct),bk=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",90),Se(De(a),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o,l){var c=function(u){var h=Math.floor((u-1)/7)*7;return(u+l.weekStartsOn+6)%7+h};switch(s){case"c":case"cc":return Nt(Pt(s.length,i),c);case"co":return Nt(o.ordinalNumber(i,{unit:"day"}),c);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,l){return i=iu(i,o,l),i.setUTCHours(0,0,0,0),i}}]),n}(ct);function jk(e,t){ye(2,arguments);var n=tt(t);n%7===0&&(n=n-7);var a=1,i=be(e),s=i.getUTCDay(),o=n%7,l=(o+7)%7,c=(l<a?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+c),i}var wk=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",90),Se(De(a),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o){var l=function(d){return d===0?7:d};switch(s){case"i":case"ii":return Pt(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return Nt(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),l);case"iiiii":return Nt(o.day(i,{width:"narrow",context:"formatting"}),l);case"iiiiii":return Nt(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),l);case"iiii":default:return Nt(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),l)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=jk(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(ct),Ck=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",80),Se(De(a),"incompatibleTokens",["b","B","H","k","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(au(o),0,0,0),i}}]),n}(ct),$k=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",80),Se(De(a),"incompatibleTokens",["a","B","H","k","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(au(o),0,0,0),i}}]),n}(ct),Sk=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",80),Se(De(a),"incompatibleTokens",["a","b","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(au(o),0,0,0),i}}]),n}(ct),Dk=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",70),Se(De(a),"incompatibleTokens",["H","K","k","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return wt(Rt.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return Pt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var l=i.getUTCHours()>=12;return l&&o<12?i.setUTCHours(o+12,0,0,0):!l&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(ct),Tk=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",70),Se(De(a),"incompatibleTokens",["a","b","h","K","k","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return wt(Rt.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return Pt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(ct),kk=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",70),Se(De(a),"incompatibleTokens",["h","H","k","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return wt(Rt.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return Pt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var l=i.getUTCHours()>=12;return l&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(ct),Pk=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",70),Se(De(a),"incompatibleTokens",["a","b","h","H","K","t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return wt(Rt.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return Pt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var l=o<=24?o%24:o;return i.setUTCHours(l,0,0,0),i}}]),n}(ct),Ek=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",60),Se(De(a),"incompatibleTokens",["t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return wt(Rt.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return Pt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(ct),Ak=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",50),Se(De(a),"incompatibleTokens",["t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return wt(Rt.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return Pt(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(ct),Ik=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",30),Se(De(a),"incompatibleTokens",["t","T"]),a}return Ze(n,[{key:"parse",value:function(i,s){var o=function(c){return Math.floor(c*Math.pow(10,-s.length+3))};return Nt(Pt(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(ct),Mk=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",10),Se(De(a),"incompatibleTokens",["t","T","x"]),a}return Ze(n,[{key:"parse",value:function(i,s){switch(s){case"X":return qn(Un.basicOptionalMinutes,i);case"XX":return qn(Un.basic,i);case"XXXX":return qn(Un.basicOptionalSeconds,i);case"XXXXX":return qn(Un.extendedOptionalSeconds,i);case"XXX":default:return qn(Un.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(ct),Ok=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",10),Se(De(a),"incompatibleTokens",["t","T","X"]),a}return Ze(n,[{key:"parse",value:function(i,s){switch(s){case"x":return qn(Un.basicOptionalMinutes,i);case"xx":return qn(Un.basic,i);case"xxxx":return qn(Un.basicOptionalSeconds,i);case"xxxxx":return qn(Un.extendedOptionalSeconds,i);case"xxx":default:return qn(Un.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(ct),Rk=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",40),Se(De(a),"incompatibleTokens","*"),a}return Ze(n,[{key:"parse",value:function(i){return F0(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(ct),Nk=function(e){nt(n,e);var t=rt(n);function n(){var a;Ke(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),Se(De(a),"priority",20),Se(De(a),"incompatibleTokens","*"),a}return Ze(n,[{key:"parse",value:function(i){return F0(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(ct),Fk={G:new tk,y:new nk,Y:new rk,R:new ak,u:new ik,Q:new sk,q:new ok,M:new lk,L:new ck,w:new uk,I:new pk,d:new xk,D:new gk,E:new vk,e:new yk,c:new bk,i:new wk,a:new Ck,b:new $k,B:new Sk,h:new Dk,H:new Tk,K:new kk,k:new Pk,m:new Ek,s:new Ak,S:new Ik,X:new Mk,x:new Ok,t:new Rk,T:new Nk},Lk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zk=/^'([^]*?)'?$/,_k=/''/g,Wk=/\S/,Bk=/[a-zA-Z]/;function Uk(e,t,n,a){var i,s,o,l,c,d,u,h,p,y,b,m,f,j,$,S,T,A;ye(3,arguments);var M=String(e),g=String(t),D=nr(),P=(i=(s=a==null?void 0:a.locale)!==null&&s!==void 0?s:D.locale)!==null&&i!==void 0?i:ru;if(!P.match)throw new RangeError("locale must contain match property");var C=tt((o=(l=(c=(d=a==null?void 0:a.firstWeekContainsDate)!==null&&d!==void 0?d:a==null||(u=a.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&c!==void 0?c:D.firstWeekContainsDate)!==null&&l!==void 0?l:(p=D.locale)===null||p===void 0||(y=p.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=tt((b=(m=(f=(j=a==null?void 0:a.weekStartsOn)!==null&&j!==void 0?j:a==null||($=a.locale)===null||$===void 0||(S=$.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&f!==void 0?f:D.weekStartsOn)!==null&&m!==void 0?m:(T=D.locale)===null||T===void 0||(A=T.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&b!==void 0?b:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(g==="")return M===""?be(n):new Date(NaN);var R={firstWeekContainsDate:C,weekStartsOn:k,locale:P},O=[new ek],E=g.match(Vk).map(function(pe){var ve=pe[0];if(ve in Bc){var ge=Bc[ve];return ge(pe,P.formatLong)}return pe}).join("").match(Lk),I=[],V=Hp(E),U;try{var _=function(){var ve=U.value;!(a!=null&&a.useAdditionalWeekYearTokens)&&M0(ve)&&Po(ve,g,e),!(a!=null&&a.useAdditionalDayOfYearTokens)&&I0(ve)&&Po(ve,g,e);var ge=ve[0],he=Fk[ge];if(he){var xe=he.incompatibleTokens;if(Array.isArray(xe)){var oe=I.find(function(He){return xe.includes(He.token)||He.token===ge});if(oe)throw new RangeError("The format string mustn't contain `".concat(oe.fullToken,"` and `").concat(ve,"` at the same time"))}else if(he.incompatibleTokens==="*"&&I.length>0)throw new RangeError("The format string mustn't contain `".concat(ve,"` and any other token at the same time"));I.push({token:ge,fullToken:ve});var Te=he.run(M,ve,P.match,R);if(!Te)return{v:new Date(NaN)};O.push(Te.setter),M=Te.rest}else{if(ge.match(Bk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ge+"`");if(ve==="''"?ve="'":ge==="'"&&(ve=qk(ve)),M.indexOf(ve)===0)M=M.slice(ve.length);else return{v:new Date(NaN)}}};for(V.s();!(U=V.n()).done;){var z=_();if(Vo(z)==="object")return z.v}}catch(pe){V.e(pe)}finally{V.f()}if(M.length>0&&Wk.test(M))return new Date(NaN);var B=O.map(function(pe){return pe.priority}).sort(function(pe,ve){return ve-pe}).filter(function(pe,ve,ge){return ge.indexOf(pe)===ve}).map(function(pe){return O.filter(function(ve){return ve.priority===pe}).sort(function(ve,ge){return ge.subPriority-ve.subPriority})}).map(function(pe){return pe[0]}),Q=be(n);if(isNaN(Q.getTime()))return new Date(NaN);var se=T0(Q,ko(Q)),X={},J=Hp(B),ie;try{for(J.s();!(ie=J.n()).done;){var me=ie.value;if(!me.validate(se,R))return new Date(NaN);var te=me.set(se,X,R);Array.isArray(te)?(se=te[0],KT(X,te[1])):se=te}}catch(pe){J.e(pe)}finally{J.f()}return se}function qk(e){return e.match(zk)[1].replace(_k,"'")}function Hk(e,t){ye(2,arguments);var n=be(e),a=tt(t);return n.setDate(a),n}function Yk(e,t){ye(2,arguments);var n=be(e),a=tt(t);return n.setHours(a),n}function Gk(e,t){ye(2,arguments);var n=be(e),a=tt(t);return n.setMinutes(a),n}function Qk(e,t){ye(2,arguments);var n=be(e),a=tt(t),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,a,15),o.setHours(0,0,0,0);var l=O0(o);return n.setMonth(a,Math.min(s,l)),n}function Kk(e,t){ye(2,arguments);var n=be(e),a=tt(t);return n.setSeconds(a),n}function Zk(e,t){ye(2,arguments);var n=be(e),a=tt(t);return n.setMilliseconds(a),n}function Xk(e,t){ye(2,arguments);var n=be(e),a=tt(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(a),n)}function Gp(e){ye(1,arguments);var t=be(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Ps(e){ye(1,arguments);var t=be(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Jk(e,t){var n;ye(1,arguments);var a=tt((n=t==null?void 0:t.additionalDigits)!==null&&n!==void 0?n:2);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=r8(e),s;if(i.date){var o=a8(i.date,a);s=i8(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var l=s.getTime(),c=0,d;if(i.time&&(c=s8(i.time),isNaN(c)))return new Date(NaN);if(i.timezone){if(d=o8(i.timezone),isNaN(d))return new Date(NaN)}else{var u=new Date(l+c),h=new Date(0);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}return new Date(l+c+d)}var Es={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},e8=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,t8=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,n8=/^([+-])(\d{2})(?::?(\d{2}))?$/;function r8(e){var t={},n=e.split(Es.dateTimeDelimiter),a;if(n.length>2)return t;if(/:/.test(n[0])?a=n[0]:(t.date=n[0],a=n[1],Es.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Es.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length))),a){var i=Es.timezone.exec(a);i?(t.time=a.replace(i[1],""),t.timezone=i[1]):t.time=a}return t}function a8(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(n);if(!a)return{year:NaN,restDateString:""};var i=a[1]?parseInt(a[1]):null,s=a[2]?parseInt(a[2]):null;return{year:s===null?i:s*100,restDateString:e.slice((a[1]||a[2]).length)}}function i8(e,t){if(t===null)return new Date(NaN);var n=e.match(e8);if(!n)return new Date(NaN);var a=!!n[4],i=Ri(n[1]),s=Ri(n[2])-1,o=Ri(n[3]),l=Ri(n[4]),c=Ri(n[5])-1;if(a)return h8(t,l,c)?l8(t,l,c):new Date(NaN);var d=new Date(0);return!d8(t,s,o)||!u8(t,i)?new Date(NaN):(d.setUTCFullYear(t,s,Math.max(i,o)),d)}function Ri(e){return e?parseInt(e):1}function s8(e){var t=e.match(t8);if(!t)return NaN;var n=nc(t[1]),a=nc(t[2]),i=nc(t[3]);return p8(n,a,i)?n*xl+a*ml+i*1e3:NaN}function nc(e){return e&&parseFloat(e.replace(",","."))||0}function o8(e){if(e==="Z")return 0;var t=e.match(n8);if(!t)return 0;var n=t[1]==="+"?-1:1,a=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return f8(a,i)?n*(a*xl+i*ml):NaN}function l8(e,t,n){var a=new Date(0);a.setUTCFullYear(e,0,4);var i=a.getUTCDay()||7,s=(t-1)*7+n+1-i;return a.setUTCDate(a.getUTCDate()+s),a}var c8=[31,null,31,30,31,30,31,31,30,31,30,31];function z0(e){return e%400===0||e%4===0&&e%100!==0}function d8(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(c8[t]||(z0(e)?29:28))}function u8(e,t){return t>=1&&t<=(z0(e)?366:365)}function h8(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function p8(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function f8(e,t){return t>=0&&t<=59}function m8(e,t){var n,a;ye(1,arguments);var i=be(e);if(isNaN(i.getTime()))throw new RangeError("Invalid time value");var s=String((n=t==null?void 0:t.format)!==null&&n!==void 0?n:"extended"),o=String((a=t==null?void 0:t.representation)!==null&&a!==void 0?a:"complete");if(s!=="extended"&&s!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(o!=="date"&&o!=="time"&&o!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",c="",d=s==="extended"?"-":"",u=s==="extended"?":":"";if(o!=="time"){var h=Ye(i.getDate(),2),p=Ye(i.getMonth()+1,2),y=Ye(i.getFullYear(),4);l="".concat(y).concat(d).concat(p).concat(d).concat(h)}if(o!=="date"){var b=i.getTimezoneOffset();if(b!==0){var m=Math.abs(b),f=Ye(Math.floor(m/60),2),j=Ye(m%60,2),$=b<0?"+":"-";c="".concat($).concat(f,":").concat(j)}else c="Z";var S=Ye(i.getHours(),2),T=Ye(i.getMinutes(),2),A=Ye(i.getSeconds(),2),M=l===""?"":"T",g=[S,T,A].join(u);l="".concat(l).concat(M).concat(g).concat(c)}return l}function x8(e,t){ye(2,arguments);var n=be(e).getTime(),a=be(t.start).getTime(),i=be(t.end).getTime();if(!(a<=i))throw new RangeError("Invalid interval");return n>=a&&n<=i}var Uc={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(c,d){switch(c){case"P":return d.date({width:"short"});case"PP":return d.date({width:"medium"});case"PPP":return d.date({width:"long"});case"PPPP":default:return d.date({width:"full"})}},a=function(c,d){switch(c){case"p":return d.time({width:"short"});case"pp":return d.time({width:"medium"});case"ppp":return d.time({width:"long"});case"pppp":default:return d.time({width:"full"})}},i=function(c,d){var u=c.match(/(P+)(p+)?/)||[],h=u[1],p=u[2];if(!p)return n(c,d);var y;switch(h){case"P":y=d.dateTime({width:"short"});break;case"PP":y=d.dateTime({width:"medium"});break;case"PPP":y=d.dateTime({width:"long"});break;case"PPPP":default:y=d.dateTime({width:"full"});break}return y.replace("{{date}}",n(h,d)).replace("{{time}}",a(p,d))},s={p:a,P:i},o=s;t.default=o,e.exports=t.default})(Uc,Uc.exports);var g8=Uc.exports;const v8=Da(g8),y8={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},b8={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class j8{constructor(t){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=y8,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=s=>typeof s>"u"?new Date:s===null?null:new Date(s),this.dateWithTimezone=s=>this.date(s),this.getTimezone=()=>"default",this.setTimezone=s=>s,this.toJsDate=s=>s,this.getCurrentLocaleCode=()=>{var s;return((s=this.locale)==null?void 0:s.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>this.locale?/a/.test(this.locale.formatLong.time({width:"short"})):!0,this.expandFormat=s=>{const o=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return s.match(o).map(l=>{const c=l[0];if(c==="p"||c==="P"){const d=this.longFormatters[c];return d(l,this.locale.formatLong)}return l}).join("")},this.getFormatHelperText=s=>this.expandFormat(s).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=s=>s===null,this.formatNumber=s=>s,this.getMeridiemText=s=>s==="am"?"AM":"PM";const{locale:n,formats:a,longFormatters:i}=t;this.locale=n,this.formats=G({},b8,a),this.longFormatters=i}}class _0 extends j8{constructor({locale:t,formats:n}={}){if(typeof Js!="function")throw new Error(["MUI: The `date-fns` package v3.x is not compatible with this adapter.","Please, install v2.x of the package or use the `AdapterDateFnsV3` instead."].join(`
`));super({locale:t??ru,formats:n,longFormatters:v8}),this.parseISO=a=>Jk(a),this.toISO=a=>m8(a,{format:"extended"}),this.parse=(a,i)=>a===""?null:Uk(a,i,new Date,{locale:this.locale}),this.isValid=a=>D0(this.date(a)),this.format=(a,i)=>this.formatByString(a,this.formats[i]),this.formatByString=(a,i)=>rn(a,i,{locale:this.locale}),this.getDiff=(a,i,s)=>{switch(s){case"years":return m6(a,this.date(i));case"quarters":return y6(a,this.date(i));case"months":return $0(a,this.date(i));case"weeks":return w6(a,this.date(i));case"days":return S0(a,this.date(i));case"hours":return $6(a,this.date(i));case"minutes":return S6(a,this.date(i));case"seconds":return D6(a,this.date(i));default:return gl(a,this.date(i))}},this.isEqual=(a,i)=>a===null&&i===null?!0:UT(a,i),this.isSameYear=(a,i)=>HT(a,i),this.isSameMonth=(a,i)=>YT(a,i),this.isSameDay=(a,i)=>qT(a,i),this.isSameHour=(a,i)=>GT(a,i),this.isAfter=(a,i)=>tc(a,i),this.isAfterYear=(a,i)=>tc(a,Jl(i)),this.isAfterDay=(a,i)=>tc(a,_c(i)),this.isBefore=(a,i)=>Oi(a,i),this.isBeforeYear=(a,i)=>Oi(a,Ps(i)),this.isBeforeDay=(a,i)=>Oi(a,li(i)),this.isWithinRange=(a,[i,s])=>x8(a,{start:i,end:s}),this.startOfYear=a=>Ps(a),this.startOfMonth=a=>Gp(a),this.startOfWeek=a=>xa(a,{locale:this.locale}),this.startOfDay=a=>li(a),this.endOfYear=a=>Jl(a),this.endOfMonth=a=>Wc(a),this.endOfWeek=a=>Xl(a,{locale:this.locale}),this.endOfDay=a=>_c(a),this.addYears=(a,i)=>Lp(a,i),this.addMonths=(a,i)=>eo(a,i),this.addWeeks=(a,i)=>p6(a,i),this.addDays=(a,i)=>Js(a,i),this.addHours=(a,i)=>h6(a,i),this.addMinutes=(a,i)=>d6(a,i),this.addSeconds=(a,i)=>l6(a,i),this.getYear=a=>BT(a),this.getMonth=a=>NT(a),this.getDate=a=>MT(a),this.getHours=a=>OT(a),this.getMinutes=a=>RT(a),this.getSeconds=a=>FT(a),this.getMilliseconds=a=>LT(a),this.setYear=(a,i)=>Xk(a,i),this.setMonth=(a,i)=>Qk(a,i),this.setDate=(a,i)=>Hk(a,i),this.setHours=(a,i)=>Yk(a,i),this.setMinutes=(a,i)=>Gk(a,i),this.setSeconds=(a,i)=>Kk(a,i),this.setMilliseconds=(a,i)=>Zk(a,i),this.getDaysInMonth=a=>O0(a),this.getNextMonth=a=>eo(a,1),this.getPreviousMonth=a=>eo(a,-1),this.getMonthArray=a=>{const s=[Ps(a)];for(;s.length<12;){const o=s[s.length-1];s.push(this.getNextMonth(o))}return s},this.mergeDateAndTime=(a,i)=>this.setSeconds(this.setMinutes(this.setHours(a,this.getHours(i)),this.getMinutes(i)),this.getSeconds(i)),this.getWeekdays=()=>{const a=new Date;return T6({start:xa(a,{locale:this.locale}),end:Xl(a,{locale:this.locale})}).map(i=>this.formatByString(i,"EEEEEE"))},this.getWeekArray=a=>{const i=xa(Gp(a),{locale:this.locale}),s=Xl(Wc(a),{locale:this.locale});let o=0,l=i;const c=[];for(;Oi(l,s);){const d=Math.floor(o/7);c[d]=c[d]||[],c[d].push(l),l=Js(l,1),o+=1}return c},this.getWeekNumber=a=>WT(a,{locale:this.locale}),this.getYearRange=(a,i)=>{const s=Ps(a),o=Jl(i),l=[];let c=s;for(;Oi(c,o);)l.push(c),c=Lp(c,1);return l}}}const w8=(e,t)=>{const n=Ve(),[a,i]=x.useState(!1),s=(d,u)=>{t({...e,[d]:u})},o=()=>{t({search:"",eventType:"",entityType:"",startDate:"",endDate:""}),i(!1)},l=()=>{i(!a)},c=x.useMemo(()=>{const d=Object.values(e).some(h=>h!==""),u=Object.values(e).filter(h=>h!=="").length;return{advancedOpen:a,hasActiveFilters:d,filterCount:u}},[a,e]);return{theme:n,filterState:c,handleFilterChange:s,handleClearFilters:o,toggleAdvancedFilters:l}},Qp=[{value:"",label:"All Events",icon:null},{value:"entity_created",label:"Created",icon:re.createElement(Zt,{fontSize:"small"})},{value:"entity_updated",label:"Updated",icon:re.createElement(Ht,{fontSize:"small"})},{value:"entity_deleted",label:"Deleted",icon:re.createElement(sn,{fontSize:"small"})},{value:"status_changed",label:"Status Changed",icon:re.createElement(Jn,{fontSize:"small"})},{value:"payment_made",label:"Payment Made",icon:re.createElement(Zn,{fontSize:"small"})}],Kp=[{value:"",label:"All Entities",icon:null},{value:"customer",label:"Customer",icon:re.createElement(et,{fontSize:"small"})},{value:"contract",label:"Contract",icon:re.createElement(yn,{fontSize:"small"})},{value:"vehicle",label:"Vehicle",icon:re.createElement(pt,{fontSize:"small"})},{value:"payment",label:"Payment",icon:re.createElement(Sn,{fontSize:"small"})},{value:"collateral",label:"Collateral",icon:re.createElement(tn,{fontSize:"small"})}],C8=({filters:e,onFilterChange:t,logsCount:n=0})=>{var y,b;const{theme:a,filterState:i,handleFilterChange:s,handleClearFilters:o,toggleAdvancedFilters:l}=w8(e,t),{advancedOpen:c,hasActiveFilters:d,filterCount:u}=i,h=m=>Qp.find(f=>f.value===m),p=m=>Kp.find(f=>f.value===m);return r.jsx(Ur,{dateAdapter:_0,children:r.jsx(Ie,{elevation:2,sx:{mb:3,borderRadius:2,overflow:"hidden",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:a.shadows[4]}},children:r.jsxs(w,{sx:{p:2},children:[r.jsxs(N,{container:!0,spacing:2,alignItems:"center",children:[r.jsx(N,{item:!0,xs:12,md:8,children:r.jsx(fe,{id:"log-search-field",placeholder:"Search logs by event type, entity, user, or description...",value:e.search,onChange:m=>s("search",m.target.value),fullWidth:!0,variant:"outlined",InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(en,{color:"action"})}),endAdornment:e.search&&r.jsx($e,{position:"end",children:r.jsx(ot,{title:"Clear search",children:r.jsx(Ae,{size:"small",onClick:()=>s("search",""),edge:"end",children:r.jsx(Gt,{fontSize:"small"})})})}),sx:{borderRadius:2,transition:"all 0.2s","&.Mui-focused":{boxShadow:`0 0 0 2px ${F(a.palette.primary.main,.25)}`}}}})}),r.jsx(N,{item:!0,xs:12,md:4,children:r.jsxs(w,{sx:{display:"flex",gap:1,justifyContent:{xs:"flex-start",md:"flex-end"}},children:[r.jsxs(Je,{sx:{minWidth:140},children:[r.jsx(at,{id:"log-event-type-label",size:"small",children:"Event Type"}),r.jsxs(it,{labelId:"log-event-type-label",value:e.eventType,onChange:m=>s("eventType",m.target.value),label:"Event Type",size:"small",sx:{borderRadius:2,"& .MuiOutlinedInput-notchedOutline":{transition:"all 0.2s"}},children:[r.jsx(ne,{value:"",children:"All Events"}),Qp.map(m=>r.jsx(ne,{value:m.value,children:r.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[m.icon&&r.jsx(w,{sx:{mr:1,color:a.palette.primary.main},children:m.icon}),m.label]})},m.value))]})]}),r.jsx(ot,{title:"More filters",children:r.jsx(Ae,{color:c?"primary":"default",onClick:l,sx:{height:40,width:40,bgcolor:c?F(a.palette.primary.main,.1):"transparent",border:`1px solid ${c?a.palette.primary.main:a.palette.divider}`,borderRadius:2,"&:hover":{bgcolor:c?F(a.palette.primary.main,.15):F(a.palette.action.hover,.8)}},children:r.jsx(Wr,{fontSize:"small"})})})]})})]}),r.jsx($n,{in:c,children:r.jsxs(w,{sx:{mt:2,pt:2,borderTop:`1px solid ${a.palette.divider}`},children:[r.jsx(v,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,color:"text.primary",children:"Additional Filters"}),r.jsxs(N,{container:!0,spacing:2,children:[r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsxs(Je,{fullWidth:!0,size:"small",children:[r.jsx(at,{children:"Entity Type"}),r.jsxs(it,{value:e.entityType,onChange:m=>s("entityType",m.target.value),label:"Entity Type",sx:{borderRadius:2},children:[r.jsx(ne,{value:"",children:"All Entities"}),Kp.map(m=>r.jsx(ne,{value:m.value,children:m.label},m.value))]})]})}),r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsx(Rr,{label:"Start Date",value:e.startDate?new Date(e.startDate):null,onChange:m=>{s("startDate",m?m.toISOString().split("T")[0]:"")},slotProps:{textField:{size:"small",fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}}}})}),r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsx(Rr,{label:"End Date",value:e.endDate?new Date(e.endDate):null,onChange:m=>{s("endDate",m?m.toISOString().split("T")[0]:"")},slotProps:{textField:{size:"small",fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}}}})})]})]})}),d&&r.jsxs(w,{sx:{mt:2,display:"flex",flexWrap:"wrap",gap:1,alignItems:"center"},children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Active filters:"}),e.search&&r.jsx(de,{label:`Search: ${e.search}`,size:"small",onDelete:()=>s("search",""),sx:{borderRadius:1.5},icon:r.jsx(en,{fontSize:"small"})}),e.eventType&&r.jsx(de,{label:`Event: ${((y=h(e.eventType))==null?void 0:y.label)||e.eventType}`,size:"small",onDelete:()=>s("eventType",""),sx:{borderRadius:1.5},icon:r.jsx(ld,{fontSize:"small"})}),e.entityType&&r.jsx(de,{label:`Entity: ${((b=p(e.entityType))==null?void 0:b.label)||e.entityType}`,size:"small",onDelete:()=>s("entityType",""),sx:{borderRadius:1.5},icon:r.jsx(Nf,{fontSize:"small"})}),e.startDate&&r.jsx(de,{label:`From: ${new Date(e.startDate).toLocaleDateString()}`,size:"small",onDelete:()=>s("startDate",""),sx:{borderRadius:1.5},icon:r.jsx(Gn,{fontSize:"small"})}),e.endDate&&r.jsx(de,{label:`To: ${new Date(e.endDate).toLocaleDateString()}`,size:"small",onDelete:()=>s("endDate",""),sx:{borderRadius:1.5},icon:r.jsx(Gn,{fontSize:"small"})}),r.jsxs(ue,{variant:"text",size:"small",startIcon:r.jsx(Gt,{}),onClick:o,sx:{ml:"auto"},children:["Clear All (",u,")"]})]}),r.jsx(w,{sx:{mt:1},children:r.jsxs(v,{variant:"body2",color:"text.secondary",children:[n," log",n!==1?"s":""," found"]})})]})})})},Zp=e=>new Date(e).toLocaleString(),$8=e=>{const{eventType:t,entityType:n,entityId:a}=e;let o=`${(t==null?void 0:t.replace("_"," "))||"action performed"} on ${n||"entity"}`;return a&&(o+=` (ID: ${a})`),o.charAt(0).toUpperCase()+o.slice(1)},S8=e=>e.performedByName?e.performedByName:e.performedBy?e.performedBy:"System",D8=(e,t)=>e.filter(n=>{var a,i,s,o;if(t.search){const l=t.search.toLowerCase();if(!(((a=n.description)==null?void 0:a.toLowerCase().includes(l))||((i=n.eventType)==null?void 0:i.toLowerCase().includes(l))||((s=n.entityType)==null?void 0:s.toLowerCase().includes(l))||((o=n.entityId)==null?void 0:o.toLowerCase().includes(l))||S8(n).toLowerCase().includes(l)))return!1}if(t.eventType&&t.eventType!==n.eventType||t.entityType&&t.entityType!==n.entityType)return!1;if(t.startDate){const l=new Date(n.timestamp||n.createdAt),c=new Date(t.startDate);if(l<c)return!1}if(t.endDate){const l=new Date(n.timestamp||n.createdAt),c=new Date(t.endDate);if(l>c)return!1}return!0}),T8=(e,t,n)=>[...e].sort((a,i)=>{let s,o;switch(n){case"timestamp":case"createdAt":s=new Date(a.timestamp||a.createdAt||0).getTime(),o=new Date(i.timestamp||i.createdAt||0).getTime();break;case"eventType":s=a.eventType||"",o=i.eventType||"";break;case"entityType":s=a.entityType||"",o=i.entityType||"";break;case"description":s=a.description||"",o=i.description||"";break;default:s="",o=""}return typeof s=="string"&&typeof o=="string"?t==="asc"?s.localeCompare(o):o.localeCompare(s):typeof s=="number"&&typeof o=="number"?t==="asc"?s-o:o-s:0});re.createElement(Zt,{fontSize:"small"}),re.createElement(Ht,{fontSize:"small"}),re.createElement(sn,{fontSize:"small"}),re.createElement(Jn,{fontSize:"small"}),re.createElement(Zn,{fontSize:"small"});re.createElement(et,{fontSize:"small"}),re.createElement(yn,{fontSize:"small"}),re.createElement(pt,{fontSize:"small"}),re.createElement(Sn,{fontSize:"small"}),re.createElement(tn,{fontSize:"small"});const k8=25,P8=[10,25,50,100],W0=(e,t)=>{const{id:n}=Mn(),a=e||n,[i,s]=x.useState([]),[o,l]=x.useState(!0),[c,d]=x.useState(null),u=x.useCallback(async()=>{if(a){l(!0),d(null);try{const h=await wn.getLogs(a,t);let p;Array.isArray(h)?p=h:h&&typeof h=="object"&&"logs"in h&&Array.isArray(h.logs)?p=h.logs:h&&typeof h=="object"&&"data"in h&&Array.isArray(h.data)?p=h.data:(console.warn("Unexpected logs response structure:",h),p=[]),s(p)}catch(h){console.error("Failed to fetch logs:",h);const p=h instanceof Error?h.message:"Failed to load logs";d(p),s([])}finally{l(!1)}}},[a,t]);return x.useEffect(()=>{u()},[u]),{logs:i,loading:o,error:c,fetchLogs:u,customerId:a}},E8=(e,t)=>{const[n,a]=x.useState(0),[i,s]=x.useState(k8),[o,l]=x.useState("desc"),[c,d]=x.useState("timestamp"),u=x.useMemo(()=>D8(e,t),[e,t]),h=x.useMemo(()=>T8(u,o,c),[u,o,c]),p=x.useMemo(()=>{const f=n*i;return h.slice(f,f+i)},[h,n,i]),y=x.useCallback(f=>{l(c===f&&o==="asc"?"desc":"asc"),d(f)},[o,c]),b=x.useCallback(f=>{a(f)},[]),m=x.useCallback(f=>{s(f),a(0)},[]);return x.useEffect(()=>{a(0)},[t]),{page:n,rowsPerPage:i,order:o,orderBy:c,filteredLogs:u,sortedLogs:h,paginatedLogs:p,handleRequestSort:y,handlePageChange:b,handleRowsPerPageChange:m}},A8=()=>{const[e,t]=x.useState({open:!1,message:"",severity:"info"}),n=x.useCallback((i,s="info")=>{t({open:!0,message:i,severity:s})},[]),a=x.useCallback(()=>{t(i=>({...i,open:!1}))},[]);return{notification:e,showNotification:n,hideNotification:a}},I8=e=>{switch(e){case"entity_created":return r.jsx(Zt,{fontSize:"small",color:"success"});case"entity_updated":return r.jsx(Ht,{fontSize:"small",color:"primary"});case"entity_deleted":return r.jsx(sn,{fontSize:"small",color:"error"});case"status_changed":return r.jsx(Jn,{fontSize:"small",color:"warning"});case"payment_made":return r.jsx(Zn,{fontSize:"small",color:"success"});default:return r.jsx(Xn,{fontSize:"small",color:"action"})}},M8=e=>{switch(e){case"customer":return r.jsx(et,{fontSize:"small",color:"primary"});case"company":return r.jsx(tn,{fontSize:"small",color:"primary"});case"vehicle":return r.jsx(pt,{fontSize:"small",color:"info"});case"contract":return r.jsx(yn,{fontSize:"small",color:"secondary"});case"invoice":return r.jsx(Sn,{fontSize:"small",color:"success"});default:return r.jsx(Xn,{fontSize:"small",color:"action"})}},O8=({customerId:e})=>{const t=Ve(),{logs:n,loading:a,error:i,fetchLogs:s}=W0(e),{notification:o,hideNotification:l}=A8(),[c,d]=x.useState({search:"",eventType:"",entityType:"",startDate:"",endDate:""}),[u,h]=x.useState(new Set),{page:p,rowsPerPage:y,order:b,orderBy:m,filteredLogs:f,paginatedLogs:j,handleRequestSort:$,handlePageChange:S,handleRowsPerPageChange:T}=E8(n,c),A=()=>{d({search:"",eventType:"",entityType:"",startDate:"",endDate:""})},M=g=>{const D=new Set(u);D.has(g)?D.delete(g):D.add(g),h(D)};return a&&n.length===0?r.jsx(Ie,{elevation:2,sx:{borderRadius:2,overflow:"hidden",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:t.shadows[4]}},children:r.jsxs(w,{sx:{p:3},children:[r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[r.jsx(le,{variant:"text",width:200,height:32}),r.jsx(le,{variant:"rectangular",width:100,height:36,sx:{borderRadius:1}})]}),r.jsx(Ee,{sx:{mb:2}}),r.jsx(w,{sx:{display:"flex",mb:1.5},children:["20%","15%","35%","15%","15%"].map((g,D)=>r.jsx(le,{variant:"text",width:g,height:24,sx:{mr:2}},D))}),[...Array(5)].map((g,D)=>r.jsx(w,{sx:{py:2,display:"flex",alignItems:"center",borderBottom:D<4?`1px solid ${t.palette.divider}`:"none"},children:["20%","15%","35%","15%","15%"].map((P,C)=>r.jsx(le,{variant:"text",width:P,height:24,sx:{mr:2}},C))},D)),r.jsx(w,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:r.jsx(le,{variant:"rectangular",width:300,height:36,sx:{borderRadius:1}})})]})}):i&&!n.length?r.jsxs(w,{sx:{p:3},children:[r.jsx(_e,{severity:"error",sx:{mb:2},children:i}),r.jsx(ue,{variant:"contained",onClick:s,children:"Retry"})]}):r.jsxs(w,{sx:{p:3},children:[r.jsx(w,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:r.jsxs(w,{children:[r.jsx(v,{variant:"h5",fontWeight:600,sx:{mb:.5},children:"Activity Logs"}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"View customer activity and system events"})]})}),r.jsx(w,{sx:{mb:3},children:r.jsx(C8,{filters:c,onFilterChange:d,logsCount:f.length})}),r.jsxs(Ie,{elevation:2,sx:{borderRadius:2,overflow:"hidden",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:t.shadows[4]}},children:[r.jsx(mr,{children:r.jsxs(xr,{children:[r.jsx(gr,{children:r.jsxs(st,{children:[r.jsx(Z,{width:"40px"}),r.jsx(Z,{children:r.jsx(Ge,{active:m==="timestamp",direction:m==="timestamp"?b:"asc",onClick:()=>$("timestamp"),children:"Event & Time"})}),r.jsx(Z,{children:r.jsx(Ge,{active:m==="entityType",direction:m==="entityType"?b:"asc",onClick:()=>$("entityType"),children:"Entity"})}),r.jsx(Z,{children:"Changes"}),r.jsx(Z,{children:"User & Metadata"})]})}),r.jsxs(vr,{children:[j.map(g=>r.jsxs(re.Fragment,{children:[r.jsxs(st,{hover:!0,sx:{transition:"all 0.2s","&:hover":{backgroundColor:F(t.palette.primary.main,.02)}},children:[r.jsx(Z,{children:r.jsx(Ae,{size:"small",onClick:()=>M(g.id),children:u.has(g.id)?r.jsx(No,{}):r.jsx(hi,{})})}),r.jsx(Z,{children:r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(pn,{sx:{width:32,height:32},children:I8(g.eventType)}),r.jsxs(w,{children:[r.jsx(v,{variant:"body2",fontWeight:"medium",children:g.eventType?g.eventType.replace("_"," ").replace(/\b\w/g,D=>D.toUpperCase()):"Unknown Event"}),r.jsx(v,{variant:"caption",color:"text.secondary",children:g.actionTimestamp?Zp(g.actionTimestamp.toString()):g.createdAt?Zp(g.createdAt.toString()):"No timestamp"})]})]})}),r.jsxs(Z,{children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[M8(g.entityType),r.jsx(de,{label:g.entityType?g.entityType.charAt(0).toUpperCase()+g.entityType.slice(1):"Unknown",size:"small",variant:"outlined"})]}),g.entityId&&r.jsxs(v,{variant:"caption",color:"text.secondary",display:"block",children:["ID: ",g.entityId.slice(0,8),"..."]})]}),r.jsx(Z,{children:r.jsxs(w,{sx:{maxWidth:300},children:[g.eventType==="entity_created"&&g.newValues&&r.jsxs(w,{children:[r.jsxs(v,{variant:"body2",fontWeight:"medium",color:"success.main",children:["Created new ",g.entityType]}),g.newValues.legalName&&r.jsxs(v,{variant:"caption",display:"block",color:"text.secondary",children:["Name: ",g.newValues.legalName]}),g.newValues.email&&r.jsxs(v,{variant:"caption",display:"block",color:"text.secondary",children:["Email: ",g.newValues.email]}),g.newValues.type&&r.jsxs(v,{variant:"caption",display:"block",color:"text.secondary",children:["Type: ",g.newValues.type]})]}),g.eventType==="entity_updated"&&r.jsxs(w,{children:[r.jsxs(v,{variant:"body2",fontWeight:"medium",color:"warning.main",children:["Updated ",g.entityType]}),g.oldValues&&g.newValues&&r.jsxs(w,{sx:{mt:.5},children:[Object.keys(g.newValues).slice(0,3).map(D=>{var P,C;return r.jsxs(v,{variant:"caption",display:"block",color:"text.secondary",children:[D,": ",(P=g.oldValues)==null?void 0:P[D]," → ",(C=g.newValues)==null?void 0:C[D]]},D)}),Object.keys(g.newValues).length>3&&r.jsxs(v,{variant:"caption",color:"text.secondary",children:["+",Object.keys(g.newValues).length-3," more changes"]})]})]}),g.eventType==="entity_deleted"&&r.jsxs(v,{variant:"body2",fontWeight:"medium",color:"error.main",children:["Deleted ",g.entityType]}),!["entity_created","entity_updated","entity_deleted"].includes(g.eventType||"")&&r.jsx(v,{variant:"body2",children:$8(g)})]})}),r.jsx(Z,{children:r.jsxs(w,{children:[r.jsx(v,{variant:"body2",fontWeight:"medium",children:g.userId||"System"}),g.metadata&&r.jsxs(w,{sx:{mt:.5},children:[g.metadata.customerType&&r.jsx(de,{label:`Customer: ${g.metadata.customerType}`,size:"small",variant:"outlined",sx:{mr:.5,mb:.5}}),g.metadata.customerId&&r.jsxs(v,{variant:"caption",display:"block",color:"text.secondary",children:["Customer ID: ",g.metadata.customerId.slice(0,8),"..."]})]})]})})]}),r.jsx(st,{children:r.jsx(Z,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:r.jsx($n,{in:u.has(g.id),timeout:"auto",unmountOnExit:!0,children:r.jsxs(w,{sx:{p:2,bgcolor:F(t.palette.grey[50],.5),borderLeft:`3px solid ${t.palette.primary.main}`},children:[r.jsxs(w,{sx:{mb:2},children:[r.jsx(v,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Basic Information"}),r.jsxs(N,{container:!0,spacing:1,children:[r.jsxs(N,{item:!0,xs:3,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"Event Type"}),r.jsx(v,{variant:"body2",children:g.eventType})]}),r.jsxs(N,{item:!0,xs:3,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"Entity Type"}),r.jsx(v,{variant:"body2",children:g.entityType})]}),r.jsxs(N,{item:!0,xs:3,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"Entity ID"}),r.jsx(v,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.75rem"},children:g.entityId})]}),r.jsxs(N,{item:!0,xs:3,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"User ID"}),r.jsx(v,{variant:"body2",children:g.userId})]})]})]}),r.jsxs(w,{sx:{mb:2},children:[r.jsx(v,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Timestamps"}),r.jsxs(N,{container:!0,spacing:1,children:[r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"Action Timestamp"}),r.jsx(v,{variant:"body2",children:g.actionTimestamp})]}),r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"Created At"}),r.jsx(v,{variant:"body2",children:g.createdAt})]})]})]}),g.metadata&&r.jsxs(w,{sx:{mb:2},children:[r.jsx(v,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Metadata"}),r.jsx(w,{sx:{fontFamily:"monospace",fontSize:"0.75rem",bgcolor:t.palette.background.paper,p:1,borderRadius:1,border:`1px solid ${t.palette.divider}`,maxHeight:200,overflow:"auto"},children:r.jsx("pre",{style:{margin:0},children:JSON.stringify(g.metadata,null,2)})})]}),(g.oldValues||g.newValues)&&r.jsxs(w,{children:[r.jsx(v,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Value Changes"}),r.jsxs(N,{container:!0,spacing:1,children:[g.oldValues&&r.jsxs(N,{item:!0,xs:g.newValues?6:12,children:[r.jsx(v,{variant:"caption",color:"error.main",sx:{fontWeight:600},children:"Previous Values"}),r.jsx(w,{sx:{fontFamily:"monospace",fontSize:"0.75rem",bgcolor:F(t.palette.error.main,.05),p:1,borderRadius:1,border:`1px solid ${F(t.palette.error.main,.2)}`,maxHeight:200,overflow:"auto"},children:r.jsx("pre",{style:{margin:0},children:JSON.stringify(g.oldValues,null,2)})})]}),g.newValues&&r.jsxs(N,{item:!0,xs:g.oldValues?6:12,children:[r.jsx(v,{variant:"caption",color:"success.main",sx:{fontWeight:600},children:g.oldValues?"New Values":"Created Values"}),r.jsx(w,{sx:{fontFamily:"monospace",fontSize:"0.75rem",bgcolor:F(t.palette.success.main,.05),p:1,borderRadius:1,border:`1px solid ${F(t.palette.success.main,.2)}`,maxHeight:200,overflow:"auto"},children:r.jsx("pre",{style:{margin:0},children:JSON.stringify(g.newValues,null,2)})})]})]})]})]})})})})]},g.id)),j.length===0&&!a&&r.jsx(st,{children:r.jsx(Z,{colSpan:5,align:"center",sx:{py:6},children:r.jsxs(w,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:3},children:[r.jsx(w,{sx:{bgcolor:F(t.palette.primary.main,.05),borderRadius:"50%",p:2,mb:2},children:r.jsx(Xn,{sx:{fontSize:48,color:t.palette.primary.main,opacity:.7}})}),r.jsx(v,{variant:"h6",gutterBottom:!0,children:"No logs found"}),r.jsx(v,{variant:"body2",color:"textSecondary",align:"center",sx:{maxWidth:500,mb:3},children:f.length!==n.length?"No logs match your current filter criteria.":"This customer doesn't have any activity logs yet."}),f.length!==n.length&&r.jsx(ue,{variant:"outlined",onClick:A,children:"Clear Filters"})]})})})]})]})}),r.jsx(yr,{component:"div",count:f.length||0,page:Math.min(p,Math.max(0,Math.ceil((f.length||0)/y)-1)),onPageChange:(g,D)=>{S(D)},rowsPerPage:y,onRowsPerPageChange:g=>{const D=parseInt(g.target.value,10);T(D)},rowsPerPageOptions:P8,labelRowsPerPage:"Rows per page:",labelDisplayedRows:({from:g,to:D,count:P})=>a?"Loading...":`${g}–${D} of ${P!==-1?P:`more than ${D}`}`,disabled:a,sx:{borderTop:`1px solid ${t.palette.divider}`,"& .MuiTablePagination-select":{pr:1},"& .MuiTablePagination-displayedRows":{fontSize:"0.875rem",color:t.palette.text.secondary},"&.Mui-disabled":{opacity:.6}}})]}),r.jsx(pi,{open:o.open,autoHideDuration:6e3,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:r.jsx(_e,{onClose:l,severity:o.severity,variant:"filled",sx:{width:"100%"},children:o.message})})]})},B0={createEndorser:async e=>(await We.post(Ut.ENDORSERS,e)).data,getAllEndorsers:async e=>{const t=new URLSearchParams;e!=null&&e.limit&&t.append("limit",e.limit.toString()),e!=null&&e.offset&&t.append("offset",e.offset.toString()),e!=null&&e.search&&t.append("search",e.search),(e==null?void 0:e.active)!==void 0&&t.append("active",e.active.toString());const n=t.toString(),a=n?`${Ut.ENDORSERS}?${n}`:Ut.ENDORSERS;return(await We.get(a)).data},getEndorserById:async e=>(await We.get(`${Ut.ENDORSERS}/${e}`)).data,updateEndorser:async(e,t)=>(await We.put(`${Ut.ENDORSERS}/${e}`,t)).data,deleteEndorser:async e=>{await We.delete(`${Ut.ENDORSERS}/${e}`)},createCustomerEndorserRelationship:async e=>(await We.post(`${Ut.ENDORSERS}/relationships`,e)).data,getCustomerEndorsers:async e=>(await We.get(`${Ut.ENDORSERS}/relationships/customer/${e}`)).data,getEndorserCustomers:async e=>(await We.get(`${Ut.ENDORSERS}/relationships/endorser/${e}`)).data,updateCustomerEndorserRelationship:async(e,t)=>(await We.put(`${Ut.ENDORSERS}/relationships/${e}`,t)).data,deactivateCustomerEndorserRelationship:async e=>{await We.delete(`${Ut.ENDORSERS}/relationships/${e}`)}},Xp={generateCustomerRegistrationPdf:async e=>{await We.post(`/documents/generate/customer-registration/${e}`)},downloadCustomerRegistrationPdf:async e=>(await We.post(`/documents/customer/${e}/registration-pdf`,{},{responseType:"blob",headers:{Accept:"application/pdf"}})).data,generateAndDownloadCustomerPdf:async(e,t)=>(await We.post(`/documents/customer/${e}/generate-pdf`,t||{},{responseType:"blob",headers:{Accept:"application/pdf"}})).data,getDocument:async e=>(await We.get(`/documents/${e}`)).data,getCustomerDocuments:async e=>(await We.get(`/documents/customer/${e}`)).data,downloadDocument:async e=>(await We.get(`/documents/${e}/download`,{responseType:"blob"})).data},R8=(e,t)=>{const n=window.URL.createObjectURL(e),a=document.createElement("a");a.href=n,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n)},N8=()=>{const[e,t]=x.useState(!1),[n,a]=x.useState(null),[i,s]=x.useState({customer:null,isDownloading:!1}),{showSuccess:o,showError:l}=Fd(),c=async h=>{t(!0),a(null);try{let p;if(h.endorserDetails?(console.log("Creating endorser with data:",h.endorserDetails),p=await B0.createEndorser(h.endorserDetails),console.log("Endorser created successfully:",p)):(console.log("Creating customer with data:",h),p=await wn.create(h),console.log("Customer created successfully:",p)),p.id)try{await Xp.generateCustomerRegistrationPdf(p.id),console.log("Registration PDF generated successfully for customer:",p.id)}catch(b){console.error("Failed to generate registration PDF:",b);const m=h.endorserDetails?"Endorser":"Customer";l(`${m} created but failed to generate registration document`)}else{console.error("Customer created but no ID returned");const b=h.endorserDetails?"Endorser":"Customer";l(`${b} created but cannot generate registration document (no ID)`)}s({customer:p,isDownloading:!1});const y=h.endorserDetails?"Endorser":"Customer";return o(`${y} created successfully`),p}catch(p){console.error("Error creating customer:",p);const y=p instanceof Error?p.message:"Failed to create customer";throw a(y),l(y),p}finally{t(!1)}},d=async h=>{if(!h){l("Customer ID is required for document download");return}s(p=>({...p,isDownloading:!0}));try{const p=await Xp.downloadCustomerRegistrationPdf(h),y=`customer-registration-${h}-${Date.now()}.pdf`;R8(p,y),o("Registration document downloaded successfully")}catch(p){const y=p instanceof Error?p.message:"Failed to download registration document";a(y),l(y)}finally{s(p=>({...p,isDownloading:!1}))}},u=()=>{s({customer:null,isDownloading:!1}),a(null)};return{createCustomer:c,downloadRegistrationDocument:d,loading:e,error:n,customer:i.customer,isDownloading:i.isDownloading,reset:u}},F8=["Customer Type","Details","Review"],Jp=()=>{const{createCustomer:e,downloadRegistrationDocument:t,loading:n,customer:a,isDownloading:i,reset:s}=N8(),[o,l]=x.useState(0),c=async h=>{try{await e(h)}catch(p){console.error("Failed to create customer:",p)}},d=()=>{a!=null&&a.id&&t(a.id)},u=()=>{s(),l(0)};return a?r.jsx(w,{sx:{minHeight:"100vh",bgcolor:"background.default",py:4},children:r.jsx(w,{sx:{maxWidth:1200,mx:"auto",px:3},children:r.jsx(m5,{customer:a,onDownloadDocument:d,isDownloading:i,onReset:u})})}):r.jsx(w,{sx:{minHeight:"100vh",bgcolor:"background.default",py:4},children:r.jsxs(w,{sx:{maxWidth:1200,mx:"auto",px:3},children:[r.jsxs(w,{sx:{mb:4,textAlign:"center"},children:[r.jsx(v,{variant:"h3",component:"h1",gutterBottom:!0,fontWeight:"bold",children:"Create New Customer"}),r.jsx(v,{variant:"h6",color:"text.secondary",children:"Add a new customer to your fleet management system"})]}),r.jsx(tu,{onSubmit:c,loading:n,activeStep:o,onStepChange:l,steps:F8})]})})},L8=({rowsPerPage:e})=>r.jsx(r.Fragment,{children:[...Array(e)].map((t,n)=>r.jsxs(st,{children:[r.jsxs(Z,{children:[r.jsx(le,{animation:"wave",width:"80%",height:20}),r.jsx(le,{animation:"wave",width:"60%",height:16})]}),r.jsx(Z,{children:r.jsx(le,{animation:"wave",width:"90%",height:20})}),r.jsx(Z,{children:r.jsx(le,{animation:"wave",width:60,height:20})}),r.jsx(Z,{children:r.jsx(le,{animation:"wave",width:80,height:24,variant:"rounded"})}),r.jsx(Z,{children:r.jsx(le,{animation:"wave",width:80,height:20})}),r.jsx(Z,{children:r.jsx(le,{animation:"wave",width:"80%",height:20})}),r.jsx(Z,{children:r.jsx(le,{animation:"wave",width:120,height:36})})]},n))}),V8=({colSpan:e})=>r.jsx(st,{children:r.jsx(Z,{colSpan:e,align:"center",sx:{py:5},children:r.jsxs(w,{display:"flex",flexDirection:"column",alignItems:"center",gap:1,children:[r.jsx(pt,{sx:{fontSize:48,color:"text.secondary"}}),r.jsx(v,{variant:"h6",color:"text.secondary",children:"No vehicles found"}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Try adjusting your filters or add a new vehicle"})]})})}),z8=({vehicles:e,loading:t,totalCount:n,page:a,rowsPerPage:i,onPageChange:s,onRowsPerPageChange:o,onEdit:l,onDelete:c})=>{const d=yt(),u=Ve(),[h,p]=re.useState(null),[y,b]=re.useState(null),m=(g,D)=>{g.stopPropagation(),p(g.currentTarget),b(D)},f=()=>{p(null),b(null)},j=g=>{d(`/vehicles/${g}`),f()},$=g=>{l&&l(g),f()},S=g=>{c&&c(g),f()},T=g=>g?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(g):"N/A",A=g=>g?(typeof g=="string"?new Date(g):g).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A",M=g=>{const P={[Qe.AVAILABLE]:{color:"success",label:"Available"},[Qe.LEASED]:{color:"primary",label:"Leased"},[Qe.MAINTENANCE]:{color:"warning",label:"Maintenance"},[Qe.SOLD]:{color:"secondary",label:"Sold"},[Qe.LIQUID_ASSET]:{color:"info",label:"Liquid Asset"}}[g]||{color:"default",label:g};return r.jsx(de,{size:"small",color:P.color,label:P.label,sx:{fontSize:"0.75rem",height:20}})};return r.jsxs(r.Fragment,{children:[r.jsxs(Ie,{elevation:0,sx:{borderRadius:2,overflow:"hidden",border:"1px solid",borderColor:"divider"},children:[r.jsx(mr,{children:r.jsxs(xr,{size:"small",sx:{"& .MuiTableCell-root":{py:1,px:2}},children:[r.jsx(gr,{children:r.jsxs(st,{sx:{backgroundColor:F(u.palette.primary.main,.02)},children:[r.jsx(Z,{sx:{fontWeight:600,fontSize:"0.75rem"},children:"License Plate"}),r.jsx(Z,{sx:{fontWeight:600,fontSize:"0.75rem"},children:"Vehicle Info"}),r.jsx(Z,{sx:{fontWeight:600,fontSize:"0.75rem"},children:"Status"}),r.jsx(Z,{sx:{fontWeight:600,fontSize:"0.75rem"},children:"Financial"}),r.jsx(Z,{sx:{fontWeight:600,fontSize:"0.75rem"},children:"Insurance"}),r.jsx(Z,{sx:{fontWeight:600,fontSize:"0.75rem"},children:"Ownership"}),r.jsx(Z,{sx:{fontWeight:600,fontSize:"0.75rem"},children:"Operational"}),r.jsx(Z,{sx:{fontWeight:600,fontSize:"0.75rem",width:40},children:"Actions"})]})}),r.jsx(vr,{children:t?r.jsx(L8,{rowsPerPage:i}):e&&e.length>0?e.map(g=>{var D;return r.jsxs(st,{sx:{"&:hover":{backgroundColor:F(u.palette.primary.main,.02)},"&:nth-of-type(even)":{backgroundColor:F(u.palette.grey[500],.01)}},children:[r.jsx(Z,{sx:{fontSize:"0.8rem"},children:r.jsxs(w,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[r.jsx(v,{variant:"body2",sx:{fontWeight:600,fontSize:"0.8rem"},children:g.licensePlate}),r.jsxs(v,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem"},children:["VIN: ",g.vin||"N/A"]})]})}),r.jsx(Z,{sx:{fontSize:"0.8rem"},children:r.jsxs(w,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[r.jsxs(v,{variant:"body2",sx:{fontWeight:600,fontSize:"0.8rem"},children:[g.year," ",g.make," ",g.model]}),r.jsxs(v,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem"},children:[g.color?`${g.color} • `:"",((D=g.mileage)==null?void 0:D.toLocaleString())||0," mi"]})]})}),r.jsx(Z,{sx:{fontSize:"0.8rem"},children:r.jsxs(w,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[M(g.status),r.jsxs(v,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem"},children:["Updated: ",A(g.updatedAt)]})]})}),r.jsx(Z,{sx:{fontSize:"0.8rem"},children:r.jsxs(w,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[r.jsx(v,{variant:"body2",sx:{fontWeight:600,fontSize:"0.8rem"},children:T(g.currentValuation)}),r.jsxs(v,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem"},children:["Purchase: ",T(g.purchasePrice)]})]})}),r.jsx(Z,{sx:{fontSize:"0.8rem"},children:r.jsxs(w,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[r.jsx(v,{variant:"body2",sx:{fontSize:"0.8rem"},children:g.insuranceProvider||"Uninsured"}),r.jsx(v,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem"},children:g.insuranceExpiryDate?`Exp: ${A(g.insuranceExpiryDate)}`:"No expiry"})]})}),r.jsx(Z,{sx:{fontSize:"0.8rem"},children:r.jsxs(w,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[r.jsx(v,{variant:"body2",sx:{fontSize:"0.8rem"},children:g.legalOwner||"Company Owned"}),g.isLiquidAsset&&r.jsx(de,{size:"small",variant:"outlined",color:"info",label:"Liquid",sx:{height:16,fontSize:"0.6rem",mt:.5}})]})}),r.jsx(Z,{sx:{fontSize:"0.8rem"},children:r.jsxs(w,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[r.jsxs(v,{variant:"body2",sx:{fontSize:"0.8rem"},children:["Fuel: ",g.fuelType||"Unknown"]}),r.jsxs(v,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem"},children:["Condition: ",g.condition||"Unknown"]})]})}),r.jsx(Z,{sx:{fontSize:"0.8rem"},children:r.jsx(Ae,{onClick:P=>m(P,g),size:"small",sx:{p:.5,"&:hover":{backgroundColor:F(u.palette.primary.main,.1)}},children:r.jsx(_r,{fontSize:"small"})})})]},g.id)}):r.jsx(V8,{colSpan:7})})]})}),r.jsx(yr,{component:"div",count:n||0,page:Math.min(a,Math.max(0,Math.ceil((n||0)/i)-1)),rowsPerPage:i,rowsPerPageOptions:[5,10,25,50,100],onPageChange:(g,D)=>{console.log("Page change requested:",D,"Current total:",n),s(D)},onRowsPerPageChange:g=>{const D=parseInt(g.target.value,10);console.log("Rows per page change:",D),o(D)},labelRowsPerPage:"Rows per page:",labelDisplayedRows:({from:g,to:D,count:P})=>{const C=P===-1?n:P;return t?"Loading...":`${g}–${D} of ${C!==-1?C:`more than ${D}`}`},disabled:t,sx:{borderTop:`1px solid ${u.palette.divider}`,"& .MuiTablePagination-select":{pr:1},"& .MuiTablePagination-displayedRows":{fontSize:"0.875rem",color:u.palette.text.secondary},"&.Mui-disabled":{opacity:.6}}})]}),r.jsxs(Kn,{anchorEl:h,open:!!h,onClose:f,transformOrigin:{vertical:"top",horizontal:"right"},anchorOrigin:{vertical:"bottom",horizontal:"right"},PaperProps:{sx:{boxShadow:u.shadows[8],border:`1px solid ${u.palette.divider}`,borderRadius:2,minWidth:140}},children:[r.jsxs(ne,{onClick:()=>j((y==null?void 0:y.id)||""),sx:{gap:1.5,fontSize:"0.875rem","&:hover":{backgroundColor:F(u.palette.primary.main,.08)}},children:[r.jsx(Jn,{fontSize:"small",color:"primary"}),"View Details"]}),l&&r.jsxs(ne,{onClick:()=>$((y==null?void 0:y.id)||""),sx:{gap:1.5,fontSize:"0.875rem","&:hover":{backgroundColor:F(u.palette.warning.main,.08)}},children:[r.jsx(Ht,{fontSize:"small",color:"warning"}),"Edit Vehicle"]}),c&&(y==null?void 0:y.status)!==Qe.LEASED&&r.jsxs(ne,{onClick:()=>S((y==null?void 0:y.id)||""),sx:{gap:1.5,fontSize:"0.875rem","&:hover":{backgroundColor:F(u.palette.error.main,.08)}},children:[r.jsx(sn,{fontSize:"small",color:"error"}),"Delete Vehicle"]})]})]})},_8=({filters:e,onFilterChange:t})=>{const n=Ve(),[a,i]=x.useState(!1),s=Object.values(e).some(f=>f!==void 0&&f!==""&&f!==null),o=Object.keys(e).filter(f=>{const j=e[f];return j!==void 0&&j!==""&&j!==null}).length,l=f=>{t({...e,search:f})},c=f=>{const j={...e};f===""?delete j.status:j.status=f,t(j)},d=f=>{const j={...e};f===""?delete j.make:j.make=f,t(j)},u=f=>{const j={...e};f===""?delete j.model:j.model=f,t(j)},h=f=>{const j={...e};f===""?delete j.year:j.year=parseInt(f),t(j)},p=f=>{const j={...e};f===""?delete j.legalOwner:j.legalOwner=f,t(j)},y=f=>{const j={...e};f===""?delete j.isLiquidAsset:j.isLiquidAsset=f==="true",t(j)},b=()=>{t({})},m=f=>{const j={...e};delete j[f],t(j)};return r.jsx(Ie,{elevation:2,sx:{mb:3,borderRadius:2,overflow:"hidden",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:n.shadows[4]}},children:r.jsxs(w,{sx:{p:2},children:[r.jsxs(N,{container:!0,spacing:2,alignItems:"center",children:[r.jsx(N,{item:!0,xs:12,md:8,children:r.jsx(fe,{id:"vehicle-search-field",placeholder:"Search vehicles by license plate, VIN, make, model...",value:e.search||"",onChange:f=>l(f.target.value),fullWidth:!0,variant:"outlined",InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(en,{color:"action"})}),endAdornment:e.search&&r.jsx($e,{position:"end",children:r.jsx(ot,{title:"Clear search",children:r.jsx(Ae,{size:"small",onClick:()=>l(""),edge:"end",children:r.jsx(Gt,{fontSize:"small"})})})}),sx:{borderRadius:2,transition:"all 0.2s","&.Mui-focused":{boxShadow:`0 0 0 2px ${F(n.palette.primary.main,.25)}`}}}})}),r.jsx(N,{item:!0,xs:12,md:4,children:r.jsxs(w,{sx:{display:"flex",gap:1,justifyContent:{xs:"flex-start",md:"flex-end"}},children:[r.jsxs(Je,{sx:{minWidth:140},children:[r.jsx(at,{id:"vehicle-status-label",size:"small",children:"Vehicle Status"}),r.jsxs(it,{labelId:"vehicle-status-label",value:e.status||"",onChange:f=>c(f.target.value),label:"Vehicle Status",size:"small",sx:{borderRadius:2,"& .MuiOutlinedInput-notchedOutline":{transition:"all 0.2s"}},children:[r.jsx(ne,{value:"",children:"All Status"}),r.jsx(ne,{value:Qe.AVAILABLE,children:r.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(pt,{fontSize:"small",sx:{mr:1,color:n.palette.success.main}}),"Available"]})}),r.jsx(ne,{value:Qe.LEASED,children:r.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(tn,{fontSize:"small",sx:{mr:1,color:n.palette.primary.main}}),"Leased"]})}),r.jsx(ne,{value:Qe.MAINTENANCE,children:r.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Ig,{fontSize:"small",sx:{mr:1,color:n.palette.warning.main}}),"Maintenance"]})}),r.jsx(ne,{value:Qe.SOLD,children:r.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Yt,{fontSize:"small",sx:{mr:1,color:n.palette.secondary.main}}),"Sold"]})}),r.jsx(ne,{value:Qe.LIQUID_ASSET,children:r.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Yt,{fontSize:"small",sx:{mr:1,color:n.palette.info.main}}),"Liquid Asset"]})})]})]}),r.jsx(ot,{title:a?"Hide advanced filters":"Show advanced filters",children:r.jsxs(Ae,{onClick:()=>i(!a),color:s?"primary":"default",sx:{borderRadius:2,border:`1px solid ${n.palette.divider}`,position:"relative"},children:[r.jsx(Wr,{fontSize:"small"}),o>0&&r.jsx(de,{size:"small",label:o,color:"primary",sx:{position:"absolute",top:-8,right:-8,minWidth:20,height:20,fontSize:"0.75rem"}})]})})]})})]}),r.jsx($n,{in:a,children:r.jsxs(w,{sx:{mt:3,pt:2,borderTop:`1px solid ${n.palette.divider}`},children:[r.jsx(v,{variant:"subtitle2",gutterBottom:!0,sx:{color:n.palette.text.secondary,mb:2},children:"Advanced Filters"}),r.jsxs(N,{container:!0,spacing:2,children:[r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsx(fe,{label:"Make",value:e.make||"",onChange:f=>d(f.target.value),fullWidth:!0,size:"small",placeholder:"e.g. Toyota, BMW",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsx(fe,{label:"Model",value:e.model||"",onChange:f=>u(f.target.value),fullWidth:!0,size:"small",placeholder:"e.g. Corolla, X5",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),r.jsx(N,{item:!0,xs:12,sm:6,md:2,children:r.jsx(fe,{label:"Year",type:"number",value:e.year||"",onChange:f=>h(f.target.value),fullWidth:!0,size:"small",inputProps:{min:1900,max:new Date().getFullYear()+1},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}),r.jsx(N,{item:!0,xs:12,sm:6,md:2,children:r.jsxs(Je,{fullWidth:!0,size:"small",children:[r.jsx(at,{children:"Liquid Asset"}),r.jsxs(it,{value:e.isLiquidAsset===void 0?"":e.isLiquidAsset.toString(),onChange:f=>y(f.target.value),label:"Liquid Asset",sx:{borderRadius:2},children:[r.jsx(ne,{value:"",children:"All"}),r.jsx(ne,{value:"true",children:"Yes"}),r.jsx(ne,{value:"false",children:"No"})]})]})}),r.jsx(N,{item:!0,xs:12,sm:6,md:2,children:r.jsx(fe,{label:"Legal Owner",value:e.legalOwner||"",onChange:f=>p(f.target.value),fullWidth:!0,size:"small",placeholder:"Owner name",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})})]})]})}),s&&r.jsx(w,{sx:{mt:2,pt:2,borderTop:`1px solid ${n.palette.divider}`},children:r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[r.jsx(v,{variant:"caption",sx:{color:n.palette.text.secondary,mr:1},children:"Active Filters:"}),e.search&&r.jsx(de,{label:`Search: "${e.search}"`,onDelete:()=>m("search"),size:"small",variant:"outlined",color:"primary"}),e.status&&r.jsx(de,{label:`Status: ${e.status}`,onDelete:()=>m("status"),size:"small",variant:"outlined",color:"primary"}),e.make&&r.jsx(de,{label:`Make: ${e.make}`,onDelete:()=>m("make"),size:"small",variant:"outlined",color:"primary"}),e.model&&r.jsx(de,{label:`Model: ${e.model}`,onDelete:()=>m("model"),size:"small",variant:"outlined",color:"primary"}),e.year&&r.jsx(de,{label:`Year: ${e.year}`,onDelete:()=>m("year"),size:"small",variant:"outlined",color:"primary"}),e.legalOwner&&r.jsx(de,{label:`Owner: ${e.legalOwner}`,onDelete:()=>m("legalOwner"),size:"small",variant:"outlined",color:"primary"}),e.isLiquidAsset!==void 0&&r.jsx(de,{label:`Liquid Asset: ${e.isLiquidAsset?"Yes":"No"}`,onDelete:()=>m("isLiquidAsset"),size:"small",variant:"outlined",color:"primary"}),r.jsx(ue,{size:"small",onClick:b,sx:{ml:1,textTransform:"none",borderRadius:2},children:"Clear All"})]})})]})})},W8=()=>{const e=Ta(),{vehicles:t,loading:n,error:a,filters:i,totalCount:s}=_o(c=>c.vehicles),o=x.useRef(""),l=x.useCallback(async()=>{const c=JSON.stringify(i);if(c===o.current){console.log("Same filters as last call, skipping vehicle API request");return}if(n){console.log("Already loading vehicles, skipping API call");return}o.current=c,e(nh(!0));try{console.log("Fetching vehicles with filters:",i);const d=await ja.getVehicles(i);console.log("Received vehicle result:",d),e(Hj({vehicles:d.vehicles,total:d.total}))}catch(d){console.error("Error fetching vehicles:",d),e(Yj((d==null?void 0:d.message)||"Failed to fetch vehicles"))}finally{e(nh(!1))}},[e,i,n]);return x.useEffect(()=>{l()},[l]),{vehicles:t,loading:n,error:a,totalCount:s,refetch:l}},B8=()=>{const e=yt(),t=Ta(),{vehicles:n,loading:a,error:i,totalCount:s}=W8(),[o,l]=x.useState(null),[c,d]=x.useState(!1),[u,h]=x.useState(0),[p,y]=x.useState(10),[b,m]=x.useState(""),[f,j]=x.useState(""),[$,S]=x.useState(""),[T,A]=x.useState(""),[M,g]=x.useState(""),[D,P]=x.useState(void 0),[C,k]=x.useState(void 0),R=Ax(b,500);re.useEffect(()=>{const X=R!==""||f!==""||$!==""||T!==""||M!==""||D!==void 0||C!==void 0,J=X&&u>0?0:u;X&&u>0&&h(0);const ie=setTimeout(()=>{t(Gj({search:R||void 0,status:f||void 0,legalOwner:$||void 0,make:T||void 0,model:M||void 0,year:D,isLiquidAsset:C,limit:p,offset:J*p}))},50);return()=>clearTimeout(ie)},[R,f,$,T,M,D,C,u,p,t]);const O=async()=>{try{const X=await ja.getVehicleStatistics();l(X)}catch(X){console.error("Error fetching vehicle statistics:",X)}};x.useEffect(()=>{O()},[]);const E=async()=>{d(!0);try{await O()}finally{d(!1)}},I=X=>{h(X)},V=X=>{y(X),h(0)},U=X=>{m(X.search||""),j(X.status||""),S(X.legalOwner||""),A(X.make||""),g(X.model||""),P(X.year),k(X.isLiquidAsset)},_=()=>{e("/vehicles/new")},z=X=>{e(`/vehicles/${X}/edit`)},B=async X=>{if(window.confirm("Are you sure you want to delete this vehicle?"))try{await ja.deleteVehicle(X),n.length===1&&u>0&&h(u-1)}catch(J){console.error("Error deleting vehicle:",J)}},Q=()=>{console.log("Export vehicles")},se=X=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(X);return r.jsxs(w,{children:[r.jsxs(w,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(w,{children:[r.jsx(v,{variant:"h4",sx:{fontWeight:700,mb:.5},children:"Vehicles"}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Manage your fleet vehicles and track their status"})]}),r.jsxs(w,{sx:{display:"flex",gap:1.5},children:[r.jsx(ue,{variant:"outlined",startIcon:r.jsx(va,{}),onClick:Q,disabled:!n||n.length===0,children:"Export"}),r.jsx(ue,{variant:"outlined",startIcon:r.jsx(pr,{}),onClick:E,disabled:c,children:"Refresh"}),r.jsx(ue,{variant:"contained",startIcon:r.jsx(Zt,{}),onClick:_,children:"Add Vehicle"})]})]}),o&&r.jsxs(w,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:2,mb:3},children:[r.jsxs(Ie,{elevation:0,sx:{p:3,textAlign:"center",border:"1px solid",borderColor:"divider",borderRadius:2},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:1},children:[r.jsx(pt,{sx:{color:"primary.main",mr:1}}),r.jsx(v,{variant:"h4",sx:{fontWeight:700,color:"primary.main"},children:o.totalVehicles})]}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Total Vehicles"})]}),r.jsxs(Ie,{elevation:0,sx:{p:3,textAlign:"center",border:"1px solid",borderColor:"divider",borderRadius:2},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:1},children:[r.jsx(lt,{sx:{color:"success.main",mr:1}}),r.jsx(v,{variant:"h4",sx:{fontWeight:700,color:"success.main"},children:o.availableVehicles})]}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Available"})]}),r.jsxs(Ie,{elevation:0,sx:{p:3,textAlign:"center",border:"1px solid",borderColor:"divider",borderRadius:2},children:[r.jsx(w,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:1},children:r.jsx(v,{variant:"h4",sx:{fontWeight:700,color:"info.main"},children:o.leasedVehicles})}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Leased"})]}),r.jsxs(Ie,{elevation:0,sx:{p:3,textAlign:"center",border:"1px solid",borderColor:"divider",borderRadius:2},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:1},children:[r.jsx(Lo,{sx:{color:"warning.main",mr:1}}),r.jsx(v,{variant:"h4",sx:{fontWeight:700,color:"warning.main"},children:o.maintenanceVehicles})]}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Maintenance"})]}),r.jsxs(Ie,{elevation:0,sx:{p:3,textAlign:"center",border:"1px solid",borderColor:"divider",borderRadius:2},children:[r.jsx(v,{variant:"h4",sx:{fontWeight:700,color:"text.primary",mb:1},children:se(o.totalValue)}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Total Value"})]})]}),r.jsx(_8,{filters:{search:b,status:f||void 0,legalOwner:$||void 0,make:T||void 0,model:M||void 0,year:D,isLiquidAsset:C},onFilterChange:U}),i&&r.jsx(_e,{severity:"error",sx:{mb:3},children:i}),r.jsx(z8,{vehicles:n,loading:a,totalCount:s,page:u,rowsPerPage:p,onPageChange:I,onRowsPerPageChange:V,onEdit:z,onDelete:B})]})},U8=(e,t)=>{const[n,a]=x.useState({search:"",eventType:"",entityType:e||"",startDate:"",endDate:""}),[i,s]=x.useState(0),[o,l]=x.useState(25),[c,d]=x.useState("desc"),[u,h]=x.useState("actionTimestamp"),p=x.useMemo(()=>{const S={limit:o,offset:i*o,search:n.search||void 0,eventTypes:n.eventType?[n.eventType]:void 0,entityType:n.entityType||void 0,startDate:n.startDate||void 0,endDate:n.endDate||void 0};return t&&(S.entityId=t),S},[n,i,o,t]),{data:y,isLoading:b,error:m,refetch:f}=Y3(p),j=(y==null?void 0:y.data)||[],$=(y==null?void 0:y.total)||0;return x.useEffect(()=>{s(0)},[n]),{logs:j,totalCount:$,loading:b,error:m,refetch:f,filters:n,setFilters:a,page:i,rowsPerPage:o,order:c,orderBy:u,setPage:s,setRowsPerPage:l,setOrder:d,setOrderBy:h}},ef=[{value:"",label:"All Events"},{value:"create",label:"Create",icon:r.jsx(Zt,{fontSize:"small"})},{value:"update",label:"Update",icon:r.jsx(Ht,{fontSize:"small"})},{value:"delete",label:"Delete",icon:r.jsx(sn,{fontSize:"small"})},{value:"login",label:"Login",icon:r.jsx(Ff,{fontSize:"small"})},{value:"logout",label:"Logout",icon:r.jsx(Xc,{fontSize:"small"})},{value:"entity_created",label:"Entity Created",icon:r.jsx(Zt,{fontSize:"small"})},{value:"entity_updated",label:"Entity Updated",icon:r.jsx(Ht,{fontSize:"small"})},{value:"status_changed",label:"Status Changed",icon:r.jsx(Ht,{fontSize:"small"})}],tf=[{value:"",label:"All Entities"},{value:"customer",label:"Customer",icon:r.jsx(tn,{fontSize:"small"})},{value:"vehicle",label:"Vehicle",icon:r.jsx(pt,{fontSize:"small"})},{value:"contract",label:"Contract",icon:r.jsx(hr,{fontSize:"small"})},{value:"payment",label:"Payment",icon:r.jsx(Zn,{fontSize:"small"})},{value:"user",label:"User",icon:r.jsx(et,{fontSize:"small"})},{value:"collateral",label:"Collateral",icon:r.jsx(hr,{fontSize:"small"})}],q8=({filters:e,onFilterChange:t,logsCount:n=0})=>{var y,b;const a=Ve(),[i,s]=re.useState(!1),o=(m,f)=>{t({...e,[m]:f})},l=()=>{t({search:"",eventType:"",entityType:"",startDate:"",endDate:""})},c=()=>{s(!i)},d=!!(e.search||e.eventType||e.entityType||e.startDate||e.endDate),u=[e.search,e.eventType,e.entityType,e.startDate,e.endDate].filter(Boolean).length,h=m=>ef.find(f=>f.value===m),p=m=>tf.find(f=>f.value===m);return r.jsx(Ur,{dateAdapter:_0,children:r.jsx(Ie,{elevation:2,sx:{mb:3,borderRadius:2,overflow:"hidden",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:a.shadows[4]}},children:r.jsxs(w,{sx:{p:2},children:[r.jsxs(N,{container:!0,spacing:2,alignItems:"center",children:[r.jsx(N,{item:!0,xs:12,md:8,children:r.jsx(fe,{id:"audit-log-search-field",placeholder:"Search logs by event type, entity, user, or description...",value:e.search,onChange:m=>o("search",m.target.value),fullWidth:!0,variant:"outlined",InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(en,{color:"action"})}),endAdornment:e.search&&r.jsx($e,{position:"end",children:r.jsx(ot,{title:"Clear search",children:r.jsx(Ae,{onClick:()=>o("search",""),size:"small",children:r.jsx(Gt,{})})})})}})}),r.jsx(N,{item:!0,xs:12,md:4,children:r.jsxs(w,{sx:{display:"flex",gap:1,justifyContent:"flex-end"},children:[r.jsxs(ue,{variant:"outlined",startIcon:r.jsx(Wr,{}),onClick:c,sx:{textTransform:"none",position:"relative"},children:["Filters",u>0&&r.jsx(de,{label:u,size:"small",sx:{ml:1,height:18,fontSize:"0.7rem"},color:"primary"})]}),d&&r.jsx(ue,{variant:"text",startIcon:r.jsx(Gt,{}),onClick:l,sx:{textTransform:"none",color:a.palette.text.secondary},children:"Clear"})]})})]}),r.jsx($n,{in:i,children:r.jsxs(w,{sx:{mt:2,pt:2,borderTop:`1px solid ${a.palette.divider}`},children:[r.jsxs(N,{container:!0,spacing:2,children:[r.jsx(N,{item:!0,xs:12,md:3,children:r.jsxs(Je,{fullWidth:!0,size:"small",children:[r.jsx(at,{children:"Event Type"}),r.jsx(it,{value:e.eventType,label:"Event Type",onChange:m=>o("eventType",m.target.value),startAdornment:r.jsx($e,{position:"start",children:r.jsx(ld,{fontSize:"small"})}),children:ef.map(m=>r.jsx(ne,{value:m.value,children:r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1},children:[m.icon,m.label]})},m.value))})]})}),r.jsx(N,{item:!0,xs:12,md:3,children:r.jsxs(Je,{fullWidth:!0,size:"small",children:[r.jsx(at,{children:"Entity Type"}),r.jsx(it,{value:e.entityType,label:"Entity Type",onChange:m=>o("entityType",m.target.value),startAdornment:r.jsx($e,{position:"start",children:r.jsx(Nf,{fontSize:"small"})}),children:tf.map(m=>r.jsx(ne,{value:m.value,children:r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1},children:[m.icon,m.label]})},m.value))})]})}),r.jsx(N,{item:!0,xs:12,md:3,children:r.jsx(Rr,{label:"Start Date",value:e.startDate?new Date(e.startDate):null,onChange:m=>o("startDate",m?m.toISOString():""),slotProps:{textField:{size:"small",fullWidth:!0,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(Gn,{fontSize:"small"})})}}}})}),r.jsx(N,{item:!0,xs:12,md:3,children:r.jsx(Rr,{label:"End Date",value:e.endDate?new Date(e.endDate):null,onChange:m=>o("endDate",m?m.toISOString():""),slotProps:{textField:{size:"small",fullWidth:!0,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(Gn,{fontSize:"small"})})}}}})})]}),d&&r.jsxs(w,{sx:{mt:2},children:[r.jsx(v,{variant:"caption",color:"text.secondary",sx:{mr:1},children:"Active filters:"}),e.search&&r.jsx(de,{label:`Search: "${e.search}"`,size:"small",onDelete:()=>o("search",""),sx:{mr:.5,mb:.5}}),e.eventType&&r.jsx(de,{label:`Event: ${((y=h(e.eventType))==null?void 0:y.label)||e.eventType}`,size:"small",onDelete:()=>o("eventType",""),sx:{mr:.5,mb:.5}}),e.entityType&&r.jsx(de,{label:`Entity: ${((b=p(e.entityType))==null?void 0:b.label)||e.entityType}`,size:"small",onDelete:()=>o("entityType",""),sx:{mr:.5,mb:.5}}),e.startDate&&r.jsx(de,{label:`From: ${new Date(e.startDate).toLocaleDateString()}`,size:"small",onDelete:()=>o("startDate",""),sx:{mr:.5,mb:.5}}),e.endDate&&r.jsx(de,{label:`To: ${new Date(e.endDate).toLocaleDateString()}`,size:"small",onDelete:()=>o("endDate",""),sx:{mr:.5,mb:.5}})]})]})}),n>0&&r.jsx(w,{sx:{mt:1,pt:1,borderTop:i||d?"none":`1px solid ${F(a.palette.divider,.5)}`},children:r.jsxs(v,{variant:"caption",color:"text.secondary",children:[n," log",n!==1?"s":""," found",d&&" (filtered)"]})})]})})})},H8=e=>{switch(e.toLowerCase()){case"create":case"entity_created":return r.jsx(Zt,{fontSize:"small"});case"update":case"entity_updated":case"status_changed":return r.jsx(Ht,{fontSize:"small"});case"delete":return r.jsx(sn,{fontSize:"small"});case"login":return r.jsx(Ff,{fontSize:"small"});case"logout":return r.jsx(Xc,{fontSize:"small"});default:return r.jsx($a,{fontSize:"small"})}},Y8=e=>{switch(e.toLowerCase()){case"user":return r.jsx(et,{fontSize:"small"});case"customer":return r.jsx(tn,{fontSize:"small"});case"vehicle":return r.jsx(pt,{fontSize:"small"});case"contract":case"collateral":return r.jsx(hr,{fontSize:"small"});case"payment":return r.jsx(Zn,{fontSize:"small"});default:return r.jsx($a,{fontSize:"small"})}},G8=H8,Q8=Y8,nf=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch{return"Invalid Date"}},K8=[10,25,50,100],Z8=()=>{const e=Ve(),{logs:t,totalCount:n,loading:a,error:i,refetch:s,filters:o,setFilters:l,page:c,rowsPerPage:d,order:u,orderBy:h,setPage:p,setRowsPerPage:y,setOrder:b,setOrderBy:m}=U8(),[f,j]=x.useState(new Set),[$,S]=x.useState({open:!1,message:"",severity:"info"}),T=()=>{l({search:"",eventType:"",entityType:"",startDate:"",endDate:""})},A=C=>{const k=new Set(f);k.has(C)?k.delete(C):k.add(C),j(k)},M=C=>{b(h===C&&u==="asc"?"desc":"asc"),m(C)},g=(C,k)=>{p(k)},D=C=>{y(parseInt(C.target.value,10)),p(0)},P=()=>{S(C=>({...C,open:!1}))};return a&&t.length===0?r.jsx(Ie,{elevation:2,sx:{borderRadius:2,overflow:"hidden",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:e.shadows[4]}},children:r.jsxs(w,{sx:{p:3},children:[r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[r.jsx(le,{variant:"text",width:200,height:32}),r.jsx(le,{variant:"rectangular",width:100,height:36,sx:{borderRadius:1}})]}),r.jsx(Ee,{sx:{mb:2}}),r.jsx(w,{sx:{display:"flex",mb:1.5},children:["20%","15%","35%","15%","15%"].map((C,k)=>r.jsx(le,{variant:"text",width:C,height:24,sx:{mr:2}},k))}),[...Array(5)].map((C,k)=>r.jsx(w,{sx:{py:2,display:"flex",alignItems:"center",borderBottom:k<4?`1px solid ${e.palette.divider}`:"none"},children:["20%","15%","35%","15%","15%"].map((R,O)=>r.jsx(le,{variant:"text",width:R,height:24,sx:{mr:2}},O))},k)),r.jsx(w,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:r.jsx(le,{variant:"rectangular",width:300,height:36,sx:{borderRadius:1}})})]})}):i&&!t.length?r.jsxs(w,{sx:{p:3},children:[r.jsx(_e,{severity:"error",sx:{mb:2},children:"Failed to load audit logs. Please try again."}),r.jsx(ue,{variant:"contained",onClick:()=>s(),children:"Retry"})]}):r.jsxs(w,{sx:{p:3},children:[r.jsx(w,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:r.jsxs(w,{children:[r.jsx(v,{variant:"h5",fontWeight:600,sx:{mb:.5},children:"System Audit Logs"}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"View system-wide activity and audit events"})]})}),r.jsx(w,{sx:{mb:3},children:r.jsx(q8,{filters:o,onFilterChange:l,logsCount:n})}),r.jsxs(Ie,{elevation:2,sx:{borderRadius:2,overflow:"hidden",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:e.shadows[4]}},children:[r.jsx(mr,{children:r.jsxs(xr,{children:[r.jsx(gr,{children:r.jsxs(st,{children:[r.jsx(Z,{width:"40px"}),r.jsx(Z,{children:r.jsx(Ge,{active:h==="actionTimestamp",direction:h==="actionTimestamp"?u:"asc",onClick:()=>M("actionTimestamp"),children:"Event & Time"})}),r.jsx(Z,{children:r.jsx(Ge,{active:h==="entityType",direction:h==="entityType"?u:"asc",onClick:()=>M("entityType"),children:"Entity"})}),r.jsx(Z,{children:"Changes"}),r.jsx(Z,{children:"User & Metadata"})]})}),r.jsxs(vr,{children:[t.map(C=>r.jsxs(re.Fragment,{children:[r.jsxs(st,{hover:!0,sx:{transition:"all 0.2s","&:hover":{backgroundColor:F(e.palette.primary.main,.02)}},children:[r.jsx(Z,{children:r.jsx(Ae,{size:"small",onClick:()=>A(C.id),children:f.has(C.id)?r.jsx(No,{}):r.jsx(hi,{})})}),r.jsx(Z,{children:r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(pn,{sx:{width:32,height:32},children:G8(C.eventType)}),r.jsxs(w,{children:[r.jsx(v,{variant:"body2",fontWeight:"medium",children:C.eventType?C.eventType.replace("_"," ").replace(/\b\w/g,k=>k.toUpperCase()):"Unknown Event"}),r.jsx(v,{variant:"caption",color:"text.secondary",children:C.actionTimestamp?nf(C.actionTimestamp):C.createdAt?nf(C.createdAt):"No timestamp"})]})]})}),r.jsxs(Z,{children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[Q8(C.entityType),r.jsx(de,{label:C.entityType?C.entityType.charAt(0).toUpperCase()+C.entityType.slice(1):"Unknown",size:"small",variant:"outlined"})]}),C.entityId&&r.jsxs(v,{variant:"caption",color:"text.secondary",display:"block",children:["ID: ",C.entityId.slice(0,8),"..."]})]}),r.jsx(Z,{children:r.jsxs(w,{sx:{maxWidth:300},children:[C.eventType==="entity_created"&&C.newValues&&r.jsxs(w,{children:[r.jsxs(v,{variant:"body2",fontWeight:"medium",color:"success.main",children:["Created new ",C.entityType]}),C.newValues.name&&r.jsxs(v,{variant:"caption",display:"block",color:"text.secondary",children:["Name: ",C.newValues.name]}),C.newValues.email&&r.jsxs(v,{variant:"caption",display:"block",color:"text.secondary",children:["Email: ",C.newValues.email]}),C.newValues.type&&r.jsxs(v,{variant:"caption",display:"block",color:"text.secondary",children:["Type: ",C.newValues.type]})]}),C.eventType==="entity_updated"&&r.jsxs(w,{children:[r.jsxs(v,{variant:"body2",fontWeight:"medium",color:"warning.main",children:["Updated ",C.entityType]}),C.oldValues&&C.newValues&&r.jsxs(w,{sx:{mt:.5},children:[Object.keys(C.newValues).slice(0,3).map(k=>{var R,O;return r.jsxs(v,{variant:"caption",display:"block",color:"text.secondary",children:[k,": ",(R=C.oldValues)==null?void 0:R[k]," → ",(O=C.newValues)==null?void 0:O[k]]},k)}),Object.keys(C.newValues).length>3&&r.jsxs(v,{variant:"caption",color:"text.secondary",children:["+",Object.keys(C.newValues).length-3," more changes"]})]})]}),C.eventType==="entity_deleted"&&r.jsxs(v,{variant:"body2",fontWeight:"medium",color:"error.main",children:["Deleted ",C.entityType]}),!["entity_created","entity_updated","entity_deleted"].includes(C.eventType||"")&&r.jsx(v,{variant:"body2",children:C.eventType?C.eventType.replace("_"," "):"Unknown action"})]})}),r.jsx(Z,{children:r.jsxs(w,{children:[r.jsx(v,{variant:"body2",fontWeight:"medium",children:C.userId||"System"}),C.metadata&&r.jsxs(w,{sx:{mt:.5},children:[C.metadata.userType&&r.jsx(de,{label:`User: ${C.metadata.userType}`,size:"small",variant:"outlined",sx:{mr:.5,mb:.5}}),C.metadata.ipAddress&&r.jsxs(v,{variant:"caption",display:"block",color:"text.secondary",children:["IP: ",C.metadata.ipAddress]})]})]})})]}),r.jsx(st,{children:r.jsx(Z,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:r.jsx($n,{in:f.has(C.id),timeout:"auto",unmountOnExit:!0,children:r.jsxs(w,{sx:{p:2,bgcolor:F(e.palette.grey[50],.5),borderLeft:`3px solid ${e.palette.primary.main}`},children:[r.jsxs(w,{sx:{mb:2},children:[r.jsx(v,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Basic Information"}),r.jsxs(N,{container:!0,spacing:1,children:[r.jsxs(N,{item:!0,xs:3,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"Event Type"}),r.jsx(v,{variant:"body2",children:C.eventType})]}),r.jsxs(N,{item:!0,xs:3,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"Entity Type"}),r.jsx(v,{variant:"body2",children:C.entityType})]}),r.jsxs(N,{item:!0,xs:3,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"Entity ID"}),r.jsx(v,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.75rem"},children:C.entityId})]}),r.jsxs(N,{item:!0,xs:3,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"User ID"}),r.jsx(v,{variant:"body2",children:C.userId})]})]})]}),r.jsxs(w,{sx:{mb:2},children:[r.jsx(v,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Timestamps"}),r.jsxs(N,{container:!0,spacing:1,children:[r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"Action Timestamp"}),r.jsx(v,{variant:"body2",children:C.actionTimestamp})]}),r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"Created At"}),r.jsx(v,{variant:"body2",children:C.createdAt})]})]})]}),C.metadata&&r.jsxs(w,{sx:{mb:2},children:[r.jsx(v,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Metadata"}),r.jsx(v,{component:"pre",sx:{fontFamily:"monospace",fontSize:"0.75rem",bgcolor:e.palette.background.paper,p:1,borderRadius:1,border:`1px solid ${e.palette.divider}`,maxHeight:200,overflow:"auto",margin:0},children:JSON.stringify(C.metadata,null,2)})]}),(C.oldValues||C.newValues)&&r.jsxs(w,{children:[r.jsx(v,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Value Changes"}),r.jsxs(N,{container:!0,spacing:1,children:[C.oldValues&&r.jsxs(N,{item:!0,xs:C.newValues?6:12,children:[r.jsx(v,{variant:"caption",color:"error.main",sx:{fontWeight:600},children:"Previous Values"}),r.jsx(v,{component:"pre",sx:{fontFamily:"monospace",fontSize:"0.75rem",bgcolor:F(e.palette.error.main,.05),p:1,borderRadius:1,border:`1px solid ${F(e.palette.error.main,.2)}`,maxHeight:200,overflow:"auto",margin:0},children:JSON.stringify(C.oldValues,null,2)})]}),C.newValues&&r.jsxs(N,{item:!0,xs:C.oldValues?6:12,children:[r.jsx(v,{variant:"caption",color:"success.main",sx:{fontWeight:600},children:C.oldValues?"New Values":"Created Values"}),r.jsx(v,{component:"pre",sx:{fontFamily:"monospace",fontSize:"0.75rem",bgcolor:F(e.palette.success.main,.05),p:1,borderRadius:1,border:`1px solid ${F(e.palette.success.main,.2)}`,maxHeight:200,overflow:"auto",margin:0},children:JSON.stringify(C.newValues,null,2)})]})]})]})]})})})})]},C.id)),t.length===0&&!a&&r.jsx(st,{children:r.jsx(Z,{colSpan:5,align:"center",sx:{py:6},children:r.jsxs(w,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:3},children:[r.jsx(w,{sx:{bgcolor:F(e.palette.primary.main,.05),borderRadius:"50%",p:2,mb:2},children:r.jsx(Xn,{sx:{fontSize:48,color:e.palette.primary.main,opacity:.7}})}),r.jsx(v,{variant:"h6",gutterBottom:!0,children:"No audit logs found"}),r.jsx(v,{variant:"body2",color:"textSecondary",align:"center",sx:{maxWidth:500,mb:3},children:Object.values(o).some(C=>C!=="")?"No logs match your current filter criteria.":"No audit logs are available yet."}),Object.values(o).some(C=>C!=="")&&r.jsx(ue,{variant:"outlined",onClick:T,children:"Clear Filters"})]})})})]})]})}),r.jsx(yr,{component:"div",count:n||0,page:Math.min(c,Math.max(0,Math.ceil((n||0)/d)-1)),onPageChange:g,rowsPerPage:d,onRowsPerPageChange:D,rowsPerPageOptions:K8,labelRowsPerPage:"Rows per page:",labelDisplayedRows:({from:C,to:k,count:R})=>a?"Loading...":`${C}–${k} of ${R!==-1?R:`more than ${k}`}`,disabled:a,sx:{borderTop:`1px solid ${e.palette.divider}`,"& .MuiTablePagination-select":{pr:1},"& .MuiTablePagination-displayedRows":{fontSize:"0.875rem",color:e.palette.text.secondary},"&.Mui-disabled":{opacity:.6}}})]}),r.jsx(pi,{open:$.open,autoHideDuration:6e3,onClose:P,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:r.jsx(_e,{onClose:P,severity:$.severity,variant:"filled",sx:{width:"100%"},children:$.message})})]})},X8=()=>{const{id:e}=Mn(),t=yt(),i=br().pathname.includes("/endorsers/")?"endorsers":"customers",s=()=>{t(`/${i}/${e}`)},o=()=>{t(`/${i}/${e}`)};return e?r.jsx(w,{sx:{minHeight:"100vh",bgcolor:"background.default",py:4},children:r.jsxs(w,{sx:{maxWidth:1200,mx:"auto",px:3},children:[r.jsxs(w,{sx:{mb:4,textAlign:"center"},children:[r.jsx(v,{variant:"h3",component:"h1",gutterBottom:!0,fontWeight:"bold",children:"Edit Customer"}),r.jsx(v,{variant:"h6",color:"text.secondary",children:"Update customer information"})]}),r.jsx(f5,{customerId:e,variant:"card",showHeader:!1,onEditComplete:s,onCancel:o})]})}):r.jsx(w,{sx:{p:3},children:r.jsx(v,{variant:"h6",color:"error",children:"Customer ID is required"})})},U0=e=>{const t=Ta(),{selectedCustomer:n,loading:a,error:i}=_o(s=>s.customers);return x.useEffect(()=>{(async()=>{if(!e){console.log("useCustomer: No ID provided");return}console.log("useCustomer: Fetching customer with ID:",e),t(Bi(!0)),t(Cc(null));try{const o=await wn.getById(e);console.log("useCustomer: Customer fetched successfully:",o),t(Gm(o)),t(Bi(!1))}catch(o){console.error("useCustomer: Error fetching customer:",o);const l=o instanceof Error?o.message:"Failed to fetch customer";t(Cc(l)),t(Bi(!1))}})()},[e,t]),{customer:n,loading:a,error:i}},J8=e=>{if(!e)return"Customer";const t=(e==null?void 0:e.customer)||e;if((t==null?void 0:t.type)===we.INDIVIDUAL){const n=(t==null?void 0:t.firstName)||"",a=(t==null?void 0:t.lastName)||"";return`${n} ${a}`.trim()||"Customer"}else{if((t==null?void 0:t.type)===we.BUSINESS)return(t==null?void 0:t.legalName)||"Business Customer";if((t==null?void 0:t.type)===we.ENDORSER){const n=(t==null?void 0:t.firstName)||"",a=(t==null?void 0:t.lastName)||"";return`${n} ${a}`.trim()||"Endorser Customer"}else return"Customer"}},e9=(e,t)=>{const n=t.find(a=>e.includes(a.path));return n?t.indexOf(n):0},rc=[{text:"Summary",path:"summary",icon:r.jsx(Fo,{}),description:"Customer overview and account details"},{text:"Contracts",path:"contracts",icon:r.jsx(yn,{}),description:"Active and historical contracts"},{text:"Invoices",path:"invoices",icon:r.jsx(Sn,{}),description:"Payments and billing history"},{text:"Vehicles",path:"vehicles",icon:r.jsx(uc,{}),description:"Fleet vehicles and assets"},{text:"Logs",path:"logs",icon:r.jsx(Xn,{}),description:"Activity and audit logs"},{text:"Settings",path:"edit",icon:r.jsx(Df,{}),description:"Edit customer information"}],t9=()=>{const e=br(),{id:t}=Mn(),n=yt(),a=Ve(),i=Ro(a.breakpoints.down("md")),{customer:s}=U0(t||""),o=x.useMemo(()=>J8(s),[s]),l=x.useMemo(()=>e9(e.pathname,rc),[e.pathname]),c=x.useCallback((u,h)=>{const p=rc[h];if(p&&t){const y=e.pathname,b=`/customers/${t}/${p.path}`;y!==b&&n(b)}},[t,n,e.pathname]),d=x.useCallback(()=>{n("/customers")},[n]);return{id:t,customer:s,customerName:o,currentTab:l,isSmallScreen:i,theme:a,handleTabChange:c,handleBackClick:d,menuItems:rc}},n9=()=>{const{id:e,customerName:t,currentTab:n,isSmallScreen:a,theme:i,handleTabChange:s,handleBackClick:o,menuItems:l}=t9();return e?r.jsx(cc,{position:"static",color:"inherit",elevation:1,sx:{backgroundColor:i.palette.background.paper,borderBottom:`1px solid ${i.palette.divider}`},children:r.jsx(dc,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:{xs:52,sm:64},px:{xs:.5,sm:1.5}},children:r.jsx(w,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:r.jsx(Lf,{value:n,onChange:s,variant:a?"scrollable":"standard",scrollButtons:"auto",allowScrollButtonsMobile:!0,centered:!a,"aria-label":"Customer account navigation",sx:{width:"100%","& .MuiTabs-flexContainer":{justifyContent:"center"},"& .MuiTabs-indicator":{backgroundColor:i.palette.primary.main,height:3,borderRadius:"3px 3px 0 0"},"& .MuiTabs-scrollButtons":{width:a?24:32},"& .MuiTab-root":{textTransform:"none",fontWeight:500,fontSize:a?"0.75rem":"0.875rem",minWidth:a?60:100,maxWidth:a?120:160,minHeight:a?48:64,px:a?1:1.5,color:i.palette.text.secondary,transition:"all 0.2s ease-in-out","&.Mui-selected":{color:i.palette.primary.main,fontWeight:600},"&:hover:not(.Mui-selected)":{color:i.palette.primary.main,backgroundColor:F(i.palette.primary.main,.05)},"&:focus-visible":{outline:`2px solid ${i.palette.primary.main}`,outlineOffset:2}}},children:l.map(c=>r.jsx(ia,{label:r.jsxs(w,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:a?.5:1,flexDirection:a?"column":"row",width:"100%"},children:[r.jsx(w,{sx:{fontSize:a?18:20,display:"flex",alignItems:"center",justifyContent:"center"},children:c.icon}),r.jsx(v,{variant:a?"caption":"body2",sx:{lineHeight:1,textAlign:"center",fontSize:a?"0.75rem":"0.875rem",fontWeight:500},children:c.text})]}),component:Cy,to:`/customers/${e}/${c.path}`,sx:{py:a?1:1.5},"aria-label":`${c.text} - ${c.description}`},c.path))})})})}):r.jsx(cc,{position:"static",color:"inherit",elevation:1,sx:{backgroundColor:i.palette.background.paper},children:r.jsxs(dc,{children:[r.jsx(Ae,{color:"primary",onClick:o,children:r.jsx(Or,{})}),r.jsxs(v,{variant:"h6",color:"error",sx:{ml:2},children:[t," not found"]})]})})},r9=()=>{const{id:e}=Mn();return e?r.jsxs(w,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[r.jsx(n9,{customerId:e}),r.jsx(w,{sx:{flexGrow:1,pt:3,pb:3},children:r.jsx(em,{})})]}):r.jsx(w,{children:"Error: Customer ID is required."})},As={active:{color:"success.main",bgcolor:"#e6f7ed",icon:r.jsx(lt,{sx:{fontSize:12}})},inactive:{color:"error.main",bgcolor:"#fce8e8",icon:r.jsx(Sa,{sx:{fontSize:12}})},pending:{color:"warning.main",bgcolor:"#fff4e5",icon:r.jsx(Mg,{sx:{fontSize:12}})}},a9=e=>(e==null?void 0:e.type)===we.INDIVIDUAL?`${(e==null?void 0:e.firstName)||""} ${(e==null?void 0:e.lastName)||""}`.trim():(e==null?void 0:e.legalName)||"Business Customer",i9=e=>{if((e==null?void 0:e.type)===we.INDIVIDUAL){const t=(e==null?void 0:e.firstName)||"",n=(e==null?void 0:e.lastName)||"";return`${t.charAt(0)}${n.charAt(0)}`.toUpperCase()||"U"}else return((e==null?void 0:e.legalName)||"Business").slice(0,2).toUpperCase()},s9=e=>e.length>0?"active":"pending",o9=e=>{const t=e.reduce((s,o)=>s+((o==null?void 0:o.remainingAmount)||0),0),n=e.reduce((s,o)=>s+((o==null?void 0:o.totalAmount)||0),0),a=n>0?Math.max(0,(1-t/n)*100):100,i=e.length>0?new Date(Date.now()+30*24*60*60*1e3).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"No active contracts";return{totalDue:t,totalContractValue:n,progress:a,nextBillDate:i}},l9=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Unknown",c9=(e,t,n)=>[(e==null?void 0:e.type)===we.INDIVIDUAL?"Individual":"Business",...t.length>0?["Active Contracts"]:["No Contracts"],...n.length>0?["Secured"]:[]],d9=e=>[e==null?void 0:e.phone,e==null?void 0:e.secondaryPhone,e==null?void 0:e.email].filter(Boolean).length,u9=e=>{const{customer:t,loading:n,error:a}=U0(e),i=x.useMemo(()=>{if(!t)return null;const o=(t==null?void 0:t.customer)||t||{},l=(t==null?void 0:t.contracts)||[],c=(t==null?void 0:t.collateral)||[],d=s9(l),u=a9(o),h=i9(o),p=l9(o==null?void 0:o.createdAt),y=c9(o,l,c),b=d9(o);return{customerData:o,contracts:l,collateral:c,status:d,customerName:u,customerInitials:h,createdAt:p,accountTypes:y,contactMethodsCount:b}},[t]),s=x.useMemo(()=>i?o9(i.contracts):null,[i]);return{summaryData:i,financialSummary:s,loading:n,error:a}},h9=({customerId:e})=>{var $,S,T,A,M;const{summaryData:t,financialSummary:n,loading:a,error:i}=u9(e);if(a||!t&&!i)return r.jsxs(Ie,{elevation:0,sx:{width:320,borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"divider",background:"background.paper"},children:[r.jsx(le,{variant:"rectangular",width:"100%",height:4}),r.jsxs(w,{sx:{p:3,pb:2},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[r.jsx(le,{variant:"circular",width:56,height:56}),r.jsx(le,{variant:"rounded",width:80,height:24})]}),r.jsx(le,{variant:"text",width:"70%",height:24,sx:{mb:1}}),r.jsx(le,{variant:"text",width:"50%",height:16,sx:{mb:.5}}),r.jsx(le,{variant:"text",width:"80%",height:16}),r.jsxs(w,{sx:{mt:2,pt:2,borderTop:"1px solid",borderColor:"divider"},children:[r.jsx(le,{variant:"text",width:"60%",height:14,sx:{mb:.5}}),r.jsx(le,{variant:"text",width:"40%",height:14})]})]}),r.jsx(Ee,{}),r.jsxs(w,{sx:{p:3},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[r.jsx(le,{variant:"circular",width:20,height:20}),r.jsx(le,{variant:"text",width:"60%",height:20})]}),r.jsxs(w,{sx:{mb:2},children:[r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[r.jsx(le,{variant:"text",width:"40%"}),r.jsx(le,{variant:"text",width:"30%"})]}),r.jsx(le,{variant:"rectangular",width:"100%",height:8,sx:{borderRadius:1}})]}),r.jsx(le,{variant:"rectangular",width:"100%",height:48,sx:{borderRadius:2}})]}),r.jsx(Ee,{}),r.jsxs(w,{sx:{p:3},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[r.jsx(le,{variant:"circular",width:20,height:20}),r.jsx(le,{variant:"text",width:"50%",height:20})]}),[...Array(4)].map((g,D)=>r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",py:1},children:[r.jsx(le,{variant:"text",width:"40%"}),r.jsx(le,{variant:"text",width:"20%"})]},D))]})]});if(i||!a&&!t)return r.jsxs(Ie,{elevation:0,sx:{width:320,borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"error.light",background:"background.paper"},children:[r.jsx(w,{sx:{height:4,width:"100%",bgcolor:"error.main"}}),r.jsxs(w,{sx:{p:4,textAlign:"center"},children:[r.jsx(pn,{sx:{bgcolor:"error.light",color:"error.main",width:64,height:64,mx:"auto",mb:2},children:r.jsx(et,{sx:{fontSize:32}})}),r.jsx(v,{variant:"h6",color:"error.main",sx:{mb:1,fontWeight:600},children:i?"Unable to Load Customer":"Customer Not Found"}),r.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3,lineHeight:1.5},children:i||"The requested customer data could not be retrieved"}),r.jsx(w,{sx:{p:2,bgcolor:g=>F(g.palette.error.main,.05),borderRadius:2,border:g=>`1px solid ${F(g.palette.error.main,.1)}`},children:r.jsxs(v,{variant:"caption",color:"text.secondary",sx:{fontFamily:"monospace"},children:["Customer ID: ",e]})})]})]});const{customerData:s,contracts:o=[],collateral:l=[]}=t||{},{totalDue:c=0,nextBillDate:d="No active contracts"}=n||{},u=()=>(s==null?void 0:s.type)===we.INDIVIDUAL?`${s.firstName||""} ${s.lastName||""}`.trim()||"Individual Customer":(s==null?void 0:s.legalName)||(s==null?void 0:s.administratorName)||"Business Customer",h=()=>{if((s==null?void 0:s.type)===we.INDIVIDUAL){const P=s.firstName||"",C=s.lastName||"";return`${P.charAt(0)}${C.charAt(0)}`.toUpperCase()}const g=(s==null?void 0:s.legalName)||"",D=(s==null?void 0:s.administratorName)||"";return g?g.split(" ").map(P=>P.charAt(0)).join("").substring(0,2).toUpperCase():D?D.split(" ").map(P=>P.charAt(0)).join("").substring(0,2).toUpperCase():"BU"},p=()=>c>0?"warning":o.length===0?"inactive":"active",y=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),b=u(),m=h(),f=p(),j=y((s==null?void 0:s.createdAt)||"");return r.jsxs(Ie,{elevation:0,sx:{width:320,borderRadius:3,overflow:"hidden",border:"1px solid",borderColor:"divider",background:"background.paper",transition:"all 0.2s ease-in-out","&:hover":{borderColor:"primary.light",boxShadow:4}},children:[r.jsx(w,{sx:{height:4,width:"100%",bgcolor:(($=As[f])==null?void 0:$.color)||"primary.main"}}),r.jsxs(w,{sx:{p:3,pb:2,background:g=>`linear-gradient(135deg, ${F(g.palette.primary.main,.03)}, ${F(g.palette.background.paper,0)})`,position:"relative"},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",mb:2},children:[r.jsx(pn,{sx:{bgcolor:(s==null?void 0:s.type)===we.INDIVIDUAL?"primary.main":"secondary.main",width:56,height:56,border:2,borderColor:"background.paper",boxShadow:3,fontSize:"1.25rem",fontWeight:700,background:g=>(s==null?void 0:s.type)===we.INDIVIDUAL?`linear-gradient(135deg, ${g.palette.primary.main}, ${g.palette.primary.dark})`:`linear-gradient(135deg, ${g.palette.secondary.main}, ${g.palette.secondary.dark})`},children:m.length>0?m:(s==null?void 0:s.type)===we.INDIVIDUAL?r.jsx(et,{sx:{fontSize:28,color:"white"}}):r.jsx(tn,{sx:{fontSize:28,color:"white"}})}),r.jsx(de,{label:f.charAt(0).toUpperCase()+f.slice(1),size:"small",icon:(S=As[f])==null?void 0:S.icon,sx:{fontWeight:600,fontSize:"0.75rem",height:28,borderRadius:2,color:((T=As[f])==null?void 0:T.color)||"primary.main",bgcolor:"action.hover",border:"1px solid",borderColor:"divider","& .MuiChip-icon":{color:((A=As[f])==null?void 0:A.color)||"primary.main",fontSize:16}}})]}),r.jsx(v,{variant:"h6",sx:{fontWeight:700,mb:1,color:"text.primary",fontSize:"1.1rem",lineHeight:1.3},children:b}),r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:.5,mb:1},children:[r.jsx(ti,{sx:{fontSize:16,color:"text.secondary"}}),r.jsxs(v,{variant:"body2",color:"text.secondary",children:["Member since ",j]})]}),(s==null?void 0:s.email)&&r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:.5,mb:1},children:[r.jsx(Mr,{sx:{fontSize:16,color:"text.secondary"}}),r.jsx(v,{variant:"body2",color:"text.secondary",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:200},children:s.email})]}),(s==null?void 0:s.phone)&&r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:.5},children:[r.jsx(as,{sx:{fontSize:16,color:"text.secondary"}}),r.jsx(v,{variant:"body2",color:"text.secondary",children:s.phone})]}),r.jsx(w,{sx:{mt:2,pt:2,borderTop:1,borderColor:"divider",display:"flex",flexDirection:"column",gap:1},children:(s==null?void 0:s.type)===we.INDIVIDUAL?r.jsxs(r.Fragment,{children:[s.idNumber&&r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:.5},children:[r.jsx(Gi,{sx:{fontSize:14,color:"text.secondary"}}),r.jsxs(v,{variant:"caption",color:"text.secondary",children:["ID: ",s.idNumber]})]}),s.dateOfBirth&&r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:.5},children:[r.jsx(ti,{sx:{fontSize:14,color:"text.secondary"}}),r.jsxs(v,{variant:"caption",color:"text.secondary",children:["DOB: ",y(s.dateOfBirth)]})]})]}):r.jsxs(r.Fragment,{children:[s.nuisNipt&&r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:.5},children:[r.jsx(Og,{sx:{fontSize:14,color:"text.secondary"}}),r.jsxs(v,{variant:"caption",color:"text.secondary",children:["NUIS: ",s.nuisNipt]})]}),s.administratorName&&r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:.5},children:[r.jsx(et,{sx:{fontSize:14,color:"text.secondary"}}),r.jsxs(v,{variant:"caption",color:"text.secondary",children:["Admin: ",s.administratorName]})]})]})})]}),r.jsx(Ee,{}),r.jsxs(w,{sx:{p:3},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[r.jsx(Yt,{sx:{color:"primary.main",fontSize:20}}),r.jsx(v,{variant:"subtitle2",sx:{fontWeight:700,color:"text.primary",fontSize:"0.95rem"},children:"Financial Overview"})]}),r.jsxs(w,{sx:{mb:2.5},children:[r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Outstanding Balance"}),r.jsxs(v,{variant:"h6",sx:{fontWeight:700,color:c>0?"error.main":"success.main",fontSize:"1rem"},children:["$",c.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),r.jsx(Wa,{variant:"determinate",value:c>0?Math.min(c/1e3*100,100):100,sx:{height:8,borderRadius:2,bgcolor:"action.hover","& .MuiLinearProgress-bar":{bgcolor:c>0?"error.main":"success.main",borderRadius:2}}})]}),r.jsxs(w,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:2,bgcolor:g=>F(g.palette.primary.main,.06),borderRadius:2.5,border:g=>`1px solid ${F(g.palette.primary.main,.12)}`},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[r.jsx(ld,{sx:{color:"primary.main",fontSize:20}}),r.jsx(v,{variant:"body2",sx:{fontWeight:500},children:"Next Billing"})]}),r.jsx(v,{variant:"body2",sx:{fontWeight:600,color:"text.primary"},children:d})]}),(s==null?void 0:s.creditBalance)&&r.jsxs(w,{sx:{mt:2,p:2,bgcolor:g=>F(g.palette.success.main,.06),borderRadius:2,border:g=>`1px solid ${F(g.palette.success.main,.12)}`},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[r.jsx(hc,{sx:{color:"success.main",fontSize:18}}),r.jsx(v,{variant:"body2",sx:{fontWeight:500},children:"Credit Balance"})]}),r.jsxs(v,{variant:"h6",sx:{fontWeight:700,color:"success.main",fontSize:"1rem"},children:["$",parseFloat(s.creditBalance).toLocaleString("en-US",{minimumFractionDigits:2})]})]})]}),r.jsx(Ee,{}),r.jsxs(w,{sx:{p:3,pb:2},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1,mb:2.5},children:[r.jsx(uc,{sx:{color:"primary.main",fontSize:20}}),r.jsx(v,{variant:"subtitle2",sx:{fontWeight:700,color:"text.primary",fontSize:"0.95rem"},children:"Account Summary"})]}),r.jsxs(un,{dense:!0,disablePadding:!0,sx:{"& .MuiListItem-root":{py:1.5}},children:[r.jsxs(kt,{disablePadding:!0,sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(uc,{sx:{fontSize:18,color:"text.secondary"}}),r.jsx(v,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:"Active Contracts"})]}),r.jsx(de,{label:o.length,size:"small",sx:{bgcolor:o.length>0?g=>F(g.palette.success.main,.1):"action.hover",color:o.length>0?"success.main":"text.secondary",fontWeight:600,minWidth:32,height:24}})]}),r.jsxs(kt,{disablePadding:!0,sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Rg,{sx:{fontSize:18,color:"text.secondary"}}),r.jsx(v,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:"Collateral Items"})]}),r.jsx(de,{label:l.length,size:"small",sx:{bgcolor:g=>F(g.palette.info.main,.1),color:"info.main",fontWeight:600,minWidth:32,height:24}})]}),r.jsxs(kt,{disablePadding:!0,sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Xn,{sx:{fontSize:18,color:"text.secondary"}}),r.jsx(v,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:"Activity Logs"})]}),r.jsx(de,{label:((M=s==null?void 0:s.logs)==null?void 0:M.length)||0,size:"small",sx:{bgcolor:g=>F(g.palette.warning.main,.1),color:"warning.main",fontWeight:600,minWidth:32,height:24}})]}),(s==null?void 0:s.address)&&r.jsxs(kt,{disablePadding:!0,sx:{flexDirection:"column",alignItems:"flex-start",pt:2},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[r.jsx(Ng,{sx:{fontSize:18,color:"text.secondary"}}),r.jsx(v,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:"Address"})]}),r.jsx(v,{variant:"body2",sx:{color:"text.primary",lineHeight:1.4,pl:3,fontWeight:500},children:s.address})]})]})]})]})},p9=e=>{switch(e){case"server":return r.jsx(hu,{});case"storage":return r.jsx(Vg,{});case"network":return r.jsx(Lg,{});case"endpoint":return r.jsx(Fg,{});default:return r.jsx(hu,{})}},f9=e=>{switch(e){case"active":return"success";case"inactive":return"error";case"maintenance":return"warning";default:return"default"}},m9=e=>{switch(e){case"active":return r.jsx(lt,{fontSize:"small"});case"inactive":return r.jsx(Sa,{fontSize:"small"});case"maintenance":return r.jsx(zg,{fontSize:"small"});default:return}},x9=({assets:e})=>{const t=Ve(),[n,a]=x.useState(!1),i=l=>(c,d)=>{a(d?l:!1)},s=l=>l?l.charAt(0).toUpperCase()+l.slice(1):"Unknown",o=e?e.filter(l=>l.status==="active").length:0;return r.jsxs(Ie,{elevation:2,sx:{p:3,borderRadius:2,overflow:"hidden",mb:3},children:[r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[r.jsxs(w,{children:[r.jsx(v,{variant:"h5",fontWeight:"bold",color:"primary",gutterBottom:!0,children:"Asset Summary"}),r.jsxs(v,{variant:"body2",color:"text.secondary",children:[e?e.length:0," asset",!e||e.length!==1?"s":""," associated with this customer"]})]}),r.jsx(de,{icon:r.jsx(lt,{}),label:`${o} Active`,color:"success",variant:"outlined"})]}),r.jsx(Ee,{sx:{mb:2}}),e&&e.map((l,c)=>r.jsxs(Af,{expanded:n===`panel${c}`,onChange:i(`panel${c}`),sx:{mb:1,boxShadow:"none",border:`1px solid ${t.palette.divider}`,"&:before":{display:"none"},"&:hover":{bgcolor:t.palette.action.hover},"&.Mui-expanded":{margin:0,mb:1,bgcolor:F(t.palette.primary.main,.04)}},children:[r.jsx(If,{expandIcon:r.jsx(hi,{}),"aria-controls":`panel${c}-content`,id:`panel${c}-header`,sx:{minHeight:56,"& .MuiAccordionSummary-content":{margin:"12px 0"}},children:r.jsxs(w,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[r.jsx(w,{sx:{mr:2,display:"flex",alignItems:"center",color:t.palette.primary.main},children:p9(l.type||"")}),r.jsx(v,{sx:{flexGrow:1,fontWeight:500},children:l.name||"Unnamed Asset"}),r.jsx(de,{icon:m9(l.status||""),label:s(l.status),color:f9(l.status||""),size:"small",sx:{ml:2}})]})}),r.jsxs(Mf,{sx:{pt:0},children:[r.jsx(Ee,{sx:{mb:2}}),r.jsxs(N,{container:!0,spacing:2,children:[r.jsxs(N,{item:!0,xs:12,sm:6,children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"IP Address"}),r.jsx(v,{variant:"body2",children:l.ipAddress||"N/A"})]}),r.jsxs(N,{item:!0,xs:12,sm:6,children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Type"}),r.jsx(v,{variant:"body2",sx:{textTransform:"capitalize"},children:l.type||"Unknown"})]}),r.jsxs(N,{item:!0,xs:12,sm:6,children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Status"}),r.jsx(v,{variant:"body2",sx:{textTransform:"capitalize"},children:l.status||"Unknown"})]}),r.jsxs(N,{item:!0,xs:12,sm:6,children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",children:"Last Updated"}),r.jsx(v,{variant:"body2",children:l.lastUpdated||"Never"})]})]})]})]},c)),(!e||e.length===0)&&r.jsx(w,{sx:{py:4,textAlign:"center"},children:r.jsx(v,{color:"text.secondary",children:"No assets found for this customer."})})]})},qc={paid:{icon:lt,color:"success.main",chipColor:"success"},overdue:{icon:Sa,color:"error.main",chipColor:"error"},pending:{icon:is,color:"warning.main",chipColor:"warning"}},rf={info:{icon:$a,color:"info.main"},warning:{icon:kn,color:"warning.main"},error:{icon:Sa,color:"error.main"}},aa={MAX_HEIGHT:"300px",SKELETON_COUNT:3,ICON_SIZE:20,CHIP_HEIGHT:20},g9=(e,t)=>{const n=qc[e]||qc.pending,a=n.icon;return r.jsx(a,{fontSize:"small",sx:{color:t.palette[n.color.split(".")[0]][n.color.split(".")[1]]}})},v9=e=>{var t;return((t=qc[e])==null?void 0:t.chipColor)||"default"},y9=(e,t)=>{const n=rf[e]||rf.info,a=n.icon;return r.jsx(a,{fontSize:"small",sx:{color:t.palette[n.color.split(".")[0]][n.color.split(".")[1]]}})},b9=e=>`INV-${e.split("-")[0].toUpperCase()}`,j9=(e,t,n)=>{const a=Ve(),i=yt(),s=x.useCallback(()=>{t?t():i(`/customers/${e}/invoices`)},[e,i,t]),o=x.useCallback(()=>{n?n():i(`/customers/${e}/logs`)},[e,i,n]),l=x.useCallback(h=>g9(h,a),[a]),c=x.useCallback(h=>v9(h),[]),d=x.useCallback(h=>y9(h,a),[a]),u=x.useCallback(h=>b9(h),[]);return{theme:a,handleInvoicesClick:s,handleLogsClick:o,getInvoiceStatusIcon:l,getInvoiceStatusColor:c,getLogSeverityIcon:d,formatInvoiceNumber:u}},w9=({customerId:e,recentInvoices:t,onInvoicesClick:n,onLogsClick:a,invoicesLoading:i=!1,invoicesError:s=null})=>{const{theme:o,handleInvoicesClick:l,handleLogsClick:c,getInvoiceStatusIcon:d,getInvoiceStatusColor:u,getLogSeverityIcon:h,formatInvoiceNumber:p}=j9(e,n,a),{logs:y,loading:b,error:m}=W0(e),f=x.useMemo(()=>{if(!y||!Array.isArray(y)||y.length===0)return[];const j=$=>{const S=$.toLowerCase();return S.includes("error")||S.includes("fail")||S.includes("delete")?"error":S.includes("warning")||S.includes("warn")||S.includes("timeout")?"warning":"info"};return y.slice(0,5).map($=>({id:$.id,timestamp:new Date($.createdAt||$.actionTimestamp).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),message:$.eventType?`${$.eventType.replace(/([A-Z])/g," $1").trim()}`:$.newValues?"Record updated":"System event",severity:$.eventType?j($.eventType):"info",assetName:$.entityType==="vehicle"?$.entityId:void 0,performedBy:$.performedByName||$.userId||"System"}))},[y]);return r.jsxs(N,{container:!0,spacing:2,sx:{mb:2},children:[r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(Fe,{elevation:2,sx:{height:"100%",borderRadius:2,display:"flex",flexDirection:"column"},children:r.jsxs(Le,{sx:{flexGrow:1,p:0},children:[r.jsxs(w,{sx:{p:1.5,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Sn,{sx:{color:o.palette.primary.main,mr:1,fontSize:aa.ICON_SIZE}}),r.jsx(v,{variant:"subtitle1",fontWeight:"medium",children:"Recent Invoices"})]}),r.jsx(Ae,{size:"small",color:"primary",sx:{p:.5},onClick:l,title:"View all invoices",children:r.jsx(no,{fontSize:"small"})})]}),r.jsx(Ee,{}),r.jsx(un,{sx:{p:0,maxHeight:aa.MAX_HEIGHT,overflow:"auto"},dense:!0,children:i?[...Array(aa.SKELETON_COUNT)].map((j,$)=>r.jsxs(kt,{sx:{py:.75,px:1.5},children:[r.jsx(vn,{sx:{minWidth:32},children:r.jsx(le,{variant:"circular",width:20,height:20})}),r.jsx(Ot,{primary:r.jsx(le,{variant:"text",width:"60%",height:20}),secondary:r.jsx(le,{variant:"text",width:"40%",height:16}),sx:{my:0}}),r.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(le,{variant:"text",width:60,height:20,sx:{mr:1}}),r.jsx(le,{variant:"rectangular",width:50,height:20,sx:{borderRadius:1}})]})]},$)):s?r.jsx(w,{sx:{py:2,px:1.5},children:r.jsx(_e,{severity:"error",sx:{fontSize:"0.75rem"},children:s})}):t.length>0?t.map((j,$)=>r.jsxs(re.Fragment,{children:[r.jsxs(kt,{sx:{py:.75,px:1.5,"&:hover":{bgcolor:F(o.palette.primary.main,.04)}},children:[r.jsx(vn,{sx:{minWidth:32},children:d(j.status)}),r.jsx(Ot,{primary:r.jsx(v,{variant:"body2",fontWeight:"medium",sx:{lineHeight:.87,cursor:"help",fontFamily:"monospace",fontSize:"0.8rem"},title:`Full ID: ${j.id}`,children:p(j.id)}),secondary:r.jsx(v,{variant:"caption",children:j.date}),sx:{my:0}}),r.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(v,{variant:"body2",fontWeight:"bold",sx:{mr:1},children:j.amount}),r.jsx(de,{label:j.status.charAt(0).toUpperCase()+j.status.slice(1),size:"small",color:u(j.status),variant:"outlined",sx:{height:aa.CHIP_HEIGHT,"& .MuiChip-label":{px:.8,py:0}}})]})]}),$<t.length-1&&r.jsx(Ee,{component:"li"})]},j.id)):r.jsx(w,{sx:{py:1,textAlign:"center"},children:r.jsx(v,{color:"text.secondary",variant:"caption",children:"No recent invoices found."})})})]})})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(Fe,{elevation:2,sx:{height:"100%",borderRadius:2,display:"flex",flexDirection:"column"},children:r.jsxs(Le,{sx:{flexGrow:1,p:0},children:[r.jsxs(w,{sx:{p:1.5,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(hr,{sx:{color:o.palette.primary.main,mr:1,fontSize:aa.ICON_SIZE}}),r.jsx(v,{variant:"subtitle1",fontWeight:"medium",children:"Recent Activity"})]}),r.jsx(Ae,{size:"small",color:"primary",sx:{p:.5},onClick:c,title:"View all logs",children:r.jsx(no,{fontSize:"small"})})]}),r.jsx(Ee,{}),r.jsx(un,{sx:{p:0,maxHeight:aa.MAX_HEIGHT,overflow:"auto"},dense:!0,children:b?[...Array(aa.SKELETON_COUNT)].map((j,$)=>r.jsxs(kt,{sx:{py:.75,px:1.5},children:[r.jsx(vn,{sx:{minWidth:32},children:r.jsx(le,{variant:"circular",width:20,height:20})}),r.jsx(Ot,{primary:r.jsx(le,{variant:"text",width:"80%",height:20}),secondary:r.jsx(le,{variant:"text",width:"60%",height:16}),sx:{my:0}})]},$)):m?r.jsx(w,{sx:{py:2,px:1.5},children:r.jsx(_e,{severity:"error",sx:{fontSize:"0.75rem"},children:m})}):f.length>0?f.map((j,$)=>r.jsxs(re.Fragment,{children:[r.jsxs(kt,{sx:{py:.75,px:1.5,"&:hover":{bgcolor:F(o.palette.primary.main,.04)}},children:[r.jsx(vn,{sx:{minWidth:32},children:h(j.severity)}),r.jsx(Ot,{primary:r.jsx(v,{variant:"body2",fontWeight:"medium",sx:{lineHeight:1.3},children:j.message}),secondary:r.jsxs(v,{variant:"caption",component:"div",sx:{display:"flex",flexWrap:"wrap"},children:[r.jsx("span",{children:j.timestamp}),j.performedBy&&r.jsxs("span",{style:{marginLeft:"4px"},children:["• by ",j.performedBy]}),j.assetName&&r.jsxs("span",{style:{marginLeft:"4px"},children:["• ",j.assetName]})]}),sx:{my:0}})]}),$<f.length-1&&r.jsx(Ee,{component:"li"})]},j.id)):r.jsx(w,{sx:{py:2,textAlign:"center"},children:r.jsx(v,{color:"text.secondary",variant:"caption",children:"No recent activity found."})})})]})})})]})},C9=e=>{const[t,n]=x.useState([]),[a,i]=x.useState(!0),[s,o]=x.useState(null),l=x.useCallback(async()=>{if(e){i(!0),o(null);try{const c=await wn.getInvoices(e,{limit:5,offset:0});let d;Array.isArray(c)?d=c:c&&typeof c=="object"&&"invoices"in c&&Array.isArray(c.invoices)?d=c.invoices:c&&typeof c=="object"&&"data"in c&&Array.isArray(c.data)?d=c.data:(console.warn("Unexpected invoices response structure:",c),d=[]);const h=d.slice(0,5).map(p=>{const y=ze(p.dueDate).isBefore(ze(),"day"),b=p.status==="pending"&&y?"overdue":p.status;return{id:p.transactionReference||p.id,date:ze(p.dueDate).format("MMM DD, YYYY"),amount:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(p.amount||0),status:b}});n(h)}catch(c){console.error("Failed to fetch recent invoices:",c),o(c instanceof Error?c.message:"Failed to load recent invoices"),n([])}finally{i(!1)}}},[e]);return x.useEffect(()=>{l()},[l]),{invoices:t,loading:a,error:s,refetch:l}},$9=()=>{const{id:e}=Mn(),{invoices:t,loading:n,error:a}=C9(e||"");if(!e)return r.jsx(w,{children:"Customer ID not found"});const i=[{name:"ford focus",ipAddress:"67.227.228.4",type:"endpoint",status:"active",lastUpdated:"2025-07-12"},{name:"another-asset.example.com",ipAddress:"192.168.1.1",type:"server",status:"maintenance",lastUpdated:"2025-07-10"}];return r.jsxs(w,{sx:{display:"flex"},children:[r.jsx(h9,{customerId:e}),r.jsxs(w,{sx:{flexGrow:1,pl:3},children:[r.jsx(w9,{customerId:e,recentInvoices:t,invoicesLoading:n,invoicesError:a}),r.jsx(x9,{assets:i})]})]})},af=e=>e==null||isNaN(e)?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),sf=e=>{if(!e)return"N/A";try{return ze(e).format("MMM D, YYYY")}catch{return"Invalid Date"}},S9=(e,t)=>{let n=[...e];if(t.search){const a=t.search.toLowerCase();n=n.filter(i=>{var s,o,l;return((s=i.contractNumber)==null?void 0:s.toLowerCase().includes(a))||((o=i.type)==null?void 0:o.toLowerCase().includes(a))||((l=i.status)==null?void 0:l.toLowerCase().includes(a))})}return t.status&&(n=n.filter(a=>{var i;return((i=a.status)==null?void 0:i.toLowerCase())===t.status.toLowerCase()})),t.type&&(n=n.filter(a=>{var i;return((i=a.type)==null?void 0:i.toLowerCase())===t.type.toLowerCase()})),n},D9=(e,t,n)=>e.slice().sort((a,i)=>{let s=a[t],o=i[t];return(t==="startDate"||t==="endDate")&&(s=s?ze(s).valueOf():0,o=o?ze(o).valueOf():0),s<o?n==="asc"?-1:1:s>o?n==="asc"?1:-1:0}),T9={draft:{icon:r.jsx(ni,{fontSize:"small"}),color:"default",label:"Draft"},active:{icon:r.jsx(lt,{fontSize:"small"}),color:"success",label:"Active"},pending:{icon:r.jsx(ni,{fontSize:"small"}),color:"warning",label:"Pending"},completed:{icon:r.jsx(lt,{fontSize:"small"}),color:"info",label:"Completed"},cancelled:{icon:r.jsx(ri,{fontSize:"small"}),color:"error",label:"Cancelled"}},k9={loan:{label:"Loan",color:"#1976d2"},leasing:{label:"Leasing",color:"#9c27b0"}},P9=10,E9=[5,10,25,50],A9=e=>{const{id:t}=Mn(),n=e||t,[a,i]=x.useState([]),[s,o]=x.useState(!0),[l,c]=x.useState(null),d=x.useCallback(async()=>{if(n){o(!0),c(null);try{const u=await wn.getContracts(n);i(u)}catch(u){console.error("Failed to fetch contracts:",u);const h=u instanceof Error?u.message:"Failed to load contracts";c(h)}finally{o(!1)}}},[n]);return x.useEffect(()=>{d()},[d]),{contracts:a,loading:s,error:l,fetchContracts:d,customerId:n}},I9=(e,t)=>{const[n,a]=x.useState(0),[i,s]=x.useState(P9),[o,l]=x.useState("desc"),[c,d]=x.useState("startDate"),u=x.useMemo(()=>S9(e,t),[e,t]),h=x.useMemo(()=>D9(u,c,o),[u,o,c]),p=x.useMemo(()=>{const f=n*i;return h.slice(f,f+i)},[h,n,i]),y=x.useCallback(f=>{l(c===f&&o==="asc"?"desc":"asc"),d(f)},[o,c]),b=x.useCallback(f=>{a(f)},[]),m=x.useCallback(f=>{s(f),a(0)},[]);return x.useEffect(()=>{a(0)},[t]),{page:n,rowsPerPage:i,order:o,orderBy:c,filteredContracts:u,sortedContracts:h,paginatedContracts:p,handleRequestSort:y,handlePageChange:b,handleRowsPerPageChange:m}},M9=()=>{const[e,t]=x.useState({showNewContractDialog:!1,deleteDialogOpen:!1,contractToDelete:null}),n=x.useCallback(()=>{t(o=>({...o,showNewContractDialog:!0}))},[]),a=x.useCallback(()=>{t(o=>({...o,showNewContractDialog:!1}))},[]),i=x.useCallback(o=>{t(l=>({...l,deleteDialogOpen:!0,contractToDelete:o}))},[]),s=x.useCallback(()=>{t(o=>({...o,deleteDialogOpen:!1,contractToDelete:null}))},[]);return{...e,openNewContractDialog:n,closeNewContractDialog:a,openDeleteDialog:i,closeDeleteDialog:s}},O9=()=>{const[e,t]=x.useState({anchorEl:null,selectedContract:null}),n=x.useCallback((i,s)=>{t({anchorEl:i.currentTarget,selectedContract:s})},[]),a=x.useCallback(()=>{t({anchorEl:null,selectedContract:null})},[]);return{...e,openMenu:n,closeMenu:a}},R9=()=>{const[e,t]=x.useState({open:!1,message:"",severity:"info"}),n=x.useCallback((i,s="info")=>{t({open:!0,message:i,severity:s})},[]),a=x.useCallback(()=>{t(i=>({...i,open:!1}))},[]);return{notification:e,showNotification:n,hideNotification:a}},N9=e=>{const t=T9[e.toLowerCase()]||{icon:r.jsx(kn,{fontSize:"small"}),color:"default",label:"Unknown"};return r.jsx(de,{icon:t.icon,label:t.label,size:"small",color:t.color,sx:{minWidth:90,fontWeight:500}})},F9=e=>{const t=Ve(),n=k9[e==null?void 0:e.toLowerCase()];return r.jsx(de,{label:(n==null?void 0:n.label)||e,size:"small",variant:"outlined",sx:{borderRadius:1,bgcolor:F((n==null?void 0:n.color)||t.palette.primary.main,.05),borderColor:(n==null?void 0:n.color)||t.palette.primary.main,color:(n==null?void 0:n.color)||t.palette.primary.main,fontWeight:500}})},L9=({customerId:e})=>{const t=Ve(),n=yt(),{contracts:a,loading:i,error:s,fetchContracts:o}=A9(e),{notification:l,showNotification:c,hideNotification:d}=R9(),{showNewContractDialog:u,deleteDialogOpen:h,contractToDelete:p,openNewContractDialog:y,closeNewContractDialog:b,openDeleteDialog:m,closeDeleteDialog:f}=M9(),{anchorEl:j,selectedContract:$,openMenu:S,closeMenu:T}=O9(),[A,M]=x.useState({search:"",status:"",type:"",dateRange:"",amountRange:""}),{page:g,rowsPerPage:D,order:P,orderBy:C,filteredContracts:k,paginatedContracts:R,handleRequestSort:O,handlePageChange:E,handleRowsPerPageChange:I}=I9(a,A),V=()=>{M({search:"",status:"",type:"",dateRange:"",amountRange:""})},U=z=>{m(z)},_=async()=>{if(p){try{console.log(`Deleting contract ${p}`),c("Contract deleted successfully","success"),await o()}catch{c("Failed to delete contract","error")}f()}};return i&&a.length===0?r.jsx(Ie,{elevation:2,sx:{borderRadius:2,overflow:"hidden",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:t.shadows[4]}},children:r.jsxs(w,{sx:{p:3},children:[r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[r.jsx(le,{variant:"text",width:200,height:32}),r.jsx(le,{variant:"rectangular",width:100,height:36,sx:{borderRadius:1}})]}),r.jsx(Ee,{sx:{mb:2}}),r.jsx(w,{sx:{display:"flex",mb:1.5},children:["20%","15%","15%","15%","15%","20%"].map((z,B)=>r.jsx(le,{variant:"text",width:z,height:24,sx:{mr:2}},B))}),[...Array(5)].map((z,B)=>r.jsx(w,{sx:{py:2,display:"flex",alignItems:"center",borderBottom:B<4?`1px solid ${t.palette.divider}`:"none"},children:["20%","15%","15%","15%","15%","20%"].map((Q,se)=>r.jsx(le,{variant:"text",width:Q,height:24,sx:{mr:2}},se))},B)),r.jsx(w,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:r.jsx(le,{variant:"rectangular",width:300,height:36,sx:{borderRadius:1}})})]})}):s&&!a.length?r.jsxs(w,{sx:{p:3},children:[r.jsx(_e,{severity:"error",sx:{mb:2},children:s}),r.jsx(ue,{variant:"contained",onClick:o,children:"Retry"})]}):r.jsxs(w,{sx:{p:3},children:[r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[r.jsxs(w,{children:[r.jsx(v,{variant:"h5",fontWeight:600,sx:{mb:.5},children:"Contracts"}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Manage and track customer contracts"})]}),r.jsx(w,{sx:{display:"flex",gap:1.5},children:r.jsx(ue,{variant:"contained",startIcon:r.jsx(Zt,{}),onClick:y,children:"New Contract"})})]}),r.jsx(w,{sx:{mb:3},children:r.jsx(y5,{filters:A,onFilterChange:M,contractsCount:k.length})}),r.jsxs(Ie,{elevation:2,sx:{borderRadius:2,overflow:"hidden",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:t.shadows[4]}},children:[r.jsx(mr,{children:r.jsxs(xr,{children:[r.jsx(gr,{children:r.jsxs(st,{children:[r.jsx(Z,{children:r.jsx(Ge,{active:C==="contractNumber",direction:C==="contractNumber"?P:"asc",onClick:()=>O("contractNumber"),children:"Contract #"})}),r.jsx(Z,{children:r.jsx(Ge,{active:C==="type",direction:C==="type"?P:"asc",onClick:()=>O("type"),children:"Type"})}),r.jsx(Z,{children:r.jsx(Ge,{active:C==="status",direction:C==="status"?P:"asc",onClick:()=>O("status"),children:"Status"})}),r.jsx(Z,{children:r.jsx(Ge,{active:C==="startDate",direction:C==="startDate"?P:"asc",onClick:()=>O("startDate"),children:"Start Date"})}),r.jsx(Z,{children:r.jsx(Ge,{active:C==="endDate",direction:C==="endDate"?P:"asc",onClick:()=>O("endDate"),children:"End Date"})}),r.jsx(Z,{align:"right",children:r.jsx(Ge,{active:C==="totalAmount",direction:C==="totalAmount"?P:"asc",onClick:()=>O("totalAmount"),children:"Total Value"})}),r.jsx(Z,{align:"right",children:r.jsx(Ge,{active:C==="remainingAmount",direction:C==="remainingAmount"?P:"asc",onClick:()=>O("remainingAmount"),children:"Remaining"})}),r.jsx(Z,{align:"right",children:"Actions"})]})}),r.jsxs(vr,{children:[R.map(z=>r.jsxs(st,{hover:!0,sx:{transition:"all 0.2s","&:hover":{backgroundColor:F(t.palette.primary.main,.02)}},children:[r.jsx(Z,{children:r.jsx(v,{variant:"body2",fontWeight:600,color:"primary",children:z.contractNumber})}),r.jsx(Z,{children:F9(z.type||"N/A")}),r.jsx(Z,{children:N9(z.status||"unknown")}),r.jsx(Z,{children:r.jsx(v,{variant:"body2",children:sf(z.startDate)})}),r.jsx(Z,{children:r.jsx(v,{variant:"body2",children:sf(z.endDate)})}),r.jsx(Z,{align:"right",children:r.jsx(v,{variant:"body2",fontWeight:500,children:af(z.totalAmount)})}),r.jsx(Z,{align:"right",children:r.jsx(v,{variant:"body2",fontWeight:500,color:z.remainingAmount===0?"success.main":"text.primary",children:af(z.remainingAmount)})}),r.jsx(Z,{align:"right",children:r.jsx(Ae,{size:"small",onClick:B=>S(B,z),children:r.jsx(_r,{fontSize:"small"})})})]},z.id)),R.length===0&&!i&&r.jsx(st,{children:r.jsx(Z,{colSpan:8,align:"center",sx:{py:6},children:r.jsxs(w,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:3},children:[r.jsx(w,{sx:{bgcolor:F(t.palette.primary.main,.05),borderRadius:"50%",p:2,mb:2},children:r.jsx(_g,{sx:{fontSize:48,color:t.palette.primary.main,opacity:.7}})}),r.jsx(v,{variant:"h6",gutterBottom:!0,children:"No contracts found"}),r.jsx(v,{variant:"body2",color:"textSecondary",align:"center",sx:{maxWidth:500,mb:3},children:k.length!==a.length?"No contracts match your current filter criteria.":"This customer doesn't have any contracts yet."}),k.length!==a.length?r.jsx(ue,{variant:"outlined",onClick:V,children:"Clear Filters"}):r.jsx(ue,{variant:"contained",color:"primary",startIcon:r.jsx(Zt,{}),onClick:y,children:"Add New Contract"})]})})})]})]})}),r.jsx(yr,{component:"div",count:k.length||0,page:Math.min(g,Math.max(0,Math.ceil((k.length||0)/D)-1)),onPageChange:(z,B)=>{E(B)},rowsPerPage:D,onRowsPerPageChange:z=>{const B=parseInt(z.target.value,10);I(B)},rowsPerPageOptions:E9,labelRowsPerPage:"Rows per page:",labelDisplayedRows:({from:z,to:B,count:Q})=>i?"Loading...":`${z}–${B} of ${Q!==-1?Q:`more than ${B}`}`,disabled:i,sx:{borderTop:`1px solid ${t.palette.divider}`,"& .MuiTablePagination-select":{pr:1},"& .MuiTablePagination-displayedRows":{fontSize:"0.875rem",color:t.palette.text.secondary},"&.Mui-disabled":{opacity:.6}}})]}),r.jsxs(Kn,{anchorEl:j,open:!!j,onClose:T,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[r.jsxs(ne,{onClick:()=>{$&&n(`/contracts/${$.id}`),T()},children:[r.jsx(Jn,{fontSize:"small",sx:{mr:1}}),"View Details"]}),r.jsxs(ne,{onClick:()=>{$&&n(`/contracts/${$.id}/edit`),T()},children:[r.jsx(Ht,{fontSize:"small",sx:{mr:1}}),"Edit Contract"]}),r.jsxs(ne,{onClick:()=>{$&&n(`/contracts/${$.id}/invoices`),T()},children:[r.jsx(Sn,{fontSize:"small",sx:{mr:1}}),"View Invoices"]}),r.jsx(Ee,{}),r.jsxs(ne,{onClick:()=>{$&&U($.id),T()},sx:{color:"error.main"},children:[r.jsx(sn,{fontSize:"small",sx:{mr:1}}),"Delete Contract"]})]}),r.jsxs(Lr,{open:u,onClose:b,maxWidth:"md",fullWidth:!0,children:[r.jsx(Ca,{children:"Create New Contract"}),r.jsx(Vr,{children:r.jsx(_e,{severity:"info",sx:{mt:1},children:"Contract creation form will be implemented here."})}),r.jsxs(ui,{children:[r.jsx(ue,{onClick:b,children:"Cancel"}),r.jsx(ue,{variant:"contained",onClick:b,children:"Create Contract"})]})]}),r.jsx(sl,{open:h,title:"Delete Contract",message:"Are you sure you want to delete this contract? This action cannot be undone.",onConfirm:_,onCancel:f,confirmText:"Delete"}),r.jsx(pi,{open:l.open,autoHideDuration:6e3,onClose:d,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:r.jsx(_e,{onClose:d,severity:l.severity,variant:"filled",sx:{width:"100%"},children:l.message})})]})},V9=()=>r.jsx(w,{children:r.jsx(L9,{})}),z9=()=>r.jsx(O8,{}),_9=()=>r.jsx(w,{children:r.jsx(U5,{})}),W9=()=>r.jsx(w,{children:r.jsx(o6,{})}),of=(e,t,n)=>{if(e&&"reportValidity"in e){const a=je(n,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},q0=(e,t)=>{for(const n in t.fields){const a=t.fields[n];a&&a.ref&&"reportValidity"in a.ref?of(a.ref,n,e):a.refs&&a.refs.forEach(i=>of(i,n,e))}},B9=(e,t)=>{t.shouldUseNativeValidation&&q0(e,t);const n={};for(const a in e){const i=je(t.fields,a),s=Object.assign(e[a]||{},{ref:i&&i.ref});if(U9(t.names||Object.keys(e),a)){const o=Object.assign({},je(n,a));dt(o,"root",s),dt(n,a,o)}else dt(n,a,s)}return n},U9=(e,t)=>e.some(n=>n.startsWith(t+"."));function q9(e,t,n){return t===void 0&&(t={}),n===void 0&&(n={}),function(a,i,s){try{return Promise.resolve(function(o,l){try{var c=(t.context,Promise.resolve(e[n.mode==="sync"?"validateSync":"validate"](a,Object.assign({abortEarly:!1},t,{context:i}))).then(function(d){return s.shouldUseNativeValidation&&q0({},s),{values:n.raw?a:d,errors:{}}}))}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(!o.inner)throw o;return{values:{},errors:B9((l=o,c=!s.shouldUseNativeValidation&&s.criteriaMode==="all",(l.inner||[]).reduce(function(d,u){if(d[u.path]||(d[u.path]={message:u.message,type:u.type}),c){var h=d[u.path].types,p=h&&h[u.type];d[u.path]=Fx(u.path,c,d,u.type,p?[].concat(p,u.message):u.message)}return d},{})),s)};var l,c}))}catch(o){return Promise.reject(o)}}}const H9=()=>{const{control:e,formState:{errors:t}}=tr(),n=new Date().getFullYear(),a=[{value:Qe.AVAILABLE,label:"Available",color:"success",description:"Ready for lease or use"},{value:Qe.LEASED,label:"Leased",color:"info",description:"Currently leased out"},{value:Qe.MAINTENANCE,label:"Maintenance",color:"warning",description:"Under maintenance"},{value:Qe.SOLD,label:"Sold",color:"default",description:"Sold to customer"},{value:Qe.LIQUID_ASSET,label:"Liquid Asset",color:"secondary",description:"Liquidated/retired asset"}];return r.jsx(w,{children:r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,children:r.jsxs(w,{mb:2,children:[r.jsx(v,{variant:"h5",component:"h2",gutterBottom:!0,fontWeight:"600",children:"Basic Vehicle Information"}),r.jsx(v,{variant:"body1",color:"text.secondary",children:"Enter the primary identification details for the vehicle. All fields marked with * are required."})]})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"licensePlate",control:e,render:({field:i})=>{var s;return r.jsx(fe,{...i,label:"License Plate",required:!0,fullWidth:!0,error:!!t.licensePlate,helperText:((s=t.licensePlate)==null?void 0:s.message)||"Enter the vehicle's license plate number",value:i.value||"",inputProps:{maxLength:15,style:{textTransform:"uppercase"}},onChange:o=>i.onChange(o.target.value.toUpperCase()),sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"vin",control:e,render:({field:i})=>{var s;return r.jsx(fe,{...i,label:"VIN (Vehicle Identification Number)",required:!0,fullWidth:!0,error:!!t.vin,helperText:((s=t.vin)==null?void 0:s.message)||"Must be exactly 17 characters",value:i.value||"",inputProps:{maxLength:17,style:{textTransform:"uppercase"}},onChange:o=>i.onChange(o.target.value.toUpperCase()),sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"make",control:e,render:({field:i})=>{var s;return r.jsx(fe,{...i,label:"Make",required:!0,fullWidth:!0,placeholder:"e.g., Toyota, BMW, Ford",error:!!t.make,helperText:((s=t.make)==null?void 0:s.message)||"Vehicle manufacturer",value:i.value||"",inputProps:{maxLength:50},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"model",control:e,render:({field:i})=>{var s;return r.jsx(fe,{...i,label:"Model",required:!0,fullWidth:!0,placeholder:"e.g., Corolla, X5, F-150",error:!!t.model,helperText:((s=t.model)==null?void 0:s.message)||"Vehicle model name",value:i.value||"",inputProps:{maxLength:50},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"year",control:e,render:({field:i})=>{var s;return r.jsx(fe,{...i,label:"Year",type:"number",required:!0,fullWidth:!0,inputProps:{min:1900,max:n+1,step:1},error:!!t.year,helperText:((s=t.year)==null?void 0:s.message)||`Manufacturing year (1900-${n+1})`,value:i.value||"",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"color",control:e,render:({field:i})=>{var s;return r.jsx(fe,{...i,label:"Color",fullWidth:!0,placeholder:"e.g., Black, White, Silver",error:!!t.color,helperText:((s=t.color)==null?void 0:s.message)||"Vehicle exterior color (optional)",value:i.value||"",inputProps:{maxLength:30},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}})}),r.jsx(N,{item:!0,xs:12,children:r.jsx(Re,{name:"status",control:e,render:({field:i})=>{var s;return r.jsxs(Je,{required:!0,fullWidth:!0,error:!!t.status,children:[r.jsx(at,{id:"status-label",children:"Vehicle Status"}),r.jsx(it,{...i,labelId:"status-label",label:"Vehicle Status",value:i.value||"",sx:{borderRadius:2},children:a.map(o=>r.jsx(ne,{value:o.value,children:r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[r.jsx(de,{label:o.label,color:o.color,size:"small",variant:"outlined"}),r.jsx(v,{variant:"body2",color:"text.secondary",children:o.description})]})},o.value))}),t.status?r.jsx(Ya,{children:(s=t.status)==null?void 0:s.message}):r.jsx(Ya,{children:"Current operational status of the vehicle"})]})}})})]})})},Y9=()=>{const{control:e,formState:{errors:t}}=tr(),n=[{value:ca.GASOLINE,label:"Gasoline",icon:"⛽",description:"Traditional gasoline engine"},{value:ca.DIESEL,label:"Diesel",icon:"🛢️",description:"Diesel fuel engine"},{value:ca.ELECTRIC,label:"Electric",icon:"🔋",description:"Battery electric vehicle"},{value:ca.HYBRID,label:"Hybrid",icon:"⚡",description:"Gasoline-electric hybrid"},{value:ca.LPG,label:"LPG",icon:"💨",description:"Liquefied petroleum gas"}];return r.jsx(w,{children:r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,children:r.jsxs(w,{mb:2,children:[r.jsx(v,{variant:"h5",component:"h2",gutterBottom:!0,fontWeight:"600",children:"Vehicle Details & Specifications"}),r.jsx(v,{variant:"body1",color:"text.secondary",children:"Provide technical specifications and ownership details for the vehicle."})]})}),r.jsx(N,{item:!0,xs:12,children:r.jsx(v,{variant:"h6",gutterBottom:!0,color:"primary",fontWeight:"600",children:"Technical Specifications"})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"fuelType",control:e,render:({field:a})=>{var i;return r.jsxs(Je,{fullWidth:!0,error:!!t.fuelType,children:[r.jsx(at,{id:"fuelType-label",children:"Fuel Type"}),r.jsxs(it,{...a,labelId:"fuelType-label",label:"Fuel Type",value:a.value||"",sx:{borderRadius:2},children:[r.jsx(ne,{value:"",children:r.jsx("em",{children:"Select fuel type"})}),n.map(s=>r.jsx(ne,{value:s.value,children:r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[r.jsx(v,{variant:"body1",children:s.icon}),r.jsxs(w,{children:[r.jsx(v,{variant:"body1",children:s.label}),r.jsx(v,{variant:"caption",color:"text.secondary",children:s.description})]})]})},s.value))]}),t.fuelType?r.jsx(Ya,{children:(i=t.fuelType)==null?void 0:i.message}):r.jsx(Ya,{children:"Type of fuel the vehicle uses"})]})}})}),r.jsxs(N,{item:!0,xs:12,children:[r.jsx(Ee,{sx:{my:2}}),r.jsx(v,{variant:"h6",gutterBottom:!0,color:"primary",fontWeight:"600",children:"Ownership & Financial Information"})]}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"legalOwner",control:e,render:({field:a})=>{var i;return r.jsx(fe,{...a,label:"Legal Owner",fullWidth:!0,placeholder:"Enter company or individual name",error:!!t.legalOwner,helperText:((i=t.legalOwner)==null?void 0:i.message)||"Name of the legal owner or entity",value:a.value||"",inputProps:{maxLength:100},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"isLiquidAsset",control:e,render:({field:{value:a,onChange:i,...s}})=>{var o;return r.jsx(w,{sx:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:r.jsxs(Je,{error:!!t.isLiquidAsset,children:[r.jsx(nd,{control:r.jsx(Wg,{checked:!!a,onChange:l=>i(l.target.checked),...s,color:"primary"}),label:r.jsxs(w,{children:[r.jsx(v,{variant:"body1",fontWeight:"500",children:"Mark as Liquid Asset"}),r.jsx(v,{variant:"caption",color:"text.secondary",children:"Vehicle can be quickly converted to cash"})]})}),t.isLiquidAsset&&r.jsx(Ya,{children:(o=t.isLiquidAsset)==null?void 0:o.message})]})})}})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsx(Re,{name:"purchaseDate",control:e,render:({field:{value:a,onChange:i,...s}})=>{var o;return r.jsx(Rr,{...s,label:"Purchase Date",value:a?ze(a):null,onChange:l=>{i(l?l.format("YYYY-MM-DD"):null)},maxDate:ze(),slotProps:{textField:{fullWidth:!0,error:!!t.purchaseDate,helperText:((o=t.purchaseDate)==null?void 0:o.message)||"Date when the vehicle was purchased",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}}}})}})})]})})},G9=()=>{const{control:e,formState:{errors:t}}=tr();return r.jsx(w,{children:r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,children:r.jsxs(w,{mb:2,children:[r.jsx(v,{variant:"h5",component:"h2",gutterBottom:!0,fontWeight:"600",children:"Documentation & Valuation"}),r.jsx(v,{variant:"body1",color:"text.secondary",children:"Enter registration, insurance, and valuation information for the vehicle."})]})}),r.jsx(N,{item:!0,xs:12,children:r.jsxs(Ie,{variant:"outlined",sx:{p:3,borderRadius:2,bgcolor:"green.50"},children:[r.jsx(v,{variant:"h6",gutterBottom:!0,color:"primary",fontWeight:"600",children:"💰 Financial Valuation"}),r.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Enter current market values and assessments for the vehicle."}),r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,sm:4,children:r.jsx(Re,{name:"currentValuation",control:e,render:({field:n})=>{var a;return r.jsx(fe,{...n,label:"Current Valuation",type:"number",fullWidth:!0,InputProps:{startAdornment:r.jsx($e,{position:"start",children:"$"})},inputProps:{min:0,max:1e7},error:!!t.currentValuation,helperText:((a=t.currentValuation)==null?void 0:a.message)||"Current assessed value",value:n.value||"",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}})}),r.jsx(N,{item:!0,xs:12,sm:4,children:r.jsx(Re,{name:"marketValue",control:e,render:({field:n})=>{var a;return r.jsx(fe,{...n,label:"Market Value",type:"number",fullWidth:!0,InputProps:{startAdornment:r.jsx($e,{position:"start",children:"$"})},inputProps:{min:0,max:1e7},error:!!t.marketValue,helperText:((a=t.marketValue)==null?void 0:a.message)||"Current market price",value:n.value||"",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}})}),r.jsx(N,{item:!0,xs:12,sm:4,children:r.jsx(Re,{name:"depreciatedValue",control:e,render:({field:n})=>{var a;return r.jsx(fe,{...n,label:"Depreciated Value",type:"number",fullWidth:!0,InputProps:{startAdornment:r.jsx($e,{position:"start",children:"$"})},inputProps:{min:0,max:1e7},error:!!t.depreciatedValue,helperText:((a=t.depreciatedValue)==null?void 0:a.message)||"Book value after depreciation",value:n.value||"",sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}})}})})]})]})}),r.jsx(N,{item:!0,xs:12,children:r.jsx(_e,{severity:"info",sx:{borderRadius:2},children:r.jsxs(v,{variant:"body2",children:[r.jsx("strong",{children:"Tip:"})," All documentation fields are optional but recommended for complete record keeping. Accurate valuations help with financial reporting and asset management."]})})})]})})},Q9=()=>{const e=new Date().getFullYear();return n0({licensePlate:_n().required("License plate is required").min(3,"License plate must be at least 3 characters").max(15,"License plate cannot exceed 15 characters").matches(/^[A-Z0-9\-\s]+$/i,"License plate can only contain letters, numbers, hyphens, and spaces").transform(t=>t==null?void 0:t.toUpperCase()),vin:_n().required("VIN is required").length(17,"VIN must be exactly 17 characters").matches(/^[A-HJ-NPR-Z0-9]+$/i,"Invalid VIN format - excludes I, O, Q").transform(t=>t==null?void 0:t.toUpperCase()),make:_n().required("Make is required").min(2,"Make must be at least 2 characters").max(50,"Make cannot exceed 50 characters").matches(/^[a-zA-Z\s\-&]+$/,"Make can only contain letters, spaces, hyphens, and ampersands"),model:_n().required("Model is required").min(1,"Model must be at least 1 character").max(50,"Model cannot exceed 50 characters"),year:Ni().required("Year is required").min(1900,"Year must be at least 1900").max(e+1,`Year must not exceed ${e+1}`).integer("Year must be a whole number"),color:_n().max(30,"Color cannot exceed 30 characters").matches(/^[a-zA-Z\s\-]+$/,"Color can only contain letters, spaces, and hyphens").nullable(),status:_n().required("Status is required").oneOf(Object.values(Qe),"Invalid status selected"),fuelType:_n().oneOf([...Object.values(ca),""],"Invalid fuel type").nullable(),legalOwner:_n().max(100,"Legal owner name cannot exceed 100 characters").nullable(),isLiquidAsset:Zx().nullable(),purchaseDate:_n().nullable().test("valid-date","Invalid purchase date",function(t){if(!t)return!0;const n=ze(t);return n.isValid()?n.isAfter(ze())?this.createError({message:"Purchase date cannot be in the future"}):n.isBefore(ze("1900-01-01"))?this.createError({message:"Purchase date seems too old"}):!0:!1}),currentValuation:Ni().nullable().min(0,"Current valuation cannot be negative").max(1e7,"Current valuation seems unrealistic (max: $10M)"),marketValue:Ni().nullable().min(0,"Market value cannot be negative").max(1e7,"Market value seems unrealistic (max: $10M)"),depreciatedValue:Ni().nullable().min(0,"Depreciated value cannot be negative").max(1e7,"Depreciated value seems unrealistic (max: $10M)").test("less-than-market","Depreciated value should not exceed market value",function(t){const n=this.parent.marketValue;return!t||!n?!0:t<=n})})},Za={BASIC_INFO:["licensePlate","vin","make","model","year","color","status"],DETAILS:["fuelType","legalOwner","isLiquidAsset","purchaseDate"],DOCUMENTATION:["currentValuation","marketValue","depreciatedValue"]},Xa={BASIC_INFO:["licensePlate","vin","make","model","year","status"],DETAILS:[],DOCUMENTATION:[]},Vi=[{label:"Basic Information",fields:Za.BASIC_INFO,required:Xa.BASIC_INFO,description:"Enter primary vehicle identification details"},{label:"Details & Specifications",fields:Za.DETAILS,required:Xa.DETAILS,description:"Provide technical specifications and ownership details"},{label:"Documentation & Valuation",fields:Za.DOCUMENTATION,required:Xa.DOCUMENTATION,description:"Enter registration, insurance, and valuation information"}],H0=({initialData:e,onSubmit:t,loading:n,activeStep:a,onStepChange:i,steps:s=Vi.map(l=>l.label),isEdit:o=!1})=>{const l=x.useMemo(()=>Q9(),[]),c=Hd({defaultValues:{licensePlate:"",vin:"",make:"",model:"",year:new Date().getFullYear(),color:"",status:Qe.AVAILABLE,fuelType:"",legalOwner:"",isLiquidAsset:!1,purchaseDate:null,currentValuation:null,marketValue:null,depreciatedValue:null,...e},resolver:q9(l),mode:"onChange",reValidateMode:"onChange"}),{handleSubmit:d,formState:{errors:u,isValid:h},trigger:p,getValues:y,reset:b}=c,m=x.useCallback(D=>{switch(D){case 0:return Za.BASIC_INFO;case 1:return Za.DETAILS;case 2:return Za.DOCUMENTATION;default:return[]}},[]),f=x.useCallback(D=>{switch(D){case 0:return Xa.BASIC_INFO;case 1:return Xa.DETAILS;case 2:return Xa.DOCUMENTATION;default:return[]}},[]),j=x.useCallback(()=>{const D=m(a),C=f(a).every(R=>{const O=y(R);return O!=null&&O!==""}),k=D.every(R=>!u[R]);return C&&k},[a,u,m,f,y]),$=x.useCallback(async()=>{const D=m(a);return await p(D)},[a,m,p]),S=x.useCallback(async()=>{await $()&&i(a+1)},[a,i,$]),T=x.useCallback(()=>{i(a-1)},[a,i]),A=x.useCallback(async D=>{try{if(!await p()){console.error("Form validation failed");return}await t(D)}catch(P){console.error("Submission failed:",P)}},[t,p]);re.useEffect(()=>{e&&b({licensePlate:"",vin:"",make:"",model:"",year:new Date().getFullYear(),color:"",status:Qe.AVAILABLE,fuelType:"",legalOwner:"",isLiquidAsset:!1,currentValuation:null,marketValue:null,depreciatedValue:null,...e})},[e,b]);const M=x.useCallback(()=>{switch(a){case 0:return r.jsx(H9,{});case 1:return r.jsx(Y9,{});case 2:return r.jsx(G9,{});default:return null}},[a]),g=x.useMemo(()=>m(a).filter(P=>u[P]).map(P=>{var C;return{field:P,message:(C=u[P])==null?void 0:C.message}}),[a,u,m]);return r.jsx(Ur,{dateAdapter:Go,children:r.jsx(Wd,{...c,children:r.jsxs(Ie,{elevation:2,sx:{p:4},children:[r.jsx(w,{mb:4,children:r.jsx(rd,{activeStep:a,alternativeLabel:!0,children:Vi.map((D,P)=>r.jsx(ad,{children:r.jsx(id,{error:a===P&&g.length>0,children:D.label})},D.label))})}),g.length>0&&r.jsx(bn,{in:!0,children:r.jsxs(_e,{severity:"error",sx:{mb:3},children:[r.jsx(v,{variant:"subtitle2",gutterBottom:!0,children:"Please fix the following errors:"}),r.jsx(w,{component:"ul",sx:{m:0,pl:2},children:g.map(({field:D,message:P})=>r.jsx("li",{children:r.jsx(v,{variant:"body2",children:P})},D))})]})}),r.jsx(w,{mb:4,children:M()}),r.jsx(Ee,{sx:{my:3}}),r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx(ue,{type:"button",variant:"outlined",onClick:T,disabled:a===0,sx:{borderRadius:2,px:3,py:1.5,textTransform:"none",fontWeight:600},children:"Back"}),r.jsxs(w,{sx:{display:"flex",gap:2,alignItems:"center"},children:[r.jsxs(v,{variant:"body2",color:"text.secondary",children:["Step ",a+1," of ",Vi.length]}),a<Vi.length-1?r.jsx(ue,{type:"button",variant:"contained",onClick:S,disabled:!j(),sx:{borderRadius:2,px:3,py:1.5,textTransform:"none",fontWeight:600,boxShadow:2},children:"Next"}):r.jsx(ue,{type:"button",variant:"contained",color:"primary",disabled:n||!h,onClick:d(A),startIcon:n?r.jsx(fn,{size:20,color:"inherit"}):null,sx:{borderRadius:2,px:3,py:1.5,textTransform:"none",fontWeight:600,boxShadow:2},children:n?"Saving...":o?"Update Vehicle":"Create Vehicle"})]})]})]})})})},K9=()=>{const e=yt(),[t,n]=x.useState(!1),[a,i]=x.useState(null),[s,o]=x.useState(null),[l,c]=x.useState(0),d=Vi.map(p=>p.label),u=p=>{c(p),i(null)},h=async p=>{var y,b,m,f;try{n(!0),i(null),o(null),console.log("Creating vehicle with data:",p);const $=(await We.post(Ut.VEHICLES,p)).data;o(`Vehicle ${p.licensePlate} created successfully!`),setTimeout(()=>{e(`/vehicles/${$.id}`)},1500)}catch(j){console.error("Error creating vehicle:",j),i(((b=(y=j.response)==null?void 0:y.data)==null?void 0:b.message)||((f=(m=j.response)==null?void 0:m.data)==null?void 0:f.error)||"Failed to create vehicle. Please check your input and try again.")}finally{n(!1)}};return r.jsxs(w,{children:[r.jsxs(w,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx(v,{variant:"h4",children:"Add New Vehicle"}),r.jsx(de,{label:`Step ${l+1}/${d.length}`,color:"primary",variant:"outlined"})]}),s&&r.jsx(_e,{severity:"success",sx:{mb:3},children:s}),a&&r.jsxs(_e,{severity:"error",sx:{mb:3},children:[r.jsx(v,{variant:"subtitle2",gutterBottom:!0,children:"Creation Failed"}),a]}),r.jsx(H0,{onSubmit:h,loading:t,activeStep:l,onStepChange:u,steps:d,isEdit:!1})]})},Z9=x.createContext({}),ns=Z9;function X9(e){return Et("MuiTimeline",e)}At("MuiTimeline",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse"]);function Hr(e){return e==="alternate-reverse"?"positionAlternateReverse":`position${cd(e)}`}const J9=["position","className"],eP=e=>{const{position:t,classes:n}=e,a={root:["root",t&&Hr(t)]};return Ct(a,X9,n)},tP=Oe("ul",{name:"MuiTimeline",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.position&&t[Hr(n.position)]]}})({display:"flex",flexDirection:"column",padding:"6px 16px",flexGrow:1}),nP=x.forwardRef(function(t,n){const a=ft({props:t,name:"MuiTimeline"}),{position:i="right",className:s}=a,o=qe(a,J9),l=G({},a,{position:i}),c=eP(l),d=x.useMemo(()=>({position:i}),[i]);return r.jsx(ns.Provider,{value:d,children:r.jsx(tP,G({className:vt(c.root,s),ownerState:l,ref:n},o))})}),lf=nP;function rP(e){return Et("MuiTimelineConnector",e)}At("MuiTimelineConnector",["root"]);const aP=["className"],iP=e=>{const{classes:t}=e;return Ct({root:["root"]},rP,t)},sP=Oe("span",{name:"MuiTimelineConnector",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({width:2,backgroundColor:(e.vars||e).palette.grey[400],flexGrow:1})),oP=x.forwardRef(function(t,n){const a=ft({props:t,name:"MuiTimelineConnector"}),{className:i}=a,s=qe(a,aP),o=a,l=iP(o);return r.jsx(sP,G({className:vt(l.root,i),ownerState:o,ref:n},s))}),ac=oP;function lP(e){return Et("MuiTimelineContent",e)}const cP=At("MuiTimelineContent",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse"]),dP=cP,uP=["className"],hP=e=>{const{position:t,classes:n}=e,a={root:["root",Hr(t)]};return Ct(a,lP,n)},pP=Oe(v,{name:"MuiTimelineContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[Hr(n.position)]]}})(({ownerState:e})=>G({flex:1,padding:"6px 16px",textAlign:"left"},e.position==="left"&&{textAlign:"right"})),fP=x.forwardRef(function(t,n){const a=ft({props:t,name:"MuiTimelineContent"}),{className:i}=a,s=qe(a,uP),{position:o}=x.useContext(ns),l=G({},a,{position:o||"right"}),c=hP(l);return r.jsx(pP,G({component:"div",className:vt(c.root,i),ownerState:l,ref:n},s))}),Is=fP;function mP(e){return Et("MuiTimelineDot",e)}At("MuiTimelineDot",["root","filled","outlined","filledGrey","outlinedGrey","filledPrimary","outlinedPrimary","filledSecondary","outlinedSecondary"]);const xP=["className","color","variant"],gP=e=>{const{color:t,variant:n,classes:a}=e,i={root:["root",n,t!=="inherit"&&`${n}${cd(t)}`]};return Ct(i,mP,a)},vP=Oe("span",{name:"MuiTimelineDot",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.color!=="inherit"&&`${n.variant}${cd(n.color)}`],t[n.variant]]}})(({ownerState:e,theme:t})=>G({display:"flex",alignSelf:"baseline",borderStyle:"solid",borderWidth:2,padding:4,borderRadius:"50%",boxShadow:(t.vars||t).shadows[1],margin:"11.5px 0"},e.variant==="filled"&&G({borderColor:"transparent"},e.color!=="inherit"&&G({},e.color==="grey"?{color:(t.vars||t).palette.grey[50],backgroundColor:(t.vars||t).palette.grey[400]}:{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main})),e.variant==="outlined"&&G({boxShadow:"none",backgroundColor:"transparent"},e.color!=="inherit"&&G({},e.color==="grey"?{borderColor:(t.vars||t).palette.grey[400]}:{borderColor:(t.vars||t).palette[e.color].main})))),yP=x.forwardRef(function(t,n){const a=ft({props:t,name:"MuiTimelineDot"}),{className:i,color:s="grey",variant:o="filled"}=a,l=qe(a,xP),c=G({},a,{color:s,variant:o}),d=gP(c);return r.jsx(vP,G({className:vt(d.root,i),ownerState:c,ref:n},l))}),Ms=yP;function bP(e){return Et("MuiTimelineOppositeContent",e)}const jP=At("MuiTimelineOppositeContent",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse"]),wP=jP,CP=["className"],$P=e=>{const{position:t,classes:n}=e,a={root:["root",Hr(t)]};return Ct(a,bP,n)},SP=Oe(v,{name:"MuiTimelineOppositeContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[Hr(n.position)]]}})(({ownerState:e})=>G({padding:"6px 16px",marginRight:"auto",textAlign:"right",flex:1},e.position==="left"&&{textAlign:"left"})),Y0=x.forwardRef(function(t,n){const a=ft({props:t,name:"MuiTimelineOppositeContent"}),{className:i}=a,s=qe(a,CP),{position:o}=x.useContext(ns),l=G({},a,{position:o||"left"}),c=$P(l);return r.jsx(SP,G({component:"div",className:vt(c.root,i),ownerState:l,ref:n},s))});Y0.muiName="TimelineOppositeContent";const Os=Y0;function DP(e){return Et("MuiTimelineItem",e)}At("MuiTimelineItem",["root","positionLeft","positionRight","positionAlternate","positionAlternateReverse","missingOppositeContent"]);const TP=["position","className"],kP=e=>{const{position:t,classes:n,hasOppositeContent:a}=e,i={root:["root",Hr(t),!a&&"missingOppositeContent"]};return Ct(i,DP,n)},PP=Oe("li",{name:"MuiTimelineItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[Hr(n.position)]]}})(({ownerState:e})=>G({listStyle:"none",display:"flex",position:"relative",minHeight:70},e.position==="left"&&{flexDirection:"row-reverse"},(e.position==="alternate"||e.position==="alternate-reverse")&&{[`&:nth-of-type(${e.position==="alternate"?"even":"odd"})`]:{flexDirection:"row-reverse",[`& .${dP.root}`]:{textAlign:"right"},[`& .${wP.root}`]:{textAlign:"left"}}},!e.hasOppositeContent&&{"&::before":{content:'""',flex:1,padding:"6px 16px"}})),EP=x.forwardRef(function(t,n){const a=ft({props:t,name:"MuiTimelineItem"}),{position:i,className:s}=a,o=qe(a,TP),{position:l}=x.useContext(ns);let c=!1;x.Children.forEach(a.children,p=>{Bg(p,["TimelineOppositeContent"])&&(c=!0)});const d=G({},a,{position:i||l||"right",hasOppositeContent:c}),u=kP(d),h=x.useMemo(()=>({position:d.position}),[d.position]);return r.jsx(ns.Provider,{value:h,children:r.jsx(PP,G({className:vt(u.root,s),ownerState:d,ref:n},o))})}),Rs=EP;function AP(e){return Et("MuiTimelineSeparator",e)}At("MuiTimelineSeparator",["root"]);const IP=["className"],MP=e=>{const{classes:t}=e;return Ct({root:["root"]},AP,t)},OP=Oe("div",{name:"MuiTimelineSeparator",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",flex:0,alignItems:"center"}),RP=x.forwardRef(function(t,n){const a=ft({props:t,name:"MuiTimelineSeparator"}),{className:i}=a,s=qe(a,IP),o=a,l=MP(o);return r.jsx(OP,G({className:vt(l.root,i),ownerState:o,ref:n},s))}),Ns=RP,za=({children:e,value:t,index:n,...a})=>r.jsx("div",{role:"tabpanel",hidden:t!==n,id:`vehicle-tabpanel-${n}`,"aria-labelledby":`vehicle-tab-${n}`,...a,children:t===n&&r.jsx(w,{sx:{py:3},children:e})}),NP=e=>{switch(e){case Qe.AVAILABLE:return"success";case Qe.LEASED:return"primary";case Qe.MAINTENANCE:return"warning";case Qe.SOLD:return"info";case Qe.LIQUID_ASSET:return"secondary";default:return"default"}},FP=e=>{switch(e){case Ba.EXCELLENT:return"success";case Ba.GOOD:return"primary";case Ba.FAIR:return"warning";case Ba.POOR:case Ba.NEEDS_REPAIR:return"error";default:return"default"}},Sr=e=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"N/A",ic=e=>e?new Intl.NumberFormat("en-US").format(e)+" miles":"N/A",LP=()=>{const{id:e}=Mn(),t=yt(),[n,a]=x.useState(null),[i,s]=x.useState(!0),[o,l]=x.useState(null),[c,d]=x.useState(null),[u,h]=x.useState(0),[p,y]=x.useState(!1),[b,m]=x.useState(!1),[f,j]=x.useState(!1),[$]=x.useState({utilizationRate:85,maintenanceCost:2500,revenueGenerated:15e3,profitability:75,depreciationRate:12});x.useEffect(()=>{e&&S(e)},[e]);const S=async E=>{var I,V;try{s(!0),l(null);const U=await ja.getVehicleById(E);a(U)}catch(U){l(((V=(I=U==null?void 0:U.response)==null?void 0:I.data)==null?void 0:V.message)||"Failed to load vehicle details")}finally{s(!1)}},T=async()=>{e&&(j(!0),await S(e),j(!1))},A=()=>{t(`/vehicles/${e}/edit`)},M=async()=>{var E,I;if(e){try{await ja.deleteVehicle(e),t("/vehicles")}catch(V){l(((I=(E=V==null?void 0:V.response)==null?void 0:E.data)==null?void 0:I.message)||"Failed to delete vehicle")}y(!1)}},g=E=>{d(E.currentTarget)},D=()=>{d(null)},P=(E,I)=>{h(I)},C=()=>{m(!b)},k=E=>{if(!E)return null;const I=new Date(E),V=new Date,U=I.getTime()-V.getTime();return Math.ceil(U/(1e3*60*60*24))},R=(E,I=30)=>{const V=k(E);return V!==null&&V<=I&&V>0},O=E=>{const I=k(E);return I!==null&&I<0};return i?r.jsxs(w,{sx:{p:3},children:[r.jsx(le,{variant:"text",width:"30%",height:40,sx:{mb:2}}),r.jsx(le,{variant:"rectangular",width:"100%",height:200,sx:{mb:2}}),r.jsx(N,{container:!0,spacing:3,children:[...Array(6)].map((E,I)=>r.jsx(N,{item:!0,xs:12,md:6,lg:4,children:r.jsx(le,{variant:"rectangular",width:"100%",height:150})},I))})]}):o?r.jsxs(w,{sx:{p:3},children:[r.jsx(_e,{severity:"error",sx:{mb:2},children:o}),r.jsx(ue,{variant:"contained",onClick:()=>t("/vehicles"),startIcon:r.jsx(Or,{}),children:"Back to Vehicles"})]}):n?r.jsxs(w,{sx:{p:3},children:[r.jsxs(Ug,{separator:r.jsx(qg,{fontSize:"small"}),sx:{mb:3},children:[r.jsx(Hg,{color:"inherit",href:"/vehicles",onClick:E=>{E.preventDefault(),t("/vehicles")},children:"Vehicles"}),r.jsxs(v,{color:"text.primary",children:[n.make," ",n.model]})]}),r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsx(pn,{sx:{bgcolor:"primary.main",width:64,height:64},children:r.jsx(pt,{fontSize:"large"})}),r.jsxs(w,{children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsxs(v,{variant:"h4",component:"h1",sx:{fontWeight:700},children:[n.make," ",n.model]}),r.jsx(Ae,{onClick:C,color:b?"error":"default",children:b?r.jsx(Yg,{}):r.jsx(Gg,{})})]}),r.jsxs(v,{variant:"h6",color:"text.secondary",sx:{mb:1},children:[n.year," • ",n.licensePlate]}),r.jsxs(w,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[r.jsx(de,{label:n.status,color:NP(n.status),size:"small"}),n.condition&&r.jsx(de,{label:n.condition,color:FP(n.condition),size:"small"}),n.isLiquidAsset&&r.jsx(de,{label:"Liquid Asset",color:"secondary",size:"small"})]})]})]}),r.jsxs(w,{sx:{display:"flex",gap:1},children:[r.jsx(ot,{title:"Refresh",children:r.jsx(Ae,{onClick:T,disabled:f,children:f?r.jsx(fn,{size:20}):r.jsx(pr,{})})}),r.jsx(ue,{variant:"outlined",startIcon:r.jsx(Ht,{}),onClick:A,children:"Edit"}),r.jsx(ue,{variant:"outlined",startIcon:r.jsx(Vf,{}),children:"Share"}),r.jsx(Ae,{onClick:g,children:r.jsx(_r,{})})]})]}),r.jsxs(N,{container:!0,spacing:3,sx:{mb:4},children:[r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsx(Fe,{sx:{height:"100%"},children:r.jsxs(Le,{sx:{textAlign:"center"},children:[r.jsx(Yt,{color:"success",sx:{fontSize:40,mb:1}}),r.jsx(v,{variant:"h4",sx:{fontWeight:700,color:"success.main"},children:Sr(n.currentValuation)}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Current Value"})]})})}),r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsx(Fe,{sx:{height:"100%"},children:r.jsxs(Le,{sx:{textAlign:"center"},children:[r.jsx(Qg,{color:"primary",sx:{fontSize:40,mb:1}}),r.jsx(v,{variant:"h4",sx:{fontWeight:700,color:"primary.main"},children:ic(n.mileage)}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Mileage"})]})})}),r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsx(Fe,{sx:{height:"100%"},children:r.jsxs(Le,{sx:{textAlign:"center"},children:[r.jsx(zo,{color:"info",sx:{fontSize:40,mb:1}}),r.jsxs(v,{variant:"h4",sx:{fontWeight:700,color:"info.main"},children:[$.utilizationRate,"%"]}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Utilization Rate"})]})})}),r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsx(Fe,{sx:{height:"100%"},children:r.jsxs(Le,{sx:{textAlign:"center"},children:[r.jsx(pu,{color:"warning",sx:{fontSize:40,mb:1}}),r.jsxs(v,{variant:"h4",sx:{fontWeight:700,color:"warning.main"},children:[$.profitability,"%"]}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Profitability"})]})})})]}),(R(n.insuranceExpiryDate)||R(n.registrationExpiryDate)||O(n.insuranceExpiryDate)||O(n.registrationExpiryDate))&&r.jsxs(_e,{severity:O(n.insuranceExpiryDate)||O(n.registrationExpiryDate)?"error":"warning",sx:{mb:3},children:[r.jsx(v,{variant:"subtitle2",gutterBottom:!0,children:O(n.insuranceExpiryDate)||O(n.registrationExpiryDate)?"Expired Documents":"Expiring Soon"}),r.jsxs(un,{dense:!0,children:[(R(n.insuranceExpiryDate)||O(n.insuranceExpiryDate))&&r.jsx(kt,{children:r.jsx(Ot,{primary:`Insurance ${O(n.insuranceExpiryDate)?"expired":"expires"} ${n.insuranceExpiryDate?rn(new Date(n.insuranceExpiryDate),"MMM dd, yyyy"):""}`})}),(R(n.registrationExpiryDate)||O(n.registrationExpiryDate))&&r.jsx(kt,{children:r.jsx(Ot,{primary:`Registration ${O(n.registrationExpiryDate)?"expired":"expires"} ${n.registrationExpiryDate?rn(new Date(n.registrationExpiryDate),"MMM dd, yyyy"):""}`})})]})]}),r.jsxs(Ie,{sx:{mb:3},children:[r.jsxs(Lf,{value:u,onChange:P,variant:"scrollable",scrollButtons:"auto",sx:{borderBottom:1,borderColor:"divider"},children:[r.jsx(ia,{label:"Overview",icon:r.jsx($a,{}),iconPosition:"start"}),r.jsx(ia,{label:"Financial",icon:r.jsx(Yt,{}),iconPosition:"start"}),r.jsx(ia,{label:"Maintenance",icon:r.jsx(Lo,{}),iconPosition:"start"}),r.jsx(ia,{label:"Documents",icon:r.jsx(hr,{}),iconPosition:"start"}),r.jsx(ia,{label:"History",icon:r.jsx(Xn,{}),iconPosition:"start"}),r.jsx(ia,{label:"Analytics",icon:r.jsx(pu,{}),iconPosition:"start"})]}),r.jsx(za,{value:u,index:0,children:r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(Fe,{children:r.jsxs(Le,{children:[r.jsxs(v,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(pt,{}),"Vehicle Information"]}),r.jsx(Ee,{sx:{mb:2}}),r.jsxs(N,{container:!0,spacing:2,children:[r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"VIN"}),r.jsx(v,{variant:"body1",sx:{fontWeight:500},children:n.vin})]}),r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"License Plate"}),r.jsx(v,{variant:"body1",sx:{fontWeight:500},children:n.licensePlate})]}),r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Make & Model"}),r.jsxs(v,{variant:"body1",sx:{fontWeight:500},children:[n.make," ",n.model]})]}),r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Year"}),r.jsx(v,{variant:"body1",sx:{fontWeight:500},children:n.year})]}),r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Color"}),r.jsx(v,{variant:"body1",sx:{fontWeight:500},children:n.color||"N/A"})]}),r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Fuel Type"}),r.jsx(v,{variant:"body1",sx:{fontWeight:500},children:n.fuelType||"N/A"})]}),r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Transmission"}),r.jsx(v,{variant:"body1",sx:{fontWeight:500},children:n.transmission||"N/A"})]}),r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Mileage"}),r.jsx(v,{variant:"body1",sx:{fontWeight:500},children:ic(n.mileage)})]})]})]})})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(Fe,{children:r.jsxs(Le,{children:[r.jsxs(v,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(et,{}),"Customer Information"]}),r.jsx(Ee,{sx:{mb:2}}),n.customerId?r.jsxs(w,{children:[r.jsx(v,{variant:"body1",sx:{fontWeight:500,mb:1},children:n.customerName||"Unknown Customer"}),r.jsx(ue,{size:"small",onClick:()=>t(`/customers/${n.customerId}`),children:"View Customer Profile"})]}):r.jsx(v,{variant:"body2",color:"text.secondary",children:"No customer assigned"})]})})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(Fe,{children:r.jsxs(Le,{children:[r.jsxs(v,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(zr,{}),"Insurance & Registration"]}),r.jsx(Ee,{sx:{mb:2}}),r.jsxs(N,{container:!0,spacing:2,children:[r.jsxs(N,{item:!0,xs:12,children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Insurance Provider"}),r.jsx(v,{variant:"body1",sx:{fontWeight:500},children:n.insuranceProvider||"N/A"})]}),r.jsxs(N,{item:!0,xs:12,children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Policy Number"}),r.jsx(v,{variant:"body1",sx:{fontWeight:500},children:n.insurancePolicyNumber||"N/A"})]}),r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Insurance Expiry"}),r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(v,{variant:"body1",sx:{fontWeight:500},children:n.insuranceExpiryDate?rn(new Date(n.insuranceExpiryDate),"MMM dd, yyyy"):"N/A"}),R(n.insuranceExpiryDate)&&r.jsx(kn,{color:"warning",fontSize:"small"}),O(n.insuranceExpiryDate)&&r.jsx(kn,{color:"error",fontSize:"small"})]})]}),r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Registration Expiry"}),r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(v,{variant:"body1",sx:{fontWeight:500},children:n.registrationExpiryDate?rn(new Date(n.registrationExpiryDate),"MMM dd, yyyy"):"N/A"}),R(n.registrationExpiryDate)&&r.jsx(kn,{color:"warning",fontSize:"small"}),O(n.registrationExpiryDate)&&r.jsx(kn,{color:"error",fontSize:"small"})]})]})]})]})})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(Fe,{children:r.jsxs(Le,{children:[r.jsxs(v,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(hr,{}),"Legal Information"]}),r.jsx(Ee,{sx:{mb:2}}),r.jsxs(N,{container:!0,spacing:2,children:[r.jsxs(N,{item:!0,xs:12,children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Legal Owner"}),r.jsx(v,{variant:"body1",sx:{fontWeight:500},children:n.legalOwner||"N/A"})]}),r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Purchase Date"}),r.jsx(v,{variant:"body1",sx:{fontWeight:500},children:n.purchaseDate?rn(new Date(n.purchaseDate),"MMM dd, yyyy"):"N/A"})]}),r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Registration Date"}),r.jsx(v,{variant:"body1",sx:{fontWeight:500},children:n.registrationDate?rn(new Date(n.registrationDate),"MMM dd, yyyy"):"N/A"})]})]})]})})})]})}),r.jsx(za,{value:u,index:1,children:r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,md:4,children:r.jsx(Fe,{children:r.jsxs(Le,{sx:{textAlign:"center"},children:[r.jsx(v,{variant:"h4",sx:{fontWeight:700,color:"success.main",mb:1},children:Sr(n.currentValuation)}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Current Valuation"})]})})}),r.jsx(N,{item:!0,xs:12,md:4,children:r.jsx(Fe,{children:r.jsxs(Le,{sx:{textAlign:"center"},children:[r.jsx(v,{variant:"h4",sx:{fontWeight:700,color:"primary.main",mb:1},children:Sr(n.marketValue)}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Market Value"})]})})}),r.jsx(N,{item:!0,xs:12,md:4,children:r.jsx(Fe,{children:r.jsxs(Le,{sx:{textAlign:"center"},children:[r.jsx(v,{variant:"h4",sx:{fontWeight:700,color:"info.main",mb:1},children:Sr(n.purchasePrice)}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Purchase Price"})]})})}),r.jsx(N,{item:!0,xs:12,children:r.jsx(Fe,{children:r.jsxs(Le,{children:[r.jsx(v,{variant:"h6",gutterBottom:!0,children:"Financial Performance"}),r.jsx(Ee,{sx:{mb:3}}),r.jsxs(N,{container:!0,spacing:3,children:[r.jsxs(N,{item:!0,xs:12,md:6,children:[r.jsx(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Revenue Generated (YTD)"}),r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[r.jsx(v,{variant:"h5",sx:{fontWeight:600},children:Sr($.revenueGenerated)}),r.jsx(de,{label:"+12%",color:"success",size:"small"})]}),r.jsx(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Maintenance Costs (YTD)"}),r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[r.jsx(v,{variant:"h5",sx:{fontWeight:600},children:Sr($.maintenanceCost)}),r.jsx(de,{label:"-5%",color:"info",size:"small"})]})]}),r.jsxs(N,{item:!0,xs:12,md:6,children:[r.jsx(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Depreciation Rate (Annual)"}),r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[r.jsxs(v,{variant:"h5",sx:{fontWeight:600},children:[$.depreciationRate,"%"]}),r.jsx(Wa,{variant:"determinate",value:$.depreciationRate,sx:{flex:1,height:8,borderRadius:4}})]}),r.jsx(v,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Profitability Score"}),r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsxs(v,{variant:"h5",sx:{fontWeight:600},children:[$.profitability,"%"]}),r.jsx(Wa,{variant:"determinate",value:$.profitability,color:"success",sx:{flex:1,height:8,borderRadius:4}})]})]})]})]})})})]})}),r.jsx(za,{value:u,index:2,children:r.jsx(N,{container:!0,spacing:3,children:r.jsx(N,{item:!0,xs:12,children:r.jsx(Fe,{children:r.jsxs(Le,{children:[r.jsx(v,{variant:"h6",gutterBottom:!0,children:"Maintenance History"}),r.jsx(Ee,{sx:{mb:2}}),n.maintenanceHistory&&n.maintenanceHistory.length>0?r.jsx(lf,{children:n.maintenanceHistory.map((E,I)=>r.jsxs(Rs,{children:[r.jsx(Os,{color:"text.secondary",children:rn(new Date(E.date),"MMM dd, yyyy")}),r.jsxs(Ns,{children:[r.jsx(Ms,{color:E.performed?"success":"warning",children:E.performed?r.jsx(lt,{}):r.jsx(is,{})}),I<n.maintenanceHistory.length-1&&r.jsx(ac,{})]}),r.jsxs(Is,{children:[r.jsx(v,{variant:"subtitle2",gutterBottom:!0,children:E.description}),r.jsxs(v,{variant:"body2",color:"text.secondary",children:["Cost: ",Sr(E.cost)," • Mileage: ",ic(E.mileage)]})]})]},E.id))}):r.jsx(v,{variant:"body2",color:"text.secondary",children:"No maintenance history available"})]})})})})}),r.jsx(za,{value:u,index:3,children:r.jsx(N,{container:!0,spacing:3,children:r.jsx(N,{item:!0,xs:12,children:r.jsx(Fe,{children:r.jsxs(Le,{children:[r.jsx(v,{variant:"h6",gutterBottom:!0,children:"Vehicle Documents"}),r.jsx(Ee,{sx:{mb:2}}),n.documents&&n.documents.length>0?r.jsx(un,{children:n.documents.map(E=>r.jsxs(kt,{divider:!0,children:[r.jsx(Ot,{primary:E.name,secondary:`${E.type} • Uploaded ${rn(new Date(E.uploadDate),"MMM dd, yyyy")}`}),r.jsxs(Yi,{direction:"row",spacing:1,children:[r.jsx(Ae,{size:"small",children:r.jsx(Jn,{})}),r.jsx(Ae,{size:"small",children:r.jsx(va,{})})]})]},E.id))}):r.jsx(v,{variant:"body2",color:"text.secondary",children:"No documents available"})]})})})})}),r.jsx(za,{value:u,index:4,children:r.jsx(N,{container:!0,spacing:3,children:r.jsx(N,{item:!0,xs:12,children:r.jsx(Fe,{children:r.jsxs(Le,{children:[r.jsx(v,{variant:"h6",gutterBottom:!0,children:"Vehicle History"}),r.jsx(Ee,{sx:{mb:2}}),r.jsxs(lf,{children:[r.jsxs(Rs,{children:[r.jsx(Os,{color:"text.secondary",children:rn(new Date(n.createdAt),"MMM dd, yyyy")}),r.jsxs(Ns,{children:[r.jsx(Ms,{color:"primary",children:r.jsx(pt,{})}),r.jsx(ac,{})]}),r.jsxs(Is,{children:[r.jsx(v,{variant:"subtitle2",children:"Vehicle Added to Fleet"}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Vehicle was registered in the system"})]})]}),n.purchaseDate&&r.jsxs(Rs,{children:[r.jsx(Os,{color:"text.secondary",children:rn(new Date(n.purchaseDate),"MMM dd, yyyy")}),r.jsxs(Ns,{children:[r.jsx(Ms,{color:"success",children:r.jsx(Yt,{})}),r.jsx(ac,{})]}),r.jsxs(Is,{children:[r.jsx(v,{variant:"subtitle2",children:"Vehicle Purchased"}),r.jsxs(v,{variant:"body2",color:"text.secondary",children:["Purchase price: ",Sr(n.purchasePrice)]})]})]}),r.jsxs(Rs,{children:[r.jsx(Os,{color:"text.secondary",children:rn(new Date(n.updatedAt),"MMM dd, yyyy")}),r.jsx(Ns,{children:r.jsx(Ms,{color:"info",children:r.jsx(Ht,{})})}),r.jsxs(Is,{children:[r.jsx(v,{variant:"subtitle2",children:"Last Updated"}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Vehicle information was last modified"})]})]})]})]})})})})}),r.jsx(za,{value:u,index:5,children:r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(Fe,{children:r.jsxs(Le,{children:[r.jsx(v,{variant:"h6",gutterBottom:!0,children:"Performance Metrics"}),r.jsx(Ee,{sx:{mb:3}}),r.jsxs(w,{sx:{mb:3},children:[r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[r.jsx(v,{variant:"body2",children:"Utilization Rate"}),r.jsxs(v,{variant:"body2",children:[$.utilizationRate,"%"]})]}),r.jsx(Wa,{variant:"determinate",value:$.utilizationRate,sx:{height:8,borderRadius:4}})]}),r.jsxs(w,{sx:{mb:3},children:[r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[r.jsx(v,{variant:"body2",children:"Profitability"}),r.jsxs(v,{variant:"body2",children:[$.profitability,"%"]})]}),r.jsx(Wa,{variant:"determinate",value:$.profitability,color:"success",sx:{height:8,borderRadius:4}})]}),r.jsxs(w,{children:[r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[r.jsx(v,{variant:"body2",children:"Depreciation Rate"}),r.jsxs(v,{variant:"body2",children:[$.depreciationRate,"%"]})]}),r.jsx(Wa,{variant:"determinate",value:$.depreciationRate,color:"warning",sx:{height:8,borderRadius:4}})]})]})})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(Fe,{children:r.jsxs(Le,{children:[r.jsx(v,{variant:"h6",gutterBottom:!0,children:"Quick Insights"}),r.jsx(Ee,{sx:{mb:2}}),r.jsxs(un,{children:[r.jsxs(kt,{children:[r.jsx(Ot,{primary:"High Performer",secondary:"This vehicle generates above-average revenue"}),r.jsx(lt,{color:"success"})]}),r.jsxs(kt,{children:[r.jsx(Ot,{primary:"Low Maintenance",secondary:"Maintenance costs are below fleet average"}),r.jsx(lt,{color:"success"})]}),r.jsxs(kt,{children:[r.jsx(Ot,{primary:"Insurance Due Soon",secondary:"Insurance expires in 15 days"}),r.jsx(kn,{color:"warning"})]})]})]})})})]})})]}),r.jsxs(Kn,{anchorEl:c,open:!!c,onClose:D,children:[r.jsxs(ne,{onClick:()=>{D(),A()},children:[r.jsx(Ht,{sx:{mr:1}}),"Edit Vehicle"]}),r.jsxs(ne,{onClick:()=>{D()},children:[r.jsx(hr,{sx:{mr:1}}),"Duplicate Vehicle"]}),r.jsxs(ne,{onClick:()=>{D()},children:[r.jsx(va,{sx:{mr:1}}),"Export Details"]}),r.jsxs(ne,{onClick:()=>{D()},children:[r.jsx(Kg,{sx:{mr:1}}),"Print"]}),r.jsx(Ee,{}),r.jsxs(ne,{onClick:()=>{D(),y(!0)},sx:{color:"error.main"},children:[r.jsx(sn,{sx:{mr:1}}),"Delete Vehicle"]})]}),r.jsxs(Lr,{open:p,onClose:()=>y(!1),children:[r.jsx(Ca,{children:"Delete Vehicle"}),r.jsx(Vr,{children:r.jsx(Pf,{children:"Are you sure you want to delete this vehicle? This action cannot be undone."})}),r.jsxs(ui,{children:[r.jsx(ue,{onClick:()=>y(!1),children:"Cancel"}),r.jsx(ue,{onClick:M,color:"error",variant:"contained",children:"Delete"})]})]})]}):r.jsxs(w,{sx:{p:3},children:[r.jsx(_e,{severity:"warning",sx:{mb:2},children:"Vehicle not found"}),r.jsx(ue,{variant:"contained",onClick:()=>t("/vehicles"),startIcon:r.jsx(Or,{}),children:"Back to Vehicles"})]})},VP=e=>({"Total Vehicles":pt,"Active Contracts":yn,"Total Customers":kf,"Monthly Revenue":Yt})[e]||pt,zP=({metric:e,loading:t=!1})=>{console.log("MetricCard props:",{metric:e,loading:t});const n=e.icon||VP(e.title),a=(e.change||0)>=0,i=Ve();return t?r.jsxs(Fe,{sx:{height:"100%",background:i.palette.background.paper,border:`1px solid ${i.palette.divider}`,borderRadius:2,p:3},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[r.jsx(le,{variant:"circular",width:48,height:48}),r.jsx(le,{variant:"rectangular",width:60,height:24,sx:{borderRadius:1}})]}),r.jsx(le,{variant:"text",sx:{fontSize:"2rem",mb:1}}),r.jsx(le,{variant:"text",sx:{fontSize:"1rem",mb:1}}),r.jsx(le,{variant:"text",sx:{fontSize:"0.875rem"}})]}):r.jsx(Fe,{sx:{height:"100%",background:i.palette.background.paper,border:`1px solid ${i.palette.divider}`,borderRadius:2,transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",position:"relative",overflow:"hidden","&:hover":{transform:"translateY(-4px)",boxShadow:i.shadows[8],borderColor:i.palette.primary.main},"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:`linear-gradient(90deg, ${i.palette[e.color||"primary"].main}, ${i.palette[e.color||"primary"].light})`}},children:r.jsxs(Le,{sx:{p:3,pb:"24px !important"},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[r.jsx(w,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:56,height:56,borderRadius:2,bgcolor:`${e.color||"primary"}.main`,color:"white",boxShadow:`0 8px 16px -4px ${i.palette[e.color||"primary"].main}40`,"& > svg":{fontSize:28}},children:r.jsx(n,{})}),e.change!==void 0&&r.jsx(de,{icon:a?r.jsx(zo,{sx:{fontSize:"16px !important"}}):r.jsx(Zg,{sx:{fontSize:"16px !important"}}),label:`${a?"+":""}${e.change}%`,size:"small",color:a?"success":"error",variant:"outlined",sx:{fontWeight:600,fontSize:"0.75rem",height:28,"& .MuiChip-icon":{fontSize:16}}})]}),r.jsx(v,{variant:"h4",component:"div",sx:{fontWeight:800,mb:1,color:i.palette.text.primary,fontSize:"2rem",lineHeight:1.2},children:e.value}),r.jsx(v,{variant:"body1",sx:{mb:1,fontWeight:600,color:i.palette.text.primary,fontSize:"0.95rem"},children:e.title}),e.changeLabel&&r.jsx(v,{variant:"caption",sx:{color:i.palette.text.secondary,fontSize:"0.8rem",fontWeight:500},children:e.changeLabel})]})})},_P=({title:e,data:t,loading:n=!1})=>{const a=Ve();if(n)return r.jsx(Fe,{sx:{height:"100%",background:a.palette.background.paper,border:`1px solid ${a.palette.divider}`,boxShadow:a.shadows[2]},children:r.jsxs(Le,{sx:{p:3},children:[r.jsx(le,{variant:"text",width:"60%",height:32,sx:{mb:3}}),r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:3},children:[r.jsx(w,{sx:{flex:"0 0 200px"},children:r.jsx(le,{variant:"circular",width:200,height:200})}),r.jsx(w,{sx:{flex:1},children:r.jsx(un,{dense:!0,children:[...Array(4)].map((h,p)=>r.jsxs(kt,{sx:{py:.5},children:[r.jsx(vn,{sx:{minWidth:32},children:r.jsx(le,{variant:"circular",width:12,height:12})}),r.jsx(Ot,{primary:r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx(le,{variant:"text",width:"40%"}),r.jsx(le,{variant:"text",width:"30%"})]})})]},p))})})]})]})});const i=t.data.reduce((h,p)=>h+p,0),s=t.data.map((h,p)=>{const y=h/i*100,b=h/i*360;return{label:t.labels[p],value:h,percentage:y,angle:b,color:t.colors[p]}});let o=0;const l=80,c=100,d=100,u=(h,p)=>{const y=h*Math.PI/180,b=p*Math.PI/180,m=c+l*Math.cos(y),f=d+l*Math.sin(y),j=c+l*Math.cos(b),$=d+l*Math.sin(b),S=p-h<=180?"0":"1";return`M ${c} ${d} L ${m} ${f} A ${l} ${l} 0 ${S} 1 ${j} ${$} Z`};return r.jsx(Fe,{sx:{height:"100%",background:a.palette.background.paper,border:`1px solid ${a.palette.divider}`,boxShadow:a.shadows[2]},children:r.jsxs(Le,{sx:{p:3},children:[r.jsx(v,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:700,color:a.palette.text.primary,mb:3,fontSize:"1.25rem"},children:e}),r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:3},children:[r.jsx(w,{sx:{flex:"0 0 200px"},children:r.jsx("svg",{width:"200",height:"200",viewBox:"0 0 200 200",children:s.map((h,p)=>{const y=u(o,o+h.angle);return o+=h.angle,r.jsx("path",{d:y,fill:h.color,stroke:"#fff",strokeWidth:"2",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))",transition:"all 0.3s ease"}},p)})})}),r.jsx(w,{sx:{flex:1},children:r.jsx(un,{dense:!0,children:s.map((h,p)=>r.jsxs(kt,{sx:{py:.5},children:[r.jsx(vn,{sx:{minWidth:32},children:r.jsx(Xg,{sx:{color:h.color,fontSize:12}})}),r.jsx(Ot,{primary:r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx(v,{variant:"body2",sx:{fontWeight:500},children:h.label}),r.jsxs(v,{variant:"body2",color:"text.secondary",children:[h.value," (",h.percentage.toFixed(1),"%)"]})]})})]},p))})})]})]})})},WP=({title:e,data:t,loading:n=!1})=>{const a=Ve();if(n)return r.jsx(Fe,{sx:{height:"100%",background:a.palette.background.paper,border:`1px solid ${a.palette.divider}`,boxShadow:a.shadows[2]},children:r.jsxs(Le,{sx:{p:3},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[r.jsx(le,{variant:"text",width:"60%",height:32}),r.jsxs(w,{sx:{display:"flex",gap:1},children:[r.jsx(le,{variant:"rounded",width:80,height:24}),r.jsx(le,{variant:"rounded",width:80,height:24})]})]}),r.jsx(w,{sx:{width:"100%",overflowX:"auto"},children:r.jsx(le,{variant:"rectangular",width:600,height:200})})]})});const{labels:i,datasets:s}=t,o=s.flatMap(S=>S.data),l=Math.min(...o),c=Math.max(...o),d=c-l,u=600,h=200,p=40,y=u-2*p,b=h-2*p,m=S=>p+S/(i.length-1)*y,f=S=>p+(c-S)/d*b,j=[],$=5;for(let S=0;S<=$;S++){const T=p+S/$*b,A=c-S/$*d;j.push({y:T,value:A})}return r.jsx(Fe,{sx:{height:"100%",background:a.palette.background.paper,border:`1px solid ${a.palette.divider}`,boxShadow:a.shadows[2]},children:r.jsxs(Le,{sx:{p:3},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[r.jsx(v,{variant:"h6",component:"h3",sx:{fontWeight:700,color:a.palette.text.primary,fontSize:"1.25rem"},children:e}),r.jsx(w,{sx:{display:"flex",gap:1},children:s.map((S,T)=>r.jsx(de,{label:S.label,size:"small",sx:{bgcolor:S.color,color:"white",fontWeight:500}},T))})]}),r.jsx(w,{sx:{width:"100%",overflowX:"auto"},children:r.jsxs("svg",{width:u,height:h,style:{display:"block"},children:[j.map((S,T)=>r.jsxs("g",{children:[r.jsx("line",{x1:p,y1:S.y,x2:u-p,y2:S.y,stroke:"#e2e8f0",strokeWidth:"1",strokeDasharray:"2,2"}),r.jsx("text",{x:p-5,y:S.y+4,fontSize:"10",fill:"#64748b",textAnchor:"end",children:S.value.toLocaleString()})]},T)),i.map((S,T)=>r.jsx("text",{x:m(T),y:h-p+15,fontSize:"10",fill:"#64748b",textAnchor:"middle",children:S},T)),s.map((S,T)=>{const A=S.data.map((M,g)=>`${g===0?"M":"L"} ${m(g)} ${f(M)}`).join(" ");return r.jsxs("g",{children:[r.jsx("path",{d:A,fill:"none",stroke:S.color,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))"}}),S.data.map((M,g)=>r.jsx("circle",{cx:m(g),cy:f(M),r:"4",fill:S.color,stroke:"white",strokeWidth:"2",style:{filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.1))"}},g))]},T)})]})})]})})},BP=({title:e,data:t,loading:n=!1})=>{const a=Ve();if(n)return r.jsx(Fe,{sx:{height:"100%",background:a.palette.background.paper,border:`1px solid ${a.palette.divider}`,boxShadow:a.shadows[2]},children:r.jsxs(Le,{sx:{p:3},children:[r.jsx(le,{variant:"text",width:"60%",height:32,sx:{mb:3}}),r.jsx(w,{sx:{display:"flex",justifyContent:"center",mt:2},children:r.jsx(le,{variant:"rectangular",width:400,height:250})})]})});const{labels:i,data:s,colors:o}=t,l=Math.max(...s),c=400,d=250,u=40,h=d-2*u,p=(c-2*u)/i.length*.6,y=(c-2*u)/i.length;return r.jsx(Fe,{sx:{height:"100%",background:a.palette.background.paper,border:`1px solid ${a.palette.divider}`,boxShadow:a.shadows[2]},children:r.jsxs(Le,{sx:{p:3},children:[r.jsx(v,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:700,color:a.palette.text.primary,mb:3,fontSize:"1.25rem"},children:e}),r.jsx(w,{sx:{display:"flex",justifyContent:"center",mt:2},children:r.jsxs("svg",{width:c,height:d,children:[[0,.25,.5,.75,1].map((b,m)=>{const f=u+h*(1-b),j=Math.round(l*b);return r.jsxs("g",{children:[r.jsx("line",{x1:u,y1:f,x2:c-u,y2:f,stroke:"#e2e8f0",strokeWidth:"1",strokeDasharray:"2,2"}),r.jsx("text",{x:u-5,y:f+4,fontSize:"10",fill:"#64748b",textAnchor:"end",children:j})]},m)}),s.map((b,m)=>{const f=b/l*h,j=u+m*y+(y-p)/2,$=u+h-f,S=(o==null?void 0:o[m])||"#3b82f6";return r.jsxs("g",{children:[r.jsx("rect",{x:j,y:$,width:p,height:f,fill:S,rx:"4",ry:"4",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))"}}),r.jsx("text",{x:j+p/2,y:$-8,fontSize:"12",fill:"#374151",textAnchor:"middle",fontWeight:"600",children:b}),r.jsx("text",{x:j+p/2,y:d-u+15,fontSize:"12",fill:"#64748b",textAnchor:"middle",fontWeight:"500",children:i[m]})]},m)})]})})]})})},UP=e=>{switch(e){case"contract":return r.jsx(yn,{});case"vehicle":return r.jsx(pt,{});case"customer":return r.jsx(et,{});case"payment":return r.jsx(Zn,{});default:return r.jsx($a,{})}},qP=e=>{switch(e){case"success":return r.jsx(lt,{sx:{fontSize:16}});case"warning":return r.jsx(kn,{sx:{fontSize:16}});case"error":return r.jsx(Sa,{sx:{fontSize:16}});default:return r.jsx($a,{sx:{fontSize:16}})}},HP=e=>({success:"#10b981",warning:"#f59e0b",error:"#ef4444",info:"#3b82f6"})[e||"info"]||"#3b82f6",YP=e=>{const t=typeof e=="string"?new Date(e):e,a=Math.floor((new Date().getTime()-t.getTime())/(1e3*60*60));return a<1?"Just now":a<24?`${a}h ago`:`${Math.floor(a/24)}d ago`},GP=({title:e,activities:t,loading:n=!1})=>{const a=Ve();return n?r.jsx(Fe,{sx:{height:"100%",background:a.palette.background.paper,border:`1px solid ${a.palette.divider}`,boxShadow:a.shadows[2]},children:r.jsxs(Le,{sx:{p:3},children:[e&&r.jsx(le,{variant:"text",width:"40%",height:32,sx:{mb:3}}),r.jsx(un,{sx:{pt:0},children:[...Array(5)].map((i,s)=>r.jsxs(kt,{sx:{px:0,py:1.5,borderBottom:"1px solid",borderBottomColor:"divider","&:last-child":{borderBottom:"none"}},children:[r.jsx(pc,{children:r.jsx(le,{variant:"circular",width:40,height:40})}),r.jsx(Ot,{primary:r.jsxs(w,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:.5},children:[r.jsx(le,{variant:"text",width:"60%"}),r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(le,{variant:"circular",width:16,height:16}),r.jsx(le,{variant:"text",width:50})]})]}),secondary:r.jsxs(w,{children:[r.jsx(le,{variant:"text",width:"80%",sx:{mb:1}}),r.jsx(le,{variant:"rounded",width:70,height:20})]})})]},s))})]})}):r.jsx(Fe,{sx:{height:"100%",background:a.palette.background.paper,border:`1px solid ${a.palette.divider}`,boxShadow:a.shadows[2]},children:r.jsxs(Le,{sx:{p:3},children:[e&&r.jsx(v,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:700,color:a.palette.text.primary,mb:3,fontSize:"1.25rem"},children:e}),r.jsx(un,{sx:{pt:0},children:t.map(i=>{const s=UP(i.type),o=qP(i.status),l=HP(i.status);return r.jsxs(kt,{sx:{px:0,py:1.5,borderBottom:"1px solid",borderBottomColor:"divider","&:last-child":{borderBottom:"none"}},children:[r.jsx(pc,{children:r.jsx(pn,{sx:{bgcolor:l,width:40,height:40},children:s})}),r.jsxs(w,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:.5},children:[r.jsx(v,{variant:"body2",sx:{fontWeight:600},children:i.title}),r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(w,{sx:{color:l},children:o}),r.jsx(v,{variant:"caption",color:"text.secondary",children:YP(i.timestamp)})]})]}),r.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:1},children:i.description}),r.jsx(de,{label:i.type.charAt(0).toUpperCase()+i.type.slice(1),size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:20,borderColor:l,color:l,alignSelf:"flex-start"}})]})]},i.id)})})]})})},cf={metrics:[{title:"Total Vehicles",value:247,change:12,changeLabel:"from last month",color:"primary"},{title:"Active Contracts",value:189,change:8,changeLabel:"from last month",color:"success"},{title:"Total Customers",value:156,change:-3,changeLabel:"from last month",color:"info"},{title:"Monthly Revenue",value:"€127,450",change:15.8,changeLabel:"from last month",color:"secondary"}],vehicleStatusChart:{labels:["Active","Maintenance","Available","Out of Service"],data:[142,23,67,15],colors:["#10b981","#f59e0b","#3b82f6","#ef4444"]},revenueChart:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Revenue",data:[95e3,102e3,98e3,115e3,127e3,134e3,128e3,145e3,139e3,152e3,148e3,165e3],color:"#3b82f6"},{label:"Expenses",data:[65e3,68e3,71e3,75e3,78e3,82e3,79e3,86e3,83e3,89e3,87e3,91e3],color:"#ef4444"}]},contractsChart:{labels:["Q1","Q2","Q3","Q4"],data:[45,52,61,48],colors:["#6366f1","#8b5cf6","#06b6d4","#10b981"]},recentActivity:[{id:"1",type:"contract",title:"New Contract Signed",description:"Contract #2024-001 signed with ABC Company",timestamp:new Date(Date.now()-2*60*60*1e3),status:"success"},{id:"2",type:"vehicle",title:"Vehicle Maintenance Completed",description:"Vehicle VIN-12345 maintenance completed",timestamp:new Date(Date.now()-4*60*60*1e3),status:"info"},{id:"3",type:"customer",title:"New Customer Registration",description:"John Doe registered as new individual customer",timestamp:new Date(Date.now()-6*60*60*1e3),status:"success"},{id:"4",type:"payment",title:"Payment Overdue",description:"Payment for Contract #2023-156 is overdue",timestamp:new Date(Date.now()-8*60*60*1e3),status:"warning"},{id:"5",type:"vehicle",title:"Vehicle Status Updated",description:"Vehicle VIN-67890 marked as available",timestamp:new Date(Date.now()-12*60*60*1e3),status:"info"}]},QP=()=>{const[e,t]=x.useState(cf),[n,a]=x.useState(!0),[i,s]=x.useState(null),o=async()=>{try{a(!0),s(null),await new Promise(c=>setTimeout(c,500)),t(cf)}catch(c){s(c instanceof Error?c.message:"Failed to fetch dashboard data")}finally{a(!1)}},l=async()=>{await o()};return x.useEffect(()=>{o()},[]),{data:e,loading:n,error:i,refreshData:l}},KP=()=>{const e=Ve(),{data:t,loading:n,error:a,refreshData:i}=QP();return console.log("Dashboard data:",t),console.log("Dashboard loading:",n),console.log("Dashboard error:",a),a?r.jsx(Ga,{maxWidth:"xl",sx:{py:4},children:r.jsx(_e,{severity:"error",action:r.jsx(ue,{color:"inherit",size:"small",onClick:i,startIcon:r.jsx(pr,{}),children:"Retry"}),children:a})}):r.jsx(w,{sx:{minHeight:"100vh",bgcolor:e.palette.background.default,py:{xs:2,md:4}},children:r.jsxs(Ga,{maxWidth:"xl",sx:{px:{xs:2,md:3}},children:[r.jsxs(Ie,{elevation:0,sx:{p:{xs:3,md:4},mb:4,bgcolor:"transparent",textAlign:"center"},children:[r.jsx(v,{variant:"h3",component:"h1",gutterBottom:!0,sx:{fontWeight:800,color:e.palette.text.primary,letterSpacing:"-0.02em",mb:1,fontSize:{xs:"2rem",sm:"2.5rem",md:"3rem"}},children:"Fleet Management Dashboard"}),r.jsx(v,{variant:"h6",color:"text.secondary",sx:{fontWeight:400,fontSize:{xs:"1rem",md:"1.25rem"},maxWidth:"600px",mx:"auto"},children:"Real-time overview of your fleet operations and performance metrics"})]}),r.jsxs(w,{sx:{mb:5},children:[r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[r.jsx(v,{variant:"h5",sx:{fontWeight:700,color:e.palette.text.primary},children:"Key Metrics"}),r.jsx(ue,{variant:"outlined",size:"small",startIcon:r.jsx(pr,{}),onClick:i,disabled:n,sx:{minWidth:"auto"},children:"Refresh"})]}),r.jsx(N,{container:!0,spacing:3,children:t.metrics.map((s,o)=>r.jsx(N,{item:!0,xs:12,sm:6,lg:3,children:r.jsx(zP,{metric:s,loading:n})},o))})]}),r.jsx(Ee,{sx:{my:4}}),r.jsxs(w,{sx:{mb:5},children:[r.jsx(v,{variant:"h5",sx:{fontWeight:700,mb:3,color:e.palette.text.primary},children:"Analytics & Reports"}),r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(_P,{title:"Vehicle Status Distribution",data:t.vehicleStatusChart,loading:n})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(BP,{title:"Quarterly Contracts",data:t.contractsChart,loading:n})})]})]}),r.jsxs(w,{sx:{mb:5},children:[r.jsx(v,{variant:"h5",sx:{fontWeight:700,mb:3,color:e.palette.text.primary},children:"Financial Overview"}),r.jsx(N,{container:!0,spacing:3,children:r.jsx(N,{item:!0,xs:12,children:r.jsx(WP,{title:"Revenue vs Expenses (2024)",data:t.revenueChart,loading:n})})})]}),r.jsx(Ee,{sx:{my:4}}),r.jsxs(w,{children:[r.jsx(v,{variant:"h5",sx:{fontWeight:700,mb:3,color:e.palette.text.primary},children:"Recent Activity"}),r.jsx(N,{container:!0,spacing:3,children:r.jsx(N,{item:!0,xs:12,children:r.jsx(GP,{title:"",activities:t.recentActivity,loading:n})})})]})]})})},G0=({open:e,onClose:t,onSubmit:n,isCreating:a,title:i="Create New Customer"})=>{const[s,o]=x.useState(0),l=["Customer Type","Customer Details","Additional Information"],c=d=>{o(d)};return r.jsxs(Lr,{open:e,onClose:t,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{borderRadius:2,minHeight:"60vh",maxHeight:"85vh",width:"90%",maxWidth:"1000px"}},children:[r.jsxs(Ca,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:1,borderBottom:"1px solid",borderColor:"divider"},children:[r.jsxs(w,{children:[r.jsx(v,{variant:"h5",component:"h2",sx:{fontWeight:600},children:i}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Complete the form below to add a new customer"})]}),r.jsx(Ae,{onClick:t,size:"small",disabled:a,children:r.jsx(sd,{})})]}),r.jsx(Vr,{sx:{p:2,overflow:"auto",display:"flex",flexDirection:"column",maxHeight:"calc(85vh - 100px)"},children:r.jsx(w,{sx:{transform:"scale(0.9)",transformOrigin:"top center",width:"111%",marginLeft:"-5.5%"},children:r.jsx(tu,{onSubmit:n,loading:a,activeStep:s,onStepChange:c,steps:l,isEdit:!1})})})]})},ZP=({open:e,onClose:t,onSubmit:n,isCreating:a,title:i="Create New Vehicle"})=>{const[s,o]=x.useState(0),l=["Basic Information","Details & Specifications","Documentation & Valuation"],c=d=>{o(d)};return r.jsxs(Lr,{open:e,onClose:t,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{borderRadius:2,minHeight:"60vh",maxHeight:"85vh",width:"90%",maxWidth:"1000px"}},children:[r.jsxs(Ca,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:1,borderBottom:"1px solid",borderColor:"divider"},children:[r.jsxs(w,{children:[r.jsx(v,{variant:"h5",component:"h2",sx:{fontWeight:600},children:i}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Complete the form below to add a new vehicle to the fleet"})]}),r.jsx(Ae,{onClick:t,size:"small",disabled:a,children:r.jsx(sd,{})})]}),r.jsx(Vr,{sx:{p:2,overflow:"auto",display:"flex",flexDirection:"column",maxHeight:"calc(85vh - 100px)"},children:r.jsx(w,{sx:{transform:"scale(0.9)",transformOrigin:"top center",width:"111%",marginLeft:"-5.5%"},children:r.jsx(H0,{onSubmit:n,loading:a,activeStep:s,onStepChange:c,steps:l,isEdit:!1})})})]})},XP=(e,t)=>{const[n,a]=x.useState(e);return x.useEffect(()=>{const i=setTimeout(()=>{a(e)},t);return()=>{clearTimeout(i)}},[e,t]),n},JP=({selectedCustomerId:e,onCustomerSelect:t,preSelectedCustomerId:n,disabled:a=!1,error:i,onCreateCustomer:s})=>{var k,R;const o=Ve(),[l,c]=x.useState({searchTerm:"",selectedCustomer:null,isOpen:!1,hasInteracted:!1,isCreateModalOpen:!1,isCreatingCustomer:!1}),d=XP(l.searchTerm,300),{data:u,isLoading:h,error:p,refetch:y}=Z3({search:d,limit:50,offset:0},{skip:!d&&!n&&!e}),b=x.useMemo(()=>(u||[]).filter(O=>O.type==="individual"||O.type==="business").map(O=>({...O,status:O.status||"active",isVerified:O.isVerified??!0,type:O.type})),[u]),m=x.useCallback(O=>{switch(O){case"individual":return r.jsx(et,{});case"business":return r.jsx(tn,{});default:return r.jsx(et,{})}},[]),f=x.useCallback(O=>{switch(O){case"individual":return o.palette.primary.main;case"business":return o.palette.secondary.main;default:return o.palette.grey[500]}},[o]),j=x.useCallback(O=>{switch(O){case"individual":return"Individual";case"business":return"Business";default:return"Unknown"}},[]);x.useEffect(()=>{var O;if(n&&b.length>0){const E=b.find(I=>I.id===n);E&&E.id!==((O=l.selectedCustomer)==null?void 0:O.id)&&(c(I=>({...I,selectedCustomer:E})),t(E))}},[n,b,t,(k=l.selectedCustomer)==null?void 0:k.id]),x.useEffect(()=>{var O;if(e&&b.length>0){const E=b.find(I=>I.id===e);E&&E.id!==((O=l.selectedCustomer)==null?void 0:O.id)&&c(I=>({...I,selectedCustomer:E}))}else!e&&l.selectedCustomer&&c(E=>({...E,selectedCustomer:null}))},[e,b,(R=l.selectedCustomer)==null?void 0:R.id]);const $=x.useCallback((O,E)=>{c(I=>({...I,selectedCustomer:E,hasInteracted:!0})),t(E)},[t]),S=x.useCallback((O,E)=>{c(I=>({...I,hasInteracted:!0,searchTerm:E}))},[]),T=x.useCallback(()=>{c(O=>({...O,isOpen:!0}))},[]),A=x.useCallback(()=>{c(O=>({...O,isOpen:!1}))},[]),M=x.useCallback(()=>{y()},[y]),g=x.useCallback(()=>{c(O=>({...O,isCreateModalOpen:!0}))},[]),D=x.useCallback(()=>{c(O=>({...O,isCreateModalOpen:!1}))},[]),P=x.useCallback(async O=>{try{c(V=>({...V,isCreatingCustomer:!0}));const E=await wn.create(O),I={id:E.id,name:E.type==="individual"?`${E.firstName} ${E.lastName}`.trim():E.legalName||E.administratorName,type:E.type,email:E.email,phone:E.phone,status:"active",isVerified:!0};c(V=>({...V,selectedCustomer:I,isCreateModalOpen:!1,isCreatingCustomer:!1})),t(I),y()}catch(E){console.error("Failed to create customer:",E),c(I=>({...I,isCreatingCustomer:!1}))}},[t,y]);if(p)return r.jsx(_e,{severity:"error",sx:{mt:1},action:r.jsx(Ae,{color:"inherit",size:"small",onClick:M,"aria-label":"retry",children:r.jsx(pr,{})}),children:"Failed to load customers. Please try again."});const C=!!n;return r.jsxs(w,{children:[r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2,p:2,borderRadius:2,bgcolor:F(o.palette.primary.main,.02),border:`1px solid ${F(o.palette.primary.main,.1)}`},children:[r.jsxs(w,{children:[r.jsx(v,{variant:"h6",component:"h3",sx:{fontWeight:600,color:"primary.main"},children:"Select Customer"}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Choose a business or individual customer for this contract"})]}),s&&r.jsx(ot,{title:"Create a new customer",children:r.jsx(ue,{variant:"outlined",startIcon:r.jsx(Zt,{}),onClick:g,size:"small",sx:{borderRadius:2,textTransform:"none",fontWeight:500},children:"Create Customer"})})]}),r.jsx(dd,{value:l.selectedCustomer,onChange:$,onInputChange:S,onOpen:T,onClose:A,options:b,getOptionLabel:O=>O.name,isOptionEqualToValue:(O,E)=>O.id===E.id,loading:h,disabled:a,filterOptions:O=>O,clearOnBlur:!0,selectOnFocus:!0,handleHomeEndKeys:!0,freeSolo:!1,renderInput:O=>r.jsx(fe,{...O,label:"Customer",placeholder:l.hasInteracted?"Search customers...":"Start typing to search...",error:!!i,helperText:i||(C?"Customer pre-selected from account page":l.hasInteracted?"Search and select a business or individual customer":"Type to search for business and individual customers"),InputProps:{...O.InputProps,startAdornment:r.jsx($e,{position:"start",children:r.jsx(en,{sx:{color:"text.secondary"}})}),endAdornment:r.jsxs($e,{position:"end",children:[h&&r.jsx(fn,{color:"inherit",size:20}),O.InputProps.endAdornment]})},sx:{"& .MuiOutlinedInput-root":{transition:"all 0.2s ease","&:hover":{boxShadow:`0 0 0 1px ${F(o.palette.primary.main,.2)}`},"&.Mui-focused":{boxShadow:`0 0 0 2px ${F(o.palette.primary.main,.2)}`}}}}),renderOption:(O,E)=>{var V;const I=E.id===((V=l.selectedCustomer)==null?void 0:V.id);return x.createElement(ne,{...O,key:E.id,sx:{transition:"all 0.2s ease",borderRadius:1,mx:.5,my:.25,backgroundColor:I?F(o.palette.primary.main,.1):"transparent","&:hover":{backgroundColor:F(o.palette.primary.main,.05)}}},r.jsx(pc,{children:r.jsx(pn,{sx:{bgcolor:f(E.type),width:36,height:36,boxShadow:o.shadows[2]},children:m(E.type)})}),r.jsx(Ot,{primary:r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(v,{variant:"body2",sx:{fontWeight:500},children:E.name}),r.jsx(de,{label:j(E.type),size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:20,borderColor:f(E.type),color:f(E.type)}}),E.isVerified&&r.jsx(ot,{title:"Verified customer",children:r.jsx(lt,{sx:{fontSize:14,color:o.palette.success.main}})}),E.status==="inactive"&&r.jsx(de,{label:"Inactive",size:"small",color:"warning",variant:"outlined",sx:{fontSize:"0.6rem",height:18}})]}),secondary:r.jsxs(w,{sx:{mt:.5},children:[E.customerCode&&r.jsxs(v,{variant:"caption",color:"text.secondary",display:"block",children:["ID: ",E.customerCode]}),E.email&&r.jsxs(v,{variant:"caption",color:"text.secondary",display:"block",children:["📧 ",E.email]}),E.phone&&r.jsxs(v,{variant:"caption",color:"text.secondary",display:"block",children:["📞 ",E.phone]})]})}))},PaperComponent:O=>r.jsx(Ie,{...O,sx:{mt:1,maxHeight:400,overflow:"auto",boxShadow:o.shadows[8],border:`1px solid ${o.palette.divider}`,borderRadius:2}}),ListboxProps:{sx:{padding:1,"& .MuiAutocomplete-option":{padding:0}}},noOptionsText:r.jsx(w,{sx:{textAlign:"center",py:2},children:r.jsx(v,{variant:"body2",color:"text.secondary",children:l.searchTerm?"No business or individual customers found":"Start typing to search business and individual customers"})}),loadingText:r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1,py:2,justifyContent:"center"},children:[r.jsx(fn,{size:16}),r.jsx(v,{variant:"body2",children:"Loading business and individual customers..."})]})}),l.selectedCustomer&&r.jsx(bn,{in:!0,timeout:300,children:r.jsx(Ie,{elevation:0,sx:{mt:2,p:2.5,border:"2px solid",borderColor:F(f(l.selectedCustomer.type),.3),borderRadius:2,bgcolor:F(f(l.selectedCustomer.type),.02),transition:"all 0.3s ease"},children:r.jsxs(w,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[r.jsx(pn,{sx:{bgcolor:f(l.selectedCustomer.type),width:56,height:56,boxShadow:o.shadows[3]},children:m(l.selectedCustomer.type)}),r.jsxs(w,{sx:{flex:1},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[r.jsx(v,{variant:"h6",sx:{fontWeight:600},children:l.selectedCustomer.name}),r.jsx(de,{label:j(l.selectedCustomer.type),size:"small",sx:{bgcolor:f(l.selectedCustomer.type),color:"white",fontWeight:500}}),l.selectedCustomer.isVerified&&r.jsx(ot,{title:"Verified customer",children:r.jsx(lt,{sx:{fontSize:18,color:o.palette.success.main}})})]}),l.selectedCustomer.customerCode&&r.jsxs(v,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:["Customer ID: ",l.selectedCustomer.customerCode]}),l.selectedCustomer.email&&r.jsxs(v,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:["📧 ",l.selectedCustomer.email]}),l.selectedCustomer.phone&&r.jsxs(v,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:["📞 ",l.selectedCustomer.phone]}),l.selectedCustomer.status&&r.jsx(w,{sx:{mt:1},children:r.jsx(de,{label:`Status: ${l.selectedCustomer.status}`,size:"small",color:l.selectedCustomer.status==="active"?"success":"warning",variant:"outlined"})})]}),!C&&r.jsx(ot,{title:"Customer information",children:r.jsx(Ae,{size:"small",sx:{alignSelf:"flex-start"},children:r.jsx($a,{fontSize:"small"})})})]})})}),h&&!l.selectedCustomer&&r.jsx(w,{sx:{mt:2},children:r.jsx(le,{variant:"rectangular",height:80,sx:{borderRadius:2}})}),r.jsx(G0,{open:l.isCreateModalOpen,onClose:D,onSubmit:P,isCreating:l.isCreatingCustomer})]})},eE=(e,t)=>{const[n,a]=x.useState(e);return x.useEffect(()=>{const i=setTimeout(()=>{a(e)},t);return()=>{clearTimeout(i)}},[e,t]),n},tE=({selectedVehicleIds:e,onVehicleSelect:t,error:n})=>{var M;const a=Ve(),[i,s]=x.useState({searchTerm:"",selectedVehicle:null,isOpen:!1,hasInteracted:!1,isCreateModalOpen:!1,isCreatingVehicle:!1}),o=eE(i.searchTerm,300),{data:l=[],isLoading:c,error:d,refetch:u}=X3({search:o,status:"AVAILABLE"}),h=x.useMemo(()=>l.filter(g=>g.status==="AVAILABLE").map(g=>({...g,status:"AVAILABLE",isVerified:g.isVerified??!0,mileage:g.mileage,fuelType:g.fuelType,color:g.color})),[l]),p=x.useMemo(()=>i.selectedVehicle?h.filter(g=>g.id!==i.selectedVehicle.id):h,[h,i.selectedVehicle]);x.useEffect(()=>{var D;const g=e[0];if(g&&h.length>0){const P=h.find(C=>C.id===g);P&&P.id!==((D=i.selectedVehicle)==null?void 0:D.id)&&s(C=>({...C,selectedVehicle:P}))}else!g&&i.selectedVehicle&&s(P=>({...P,selectedVehicle:null}))},[e,h,(M=i.selectedVehicle)==null?void 0:M.id]);const y=x.useCallback(g=>{s(D=>({...D,selectedVehicle:g,hasInteracted:!0})),t(g?[g.id]:[])},[t]),b=x.useCallback((g,D)=>{s(P=>({...P,hasInteracted:!0,searchTerm:D}))},[]),m=x.useCallback(()=>{s(g=>({...g,isOpen:!0}))},[]),f=x.useCallback(()=>{s(g=>({...g,isOpen:!1}))},[]),j=x.useCallback(g=>`${g.year} ${g.make} ${g.model} - ${g.licensePlate}`,[]),$=x.useCallback(()=>{u()},[u]),S=x.useCallback(()=>{s(g=>({...g,isCreateModalOpen:!0}))},[]),T=x.useCallback(()=>{s(g=>({...g,isCreateModalOpen:!1}))},[]),A=x.useCallback(async g=>{try{s(C=>({...C,isCreatingVehicle:!0}));const D=await ja.createVehicle(g),P={id:D.id,make:D.make,model:D.model,year:D.year,licensePlate:D.licensePlate,vinNumber:D.vin,status:"AVAILABLE",isVerified:!0,mileage:D.mileage,fuelType:D.fuelType,color:D.color};s(C=>({...C,selectedVehicle:P,isCreateModalOpen:!1,isCreatingVehicle:!1})),t([P.id]),u()}catch(D){console.error("Failed to create vehicle:",D),s(P=>({...P,isCreatingVehicle:!1}))}},[t,u]);return d?r.jsx(_e,{severity:"error",sx:{mt:1},action:r.jsx(Ae,{color:"inherit",size:"small",onClick:$,"aria-label":"retry loading vehicles",children:r.jsx(pr,{})}),children:"Failed to load available vehicles. Please try again."}):r.jsxs(w,{children:[r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,p:2,bgcolor:F(a.palette.primary.main,.02),borderRadius:2,border:`1px solid ${F(a.palette.primary.main,.1)}`},children:[r.jsxs(w,{children:[r.jsx(v,{variant:"h6",component:"h3",sx:{fontWeight:600,color:"primary.main"},children:"Select Vehicle"}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Choose one available vehicle for this contract"})]}),r.jsx(ot,{title:"Create a new vehicle",children:r.jsx(ue,{variant:"outlined",startIcon:r.jsx(Zt,{}),onClick:S,size:"small",sx:{borderRadius:2,textTransform:"none",fontWeight:500},children:"Create Vehicle"})})]}),r.jsx(dd,{options:p,getOptionLabel:j,value:i.selectedVehicle,onChange:(g,D)=>{y(D)},onInputChange:b,onOpen:m,onClose:f,open:i.isOpen,loading:c,filterOptions:g=>g,blurOnSelect:!0,clearOnBlur:!1,selectOnFocus:!1,handleHomeEndKeys:!0,openOnFocus:!0,renderInput:g=>r.jsx(fe,{...g,label:"Select Vehicle",placeholder:"Search available vehicles...",error:!!n,helperText:n||`${p.length} available vehicles found${i.selectedVehicle?" (1 selected)":""}`,InputProps:{...g.InputProps,startAdornment:r.jsx($e,{position:"start",children:r.jsx(en,{sx:{color:"text.secondary"}})}),endAdornment:r.jsxs($e,{position:"end",children:[c&&r.jsx(fn,{color:"inherit",size:20}),g.InputProps.endAdornment]})},sx:{"& .MuiOutlinedInput-root":{transition:"all 0.2s ease","&:hover":{boxShadow:`0 0 0 1px ${F(a.palette.primary.main,.2)}`},"&.Mui-focused":{boxShadow:`0 0 0 2px ${F(a.palette.primary.main,.2)}`}}}}),renderOption:(g,D)=>{var R,O;const{key:P,...C}=g,k=D.id===((R=i.selectedVehicle)==null?void 0:R.id);return x.createElement(ne,{...C,key:D.id,sx:{display:"flex",alignItems:"center",gap:2,p:2,borderRadius:1,mx:.5,my:.25,cursor:"pointer",transition:"all 0.2s ease",backgroundColor:k?F(a.palette.primary.main,.1):"transparent","&:hover":{bgcolor:F(a.palette.primary.main,.05),transform:"translateY(-1px)",boxShadow:a.shadows[2]}}},r.jsx(pn,{sx:{bgcolor:a.palette.success.main,width:40,height:40},children:r.jsx(pt,{})}),r.jsxs(w,{sx:{flex:1},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[r.jsxs(v,{variant:"body1",sx:{fontWeight:600},children:[D.year," ",D.make," ",D.model]}),r.jsx(de,{label:"Available",size:"small",color:"success",variant:"outlined",sx:{fontSize:"0.7rem",height:20}}),D.isVerified&&r.jsx(ot,{title:"Verified vehicle",children:r.jsx(lt,{sx:{fontSize:16,color:a.palette.success.main}})})]}),r.jsxs(v,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:["🏷️ ",D.licensePlate," • 🔢 ",D.vinNumber]}),(D.mileage||D.fuelType||D.color)&&r.jsxs(w,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[D.mileage&&r.jsxs(v,{variant:"caption",color:"text.secondary",children:["📏 ",(O=D.mileage)==null?void 0:O.toLocaleString()," km"]}),D.fuelType&&r.jsxs(v,{variant:"caption",color:"text.secondary",children:["⛽ ",D.fuelType]}),D.color&&r.jsxs(v,{variant:"caption",color:"text.secondary",children:["🎨 ",D.color]})]})]}))},PaperComponent:g=>r.jsx(Ie,{...g,sx:{mt:1,maxHeight:300,overflow:"auto",boxShadow:a.shadows[8],border:`1px solid ${a.palette.divider}`,borderRadius:2}}),noOptionsText:r.jsxs(w,{sx:{textAlign:"center",py:3},children:[r.jsx(pt,{sx:{fontSize:48,color:"text.secondary",mb:1}}),r.jsx(v,{variant:"body2",color:"text.secondary",children:i.searchTerm?"No available vehicles found":"Start typing to search available vehicles"}),r.jsx(v,{variant:"caption",color:"text.secondary",children:"Only vehicles with AVAILABLE status are shown"})]}),loadingText:r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1,py:2,justifyContent:"center"},children:[r.jsx(fn,{size:16}),r.jsx(v,{variant:"body2",children:"Loading available vehicles..."})]})}),i.selectedVehicle&&r.jsx(bn,{in:!0,timeout:300,children:r.jsx(Fe,{elevation:0,sx:{mt:3,border:"2px solid",borderColor:"success.main",borderRadius:2,bgcolor:F(a.palette.success.main,.02),transition:"all 0.3s ease"},children:r.jsxs(Le,{sx:{p:3},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[r.jsx(pn,{sx:{bgcolor:a.palette.success.main,width:50,height:50},children:r.jsx(pt,{})}),r.jsxs(w,{sx:{flex:1},children:[r.jsxs(v,{variant:"h6",sx:{fontWeight:600,color:"text.primary"},children:[i.selectedVehicle.year," ",i.selectedVehicle.make," ",i.selectedVehicle.model]}),r.jsxs(w,{sx:{display:"flex",gap:1,mt:.5},children:[r.jsx(de,{label:"Selected",size:"small",color:"success",sx:{fontSize:"0.7rem"}}),i.selectedVehicle.isVerified&&r.jsx(de,{label:"Verified",size:"small",color:"info",variant:"outlined",sx:{fontSize:"0.7rem"}})]})]}),r.jsx(ot,{title:"Remove selection",children:r.jsx(Ae,{color:"error",onClick:()=>y(null),sx:{bgcolor:"background.paper",boxShadow:a.shadows[2],"&:hover":{bgcolor:"error.main",color:"white"}},children:r.jsx(Gt,{})})})]}),r.jsxs(w,{sx:{display:"flex",flexDirection:"column",gap:1},children:[r.jsxs(v,{variant:"body2",color:"text.secondary",children:["🏷️ License Plate: ",r.jsx("strong",{children:i.selectedVehicle.licensePlate})]}),r.jsxs(v,{variant:"body2",color:"text.secondary",children:["🔢 VIN: ",r.jsx("strong",{style:{fontFamily:"monospace"},children:i.selectedVehicle.vinNumber})]}),i.selectedVehicle.color&&r.jsxs(v,{variant:"body2",color:"text.secondary",children:["🎨 Color: ",r.jsx("strong",{children:i.selectedVehicle.color})]}),i.selectedVehicle.mileage&&r.jsxs(v,{variant:"body2",color:"text.secondary",children:["📏 Mileage: ",r.jsxs("strong",{children:[i.selectedVehicle.mileage.toLocaleString()," km"]})]}),i.selectedVehicle.fuelType&&r.jsxs(v,{variant:"body2",color:"text.secondary",children:["⛽ Fuel Type: ",r.jsx("strong",{children:i.selectedVehicle.fuelType})]})]})]})})}),!i.selectedVehicle&&!c&&r.jsxs(Ie,{elevation:0,sx:{mt:3,p:4,textAlign:"center",border:"2px dashed",borderColor:F(a.palette.primary.main,.3),borderRadius:2,bgcolor:F(a.palette.primary.main,.02)},children:[r.jsx(pt,{sx:{fontSize:64,color:"text.secondary",mb:2}}),r.jsx(v,{variant:"h6",color:"text.secondary",sx:{mb:1},children:"No vehicle selected"}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Search and select an available vehicle for this contract"})]}),r.jsx(ZP,{open:i.isCreateModalOpen,onClose:T,onSubmit:A,isCreating:i.isCreatingVehicle})]})},nE=(e,t)=>{const[n,a]=x.useState(e);return x.useEffect(()=>{const i=setTimeout(()=>{a(e)},t);return()=>{clearTimeout(i)}},[e,t]),n},rE=({selectedEndorserIds:e,onEndorserSelect:t,error:n})=>{var M;const a=Ve(),[i,s]=x.useState({searchTerm:"",selectedEndorser:null,isOpen:!1,hasInteracted:!1,isCreateModalOpen:!1,isCreatingEndorser:!1}),o=nE(i.searchTerm,300),{data:l=[],isLoading:c,error:d,refetch:u}=J3({search:o,limit:50}),h=x.useMemo(()=>l.map(g=>({...g,isVerified:g.isVerified??!0,status:g.status||"active"})),[l]),p=x.useMemo(()=>i.selectedEndorser?h.filter(g=>g.id!==i.selectedEndorser.id):h,[h,i.selectedEndorser]);x.useEffect(()=>{var D;const g=e[0];if(g&&h.length>0){const P=h.find(C=>C.id===g);P&&P.id!==((D=i.selectedEndorser)==null?void 0:D.id)&&s(C=>({...C,selectedEndorser:P}))}else!g&&i.selectedEndorser&&s(P=>({...P,selectedEndorser:null}))},[e,h,(M=i.selectedEndorser)==null?void 0:M.id]);const y=x.useCallback(g=>{s(D=>({...D,selectedEndorser:g,hasInteracted:!0})),t(g?[g.id]:[])},[t]),b=x.useCallback((g,D)=>{s(P=>({...P,hasInteracted:!0,searchTerm:D}))},[]),m=x.useCallback(()=>{s(g=>({...g,isOpen:!0}))},[]),f=x.useCallback(()=>{s(g=>({...g,isOpen:!1}))},[]),j=x.useCallback(g=>`${g.firstName} ${g.lastName}`,[]),$=x.useCallback(()=>{u()},[u]),S=x.useCallback(()=>{s(g=>({...g,isCreateModalOpen:!0}))},[]),T=x.useCallback(()=>{s(g=>({...g,isCreateModalOpen:!1}))},[]),A=x.useCallback(async g=>{try{console.log("📋 Received customer data for endorser creation:",JSON.stringify(g,null,2)),s(k=>({...k,isCreatingEndorser:!0}));let D;if(g.endorserDetails)D=g.endorserDetails;else if(g.individualDetails){const k=g.individualDetails;D={type:we.ENDORSER,firstName:k.firstName,lastName:k.lastName,idNumber:k.idNumber,dateOfBirth:k.dateOfBirth,address:k.address,phone:k.phone,email:k.email,secondaryPhone:k.secondaryPhone,secondaryEmail:k.secondaryEmail,additionalNotes:k.additionalNotes,relationshipToCustomer:"Endorser",active:!0}}else if(g.businessDetails){const k=g.businessDetails;D={type:we.ENDORSER,firstName:k.legalName,lastName:"",idNumber:k.nuisNipt,dateOfBirth:"",address:k.address,phone:k.phone,email:k.email,secondaryPhone:k.secondaryPhone,secondaryEmail:k.secondaryEmail,additionalNotes:k.additionalNotes,relationshipToCustomer:"Business Endorser",active:!0}}else throw new Error("No valid customer data provided. Please ensure individual, business, or endorser details are included.");const P=await B0.createEndorser(D),C={id:P.id||"",firstName:P.firstName||"",lastName:P.lastName||"",idNumber:P.idNumber||"",email:P.email||"",phone:P.phone||"",relationshipToCustomer:P.relationshipToCustomer||"Endorser",isVerified:!0,status:"active"};s(k=>({...k,selectedEndorser:C,isCreateModalOpen:!1,isCreatingEndorser:!1})),t([C.id]),u()}catch(D){console.error("Failed to create endorser:",D),s(P=>({...P,isCreatingEndorser:!1}))}},[t,u]);return d?r.jsx(_e,{severity:"error",sx:{mt:1},action:r.jsx(Ae,{color:"inherit",size:"small",onClick:$,"aria-label":"retry loading endorsers",children:r.jsx(pr,{})}),children:"Failed to load endorsers. Please try again."}):r.jsxs(w,{children:[r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,p:2,bgcolor:F(a.palette.secondary.main,.02),borderRadius:2,border:`1px solid ${F(a.palette.secondary.main,.1)}`},children:[r.jsxs(w,{children:[r.jsx(v,{variant:"h6",component:"h3",sx:{fontWeight:600,color:"secondary.main"},children:"Select Endorser"}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Choose one endorser to guarantee this contract"})]}),r.jsx(ot,{title:"Create a new endorser",children:r.jsx(ue,{variant:"outlined",startIcon:r.jsx(Jg,{}),onClick:S,size:"small",sx:{borderRadius:2,textTransform:"none",fontWeight:500},children:"Create Endorser"})})]}),r.jsx(dd,{options:p,getOptionLabel:j,value:i.selectedEndorser,onChange:(g,D)=>{y(D)},onInputChange:b,onOpen:m,onClose:f,open:i.isOpen,loading:c,filterOptions:g=>g,blurOnSelect:!0,clearOnBlur:!1,selectOnFocus:!1,handleHomeEndKeys:!0,openOnFocus:!0,renderInput:g=>r.jsx(fe,{...g,label:"Select Endorser",placeholder:"Search endorsers...",error:!!n,helperText:n||`${p.length} endorsers found${i.selectedEndorser?" (1 selected)":""}`,InputProps:{...g.InputProps,startAdornment:r.jsx($e,{position:"start",children:r.jsx(en,{sx:{color:"text.secondary"}})}),endAdornment:r.jsxs($e,{position:"end",children:[c&&r.jsx(fn,{color:"inherit",size:20}),g.InputProps.endAdornment]})},sx:{"& .MuiOutlinedInput-root":{transition:"all 0.2s ease","&:hover":{boxShadow:`0 0 0 1px ${F(a.palette.secondary.main,.2)}`},"&.Mui-focused":{boxShadow:`0 0 0 2px ${F(a.palette.secondary.main,.2)}`}}}}),renderOption:(g,D)=>{var R;const{key:P,...C}=g,k=D.id===((R=i.selectedEndorser)==null?void 0:R.id);return x.createElement(ne,{...C,key:D.id,sx:{display:"flex",alignItems:"center",gap:2,p:2,borderRadius:1,mx:.5,my:.25,cursor:"pointer",transition:"all 0.2s ease",backgroundColor:k?F(a.palette.secondary.main,.1):"transparent","&:hover":{bgcolor:F(a.palette.secondary.main,.05),transform:"translateY(-1px)",boxShadow:a.shadows[2]}}},r.jsx(pn,{sx:{bgcolor:a.palette.secondary.main,width:40,height:40},children:r.jsx(et,{})}),r.jsxs(w,{sx:{flex:1},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[r.jsxs(v,{variant:"body1",sx:{fontWeight:600},children:[D.firstName," ",D.lastName]}),D.relationshipToCustomer&&r.jsx(de,{label:D.relationshipToCustomer,size:"small",color:"secondary",variant:"outlined",sx:{fontSize:"0.7rem",height:20}}),D.isVerified&&r.jsx(ot,{title:"Verified endorser",children:r.jsx(lt,{sx:{fontSize:16,color:a.palette.success.main}})})]}),r.jsxs(v,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:["🆔 ",D.idNumber]}),(D.email||D.phone)&&r.jsxs(w,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[D.email&&r.jsxs(v,{variant:"caption",color:"text.secondary",children:["📧 ",D.email]}),D.phone&&r.jsxs(v,{variant:"caption",color:"text.secondary",children:["📞 ",D.phone]})]})]}))},PaperComponent:g=>r.jsx(Ie,{...g,sx:{mt:1,maxHeight:300,overflow:"auto",boxShadow:a.shadows[8],border:`1px solid ${a.palette.divider}`,borderRadius:2}}),noOptionsText:r.jsxs(w,{sx:{textAlign:"center",py:3},children:[r.jsx(et,{sx:{fontSize:48,color:"text.secondary",mb:1}}),r.jsx(v,{variant:"body2",color:"text.secondary",children:i.searchTerm?"No endorsers found":i.selectedEndorser?"Selected endorser is not shown in list":"Start typing to search endorsers"}),r.jsx(v,{variant:"caption",color:"text.secondary",children:i.selectedEndorser?"Clear selection to see all endorsers":"All available endorsers are shown"})]}),loadingText:r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1,py:2,justifyContent:"center"},children:[r.jsx(fn,{size:16}),r.jsx(v,{variant:"body2",children:"Loading endorsers..."})]})}),i.selectedEndorser&&r.jsx(bn,{in:!0,timeout:300,children:r.jsx(Fe,{elevation:0,sx:{mt:3,border:"2px solid",borderColor:"secondary.main",borderRadius:2,bgcolor:F(a.palette.secondary.main,.02),transition:"all 0.3s ease"},children:r.jsxs(Le,{sx:{p:3},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[r.jsx(pn,{sx:{bgcolor:a.palette.secondary.main,width:50,height:50},children:r.jsx(et,{})}),r.jsxs(w,{sx:{flex:1},children:[r.jsxs(v,{variant:"h6",sx:{fontWeight:600,color:"text.primary"},children:[i.selectedEndorser.firstName," ",i.selectedEndorser.lastName]}),r.jsxs(w,{sx:{display:"flex",gap:1,mt:.5},children:[r.jsx(de,{label:"Selected",size:"small",color:"secondary",sx:{fontSize:"0.7rem"}}),i.selectedEndorser.relationshipToCustomer&&r.jsx(de,{label:i.selectedEndorser.relationshipToCustomer,size:"small",color:"secondary",variant:"outlined",sx:{fontSize:"0.7rem"}})]})]}),r.jsx(ot,{title:"Remove selection",children:r.jsx(Ae,{color:"error",onClick:()=>y(null),sx:{bgcolor:"background.paper",boxShadow:a.shadows[2],"&:hover":{bgcolor:"error.main",color:"white"}},children:r.jsx(Gt,{})})})]}),r.jsxs(w,{sx:{display:"flex",flexDirection:"column",gap:1},children:[r.jsxs(v,{variant:"body2",color:"text.secondary",children:["🆔 ID Number: ",r.jsx("strong",{children:i.selectedEndorser.idNumber})]}),i.selectedEndorser.email&&r.jsxs(v,{variant:"body2",color:"text.secondary",children:["📧 Email: ",r.jsx("strong",{children:i.selectedEndorser.email})]}),i.selectedEndorser.phone&&r.jsxs(v,{variant:"body2",color:"text.secondary",children:["📞 Phone: ",r.jsx("strong",{children:i.selectedEndorser.phone})]})]})]})})}),!i.selectedEndorser&&!c&&r.jsxs(Ie,{elevation:0,sx:{mt:3,p:4,textAlign:"center",border:"2px dashed",borderColor:F(a.palette.secondary.main,.3),borderRadius:2,bgcolor:F(a.palette.secondary.main,.02)},children:[r.jsx(et,{sx:{fontSize:64,color:"text.secondary",mb:2}}),r.jsx(v,{variant:"h6",color:"text.secondary",sx:{mb:1},children:"No endorser selected"}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Search and select an endorser to guarantee this contract"})]}),r.jsx(G0,{open:i.isCreateModalOpen,onClose:T,onSubmit:A,isCreating:i.isCreatingEndorser,title:"Create New Endorser"})]})},aE=({collaterals:e,onCollateralsChange:t,error:n})=>{tr();const[a,i]=x.useState(null),[s,o]=x.useState(!1),[l,c]=x.useState(!1),d=()=>{const m={id:Date.now().toString(),type:"vehicle",description:"",value:0,active:!0,make:"",model:"",year:new Date().getFullYear(),licensePlate:"",vinNumber:"",color:"",engineNumber:"",registrationCertificate:"",insurancePolicy:""};i(m),c(!0),o(!1)},u=m=>{i(m),o(!0),c(!1)},h=m=>{const f=e.filter(j=>j.id!==m);t(f)},p=()=>{if(!a)return;let m;s?(m=e.map(f=>f.id===a.id?a:f),console.log("🔄 Updating existing collateral:",a.id)):(m=[...e,a],console.log("➕ Adding new collateral:",a)),console.log("📊 Updated collaterals array:",m),t(m),i(null),o(!1),c(!1)},y=()=>{i(null),o(!1),c(!1)},b=(m,f)=>{i(j=>({...j,[m]:f}))};return r.jsxs(w,{children:[r.jsxs(v,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(pt,{}),"Vehicle Collaterals"]}),r.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Add additional vehicles as collateral security for this contract"}),n&&r.jsx(_e,{severity:"error",sx:{mb:2},children:n}),!s&&!l&&r.jsx(ue,{variant:"outlined",startIcon:r.jsx(Zt,{}),onClick:d,sx:{mb:3},children:"Add Vehicle Collateral"}),(s||l)&&a&&r.jsx(Fe,{elevation:2,sx:{mb:3,border:"2px solid",borderColor:"primary.main"},children:r.jsxs(Le,{children:[r.jsx(v,{variant:"subtitle1",gutterBottom:!0,fontWeight:600,children:s?"Edit Vehicle Collateral":"Add Vehicle Collateral"}),r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,label:"Description",value:a.description,onChange:m=>b("description",m.target.value),placeholder:"e.g., 2023 BMW X5 - Black",required:!0})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,label:"Value",type:"number",value:a.value,onChange:m=>b("value",parseFloat(m.target.value)||0),InputProps:{startAdornment:r.jsx(v,{children:"$"})},required:!0})}),r.jsx(N,{item:!0,xs:12,md:4,children:r.jsx(fe,{fullWidth:!0,label:"Make",value:a.make,onChange:m=>b("make",m.target.value),placeholder:"e.g., BMW",required:!0})}),r.jsx(N,{item:!0,xs:12,md:4,children:r.jsx(fe,{fullWidth:!0,label:"Model",value:a.model,onChange:m=>b("model",m.target.value),placeholder:"e.g., X5",required:!0})}),r.jsx(N,{item:!0,xs:12,md:4,children:r.jsx(fe,{fullWidth:!0,label:"Year",type:"number",value:a.year,onChange:m=>b("year",parseInt(m.target.value)||new Date().getFullYear()),required:!0})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,label:"License Plate",value:a.licensePlate,onChange:m=>b("licensePlate",m.target.value),placeholder:"e.g., ABC-123",required:!0})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,label:"VIN Number",value:a.vinNumber,onChange:m=>b("vinNumber",m.target.value),placeholder:"e.g., 5UXCR6C0XN9A12345",required:!0})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,label:"Color",value:a.color,onChange:m=>b("color",m.target.value),placeholder:"e.g., Black",required:!0})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,label:"Engine Number",value:a.engineNumber,onChange:m=>b("engineNumber",m.target.value),placeholder:"e.g., BMW987654321"})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,label:"Registration Certificate",value:a.registrationCertificate,onChange:m=>b("registrationCertificate",m.target.value),placeholder:"e.g., REG-2023-005678"})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,label:"Insurance Policy",value:a.insurancePolicy,onChange:m=>b("insurancePolicy",m.target.value),placeholder:"e.g., INS-BMW-2024-123456"})}),r.jsx(N,{item:!0,xs:12,children:r.jsx(nd,{control:r.jsx(Ef,{checked:a.active,onChange:m=>b("active",m.target.checked)}),label:"Active Collateral"})})]}),r.jsxs(w,{sx:{display:"flex",gap:2,mt:3},children:[r.jsx(ue,{variant:"contained",onClick:p,disabled:!a.description||!a.make||!a.model,children:s?"Update Collateral":"Add Collateral"}),r.jsx(ue,{variant:"outlined",onClick:y,children:"Cancel"})]})]})}),e.length>0&&r.jsxs(w,{children:[r.jsxs(v,{variant:"subtitle1",gutterBottom:!0,fontWeight:600,children:["Current Collaterals (",e.length,")"]}),e.map((m,f)=>{var j;return r.jsx(Fe,{elevation:1,sx:{mb:2},children:r.jsx(Le,{children:r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[r.jsxs(w,{sx:{flex:1},children:[r.jsx(v,{variant:"subtitle2",fontWeight:600,children:m.description||`${m.make} ${m.model}`}),r.jsxs(v,{variant:"body2",color:"text.secondary",children:[m.make," ",m.model," (",m.year,") -"," ",m.color]}),r.jsxs(v,{variant:"body2",color:"text.secondary",children:["License: ",m.licensePlate," | VIN:"," ",m.vinNumber]}),r.jsxs(v,{variant:"body2",color:"primary",fontWeight:600,children:["Value: $",(j=m.value)==null?void 0:j.toLocaleString()]}),r.jsx(w,{sx:{display:"flex",alignItems:"center",gap:1,mt:1},children:r.jsx(v,{variant:"caption",sx:{px:1,py:.5,borderRadius:1,bgcolor:m.active?"success.main":"error.main",color:"white",fontWeight:600},children:m.active?"Active":"Inactive"})})]}),r.jsxs(w,{sx:{display:"flex",gap:1},children:[r.jsx(Ae,{size:"small",onClick:()=>u(m),color:"primary",children:r.jsx(Zt,{})}),r.jsx(Ae,{size:"small",onClick:()=>h(m.id),color:"error",children:r.jsx(sn,{})})]})]})})},m.id)})]}),e.length===0&&!s&&r.jsxs(w,{sx:{textAlign:"center",py:4},children:[r.jsx(pt,{sx:{fontSize:64,color:"text.secondary",mb:2}}),r.jsx(v,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No collaterals added"}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Add vehicle collaterals to provide additional security for this contract"})]})]})};var Kt=(e=>(e.LOAN="loan",e.LEASING="leasing",e))(Kt||{}),qt=(e=>(e.DRAFT="draft",e.ACTIVE="active",e.COMPLETED="completed",e.CANCELLED="cancelled",e))(qt||{});function Ia(e,t,n,a){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(u){try{d(a.next(u))}catch(h){o(h)}}function c(u){try{d(a.throw(u))}catch(h){o(h)}}function d(u){u.done?s(u.value):i(u.value).then(l,c)}d((a=a.apply(e,t||[])).next())})}const iE=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function di(e,t,n){const a=sE(e),{webkitRelativePath:i}=e,s=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof a.path!="string"&&df(a,"path",s),n!==void 0&&Object.defineProperty(a,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),df(a,"relativePath",s),a}function sE(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const a=t.split(".").pop().toLowerCase(),i=iE.get(a);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function df(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const oE=[".DS_Store","Thumbs.db"];function lE(e){return Ia(this,void 0,void 0,function*(){return Io(e)&&cE(e.dataTransfer)?pE(e.dataTransfer,e.type):dE(e)?uE(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?hE(e):[]})}function cE(e){return Io(e)}function dE(e){return Io(e)&&Io(e.target)}function Io(e){return typeof e=="object"&&e!==null}function uE(e){return Hc(e.target.files).map(t=>di(t))}function hE(e){return Ia(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>di(n))})}function pE(e,t){return Ia(this,void 0,void 0,function*(){if(e.items){const n=Hc(e.items).filter(i=>i.kind==="file");if(t!=="drop")return n;const a=yield Promise.all(n.map(fE));return uf(Q0(a))}return uf(Hc(e.files).map(n=>di(n)))})}function uf(e){return e.filter(t=>oE.indexOf(t.name)===-1)}function Hc(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const a=e[n];t.push(a)}return t}function fE(e){if(typeof e.webkitGetAsEntry!="function")return hf(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?K0(t):hf(e,t)}function Q0(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?Q0(n):[n]],[])}function hf(e,t){return Ia(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const s=yield e.getAsFileSystemHandle();if(s===null)throw new Error(`${e} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,di(o)}}const a=e.getAsFile();if(!a)throw new Error(`${e} is not a File`);return di(a,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function mE(e){return Ia(this,void 0,void 0,function*(){return e.isDirectory?K0(e):xE(e)})}function K0(e){const t=e.createReader();return new Promise((n,a)=>{const i=[];function s(){t.readEntries(o=>Ia(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(mE));i.push(l),s()}else try{const l=yield Promise.all(i);n(l)}catch(l){a(l)}}),o=>{a(o)})}s()})}function xE(e){return Ia(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(a=>{const i=di(a,e.fullPath);t(i)},a=>{n(a)})})})}var sc=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var a=e.name||"",i=(e.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?a.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):i===l})}return!0};function pf(e){return yE(e)||vE(e)||X0(e)||gE()}function gE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vE(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yE(e){if(Array.isArray(e))return Yc(e)}function ff(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function mf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ff(Object(n),!0).forEach(function(a){Z0(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ff(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Z0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rs(e,t){return wE(e)||jE(e,t)||X0(e,t)||bE()}function bE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X0(e,t){if(e){if(typeof e=="string")return Yc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yc(e,t)}}function Yc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function jE(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],i=!0,s=!1,o,l;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(a.push(o.value),!(t&&a.length===t));i=!0);}catch(c){s=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return a}}function wE(e){if(Array.isArray(e))return e}var CE=typeof sc=="function"?sc:sc.default,$E="file-invalid-type",SE="file-too-large",DE="file-too-small",TE="too-many-files",kE=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),a=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:$E,message:"File type must be ".concat(a)}},xf=function(t){return{code:SE,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},gf=function(t){return{code:DE,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},PE={code:TE,message:"Too many files"};function J0(e,t){var n=e.type==="application/x-moz-file"||CE(e,t);return[n,n?null:kE(t)]}function eg(e,t,n){if(da(e.size))if(da(t)&&da(n)){if(e.size>n)return[!1,xf(n)];if(e.size<t)return[!1,gf(t)]}else{if(da(t)&&e.size<t)return[!1,gf(t)];if(da(n)&&e.size>n)return[!1,xf(n)]}return[!0,null]}function da(e){return e!=null}function EE(e){var t=e.files,n=e.accept,a=e.minSize,i=e.maxSize,s=e.multiple,o=e.maxFiles,l=e.validator;return!s&&t.length>1||s&&o>=1&&t.length>o?!1:t.every(function(c){var d=J0(c,n),u=rs(d,1),h=u[0],p=eg(c,a,i),y=rs(p,1),b=y[0],m=l?l(c):null;return h&&b&&!m})}function Mo(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Fs(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function vf(e){e.preventDefault()}function AE(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function IE(e){return e.indexOf("Edge/")!==-1}function ME(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return AE(e)||IE(e)}function Vn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(a){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return t.some(function(l){return!Mo(a)&&l&&l.apply(void 0,[a].concat(s)),Mo(a)})}}function OE(){return"showOpenFilePicker"in window}function RE(e){if(da(e)){var t=Object.entries(e).filter(function(n){var a=rs(n,2),i=a[0],s=a[1],o=!0;return tg(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(ng))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,a){var i=rs(a,2),s=i[0],o=i[1];return mf(mf({},n),{},Z0({},s,o))},{});return[{description:"Files",accept:t}]}return e}function NE(e){if(da(e))return Object.entries(e).reduce(function(t,n){var a=rs(n,2),i=a[0],s=a[1];return[].concat(pf(t),[i],pf(s))},[]).filter(function(t){return tg(t)||ng(t)}).join(",")}function FE(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function LE(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function tg(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function ng(e){return/^.*\.[\w]+$/.test(e)}var VE=["children"],zE=["open"],_E=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],WE=["refKey","onChange","onClick"];function BE(e){return HE(e)||qE(e)||rg(e)||UE()}function UE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qE(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HE(e){if(Array.isArray(e))return Gc(e)}function oc(e,t){return QE(e)||GE(e,t)||rg(e,t)||YE()}function YE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rg(e,t){if(e){if(typeof e=="string")return Gc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gc(e,t)}}function Gc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function GE(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],i=!0,s=!1,o,l;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(a.push(o.value),!(t&&a.length===t));i=!0);}catch(c){s=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return a}}function QE(e){if(Array.isArray(e))return e}function yf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,a)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yf(Object(n),!0).forEach(function(a){Qc(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yf(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Qc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oo(e,t){if(e==null)return{};var n=KE(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function KE(e,t){if(e==null)return{};var n={},a=Object.keys(e),i,s;for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var su=x.forwardRef(function(e,t){var n=e.children,a=Oo(e,VE),i=ig(a),s=i.open,o=Oo(i,zE);return x.useImperativeHandle(t,function(){return{open:s}},[s]),re.createElement(x.Fragment,null,n(jt(jt({},o),{},{open:s})))});su.displayName="Dropzone";var ag={disabled:!1,getFilesFromEvent:lE,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};su.defaultProps=ag;su.propTypes={children:q.func,accept:q.objectOf(q.arrayOf(q.string)),multiple:q.bool,preventDropOnDocument:q.bool,noClick:q.bool,noKeyboard:q.bool,noDrag:q.bool,noDragEventsBubbling:q.bool,minSize:q.number,maxSize:q.number,maxFiles:q.number,disabled:q.bool,getFilesFromEvent:q.func,onFileDialogCancel:q.func,onFileDialogOpen:q.func,useFsAccessApi:q.bool,autoFocus:q.bool,onDragEnter:q.func,onDragLeave:q.func,onDragOver:q.func,onDrop:q.func,onDropAccepted:q.func,onDropRejected:q.func,onError:q.func,validator:q.func};var Kc={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ig(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=jt(jt({},ag),e),n=t.accept,a=t.disabled,i=t.getFilesFromEvent,s=t.maxSize,o=t.minSize,l=t.multiple,c=t.maxFiles,d=t.onDragEnter,u=t.onDragLeave,h=t.onDragOver,p=t.onDrop,y=t.onDropAccepted,b=t.onDropRejected,m=t.onFileDialogCancel,f=t.onFileDialogOpen,j=t.useFsAccessApi,$=t.autoFocus,S=t.preventDropOnDocument,T=t.noClick,A=t.noKeyboard,M=t.noDrag,g=t.noDragEventsBubbling,D=t.onError,P=t.validator,C=x.useMemo(function(){return NE(n)},[n]),k=x.useMemo(function(){return RE(n)},[n]),R=x.useMemo(function(){return typeof f=="function"?f:bf},[f]),O=x.useMemo(function(){return typeof m=="function"?m:bf},[m]),E=x.useRef(null),I=x.useRef(null),V=x.useReducer(ZE,Kc),U=oc(V,2),_=U[0],z=U[1],B=_.isFocused,Q=_.isFileDialogActive,se=x.useRef(typeof window<"u"&&window.isSecureContext&&j&&OE()),X=function(){!se.current&&Q&&setTimeout(function(){if(I.current){var K=I.current.files;K.length||(z({type:"closeDialog"}),O())}},300)};x.useEffect(function(){return window.addEventListener("focus",X,!1),function(){window.removeEventListener("focus",X,!1)}},[I,Q,O,se]);var J=x.useRef([]),ie=function(K){E.current&&E.current.contains(K.target)||(K.preventDefault(),J.current=[])};x.useEffect(function(){return S&&(document.addEventListener("dragover",vf,!1),document.addEventListener("drop",ie,!1)),function(){S&&(document.removeEventListener("dragover",vf),document.removeEventListener("drop",ie))}},[E,S]),x.useEffect(function(){return!a&&$&&E.current&&E.current.focus(),function(){}},[E,$,a]);var me=x.useCallback(function(Y){D?D(Y):console.error(Y)},[D]),te=x.useCallback(function(Y){Y.preventDefault(),Y.persist(),L(Y),J.current=[].concat(BE(J.current),[Y.target]),Fs(Y)&&Promise.resolve(i(Y)).then(function(K){if(!(Mo(Y)&&!g)){var ae=K.length,Ce=ae>0&&EE({files:K,accept:C,minSize:o,maxSize:s,multiple:l,maxFiles:c,validator:P}),Ne=ae>0&&!Ce;z({isDragAccept:Ce,isDragReject:Ne,isDragActive:!0,type:"setDraggedFiles"}),d&&d(Y)}}).catch(function(K){return me(K)})},[i,d,me,g,C,o,s,l,c,P]),pe=x.useCallback(function(Y){Y.preventDefault(),Y.persist(),L(Y);var K=Fs(Y);if(K&&Y.dataTransfer)try{Y.dataTransfer.dropEffect="copy"}catch{}return K&&h&&h(Y),!1},[h,g]),ve=x.useCallback(function(Y){Y.preventDefault(),Y.persist(),L(Y);var K=J.current.filter(function(Ce){return E.current&&E.current.contains(Ce)}),ae=K.indexOf(Y.target);ae!==-1&&K.splice(ae,1),J.current=K,!(K.length>0)&&(z({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Fs(Y)&&u&&u(Y))},[E,u,g]),ge=x.useCallback(function(Y,K){var ae=[],Ce=[];Y.forEach(function(Ne){var xt=J0(Ne,C),Vt=oc(xt,2),Xt=Vt[0],Dn=Vt[1],Wt=eg(Ne,o,s),Rn=oc(Wt,2),Yr=Rn[0],jr=Rn[1],Gr=P?P(Ne):null;if(Xt&&Yr&&!Gr)ae.push(Ne);else{var Nn=[Dn,jr];Gr&&(Nn=Nn.concat(Gr)),Ce.push({file:Ne,errors:Nn.filter(function(fs){return fs})})}}),(!l&&ae.length>1||l&&c>=1&&ae.length>c)&&(ae.forEach(function(Ne){Ce.push({file:Ne,errors:[PE]})}),ae.splice(0)),z({acceptedFiles:ae,fileRejections:Ce,isDragReject:Ce.length>0,type:"setFiles"}),p&&p(ae,Ce,K),Ce.length>0&&b&&b(Ce,K),ae.length>0&&y&&y(ae,K)},[z,l,C,o,s,c,p,y,b,P]),he=x.useCallback(function(Y){Y.preventDefault(),Y.persist(),L(Y),J.current=[],Fs(Y)&&Promise.resolve(i(Y)).then(function(K){Mo(Y)&&!g||ge(K,Y)}).catch(function(K){return me(K)}),z({type:"reset"})},[i,ge,me,g]),xe=x.useCallback(function(){if(se.current){z({type:"openDialog"}),R();var Y={multiple:l,types:k};window.showOpenFilePicker(Y).then(function(K){return i(K)}).then(function(K){ge(K,null),z({type:"closeDialog"})}).catch(function(K){FE(K)?(O(K),z({type:"closeDialog"})):LE(K)?(se.current=!1,I.current?(I.current.value=null,I.current.click()):me(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):me(K)});return}I.current&&(z({type:"openDialog"}),R(),I.current.value=null,I.current.click())},[z,R,O,j,ge,me,k,l]),oe=x.useCallback(function(Y){!E.current||!E.current.isEqualNode(Y.target)||(Y.key===" "||Y.key==="Enter"||Y.keyCode===32||Y.keyCode===13)&&(Y.preventDefault(),xe())},[E,xe]),Te=x.useCallback(function(){z({type:"focus"})},[]),He=x.useCallback(function(){z({type:"blur"})},[]),Ue=x.useCallback(function(){T||(ME()?setTimeout(xe,0):xe())},[T,xe]),ut=function(K){return a?null:K},ke=function(K){return A?null:ut(K)},Pe=function(K){return M?null:ut(K)},L=function(K){g&&K.stopPropagation()},W=x.useMemo(function(){return function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=Y.refKey,ae=K===void 0?"ref":K,Ce=Y.role,Ne=Y.onKeyDown,xt=Y.onFocus,Vt=Y.onBlur,Xt=Y.onClick,Dn=Y.onDragEnter,Wt=Y.onDragOver,Rn=Y.onDragLeave,Yr=Y.onDrop,jr=Oo(Y,_E);return jt(jt(Qc({onKeyDown:ke(Vn(Ne,oe)),onFocus:ke(Vn(xt,Te)),onBlur:ke(Vn(Vt,He)),onClick:ut(Vn(Xt,Ue)),onDragEnter:Pe(Vn(Dn,te)),onDragOver:Pe(Vn(Wt,pe)),onDragLeave:Pe(Vn(Rn,ve)),onDrop:Pe(Vn(Yr,he)),role:typeof Ce=="string"&&Ce!==""?Ce:"presentation"},ae,E),!a&&!A?{tabIndex:0}:{}),jr)}},[E,oe,Te,He,Ue,te,pe,ve,he,A,M,a]),H=x.useCallback(function(Y){Y.stopPropagation()},[]),ce=x.useMemo(function(){return function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=Y.refKey,ae=K===void 0?"ref":K,Ce=Y.onChange,Ne=Y.onClick,xt=Oo(Y,WE),Vt=Qc({accept:C,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ut(Vn(Ce,he)),onClick:ut(Vn(Ne,H)),tabIndex:-1},ae,I);return jt(jt({},Vt),xt)}},[I,n,l,he,a]);return jt(jt({},_),{},{isFocused:B&&!a,getRootProps:W,getInputProps:ce,rootRef:E,inputRef:I,open:ut(xe)})}function ZE(e,t){switch(t.type){case"focus":return jt(jt({},e),{},{isFocused:!0});case"blur":return jt(jt({},e),{},{isFocused:!1});case"openDialog":return jt(jt({},Kc),{},{isFileDialogActive:!0});case"closeDialog":return jt(jt({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return jt(jt({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return jt(jt({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return jt({},Kc);default:return e}}function bf(){}const _a=[{category:"id_card",name:"ID Card",description:"Valid government-issued photo identification",isRequired:!0,acceptedTypes:[".pdf",".jpg",".jpeg",".png"],maxSize:10*1024*1024},{category:"insurance",name:"Insurance Certificate",description:"Current vehicle insurance policy",isRequired:!0,acceptedTypes:[".pdf",".jpg",".jpeg",".png"],maxSize:10*1024*1024},{category:"tpl",name:"Third Party Liability (TPL)",description:"Third party liability insurance certificate",isRequired:!0,acceptedTypes:[".pdf",".jpg",".jpeg",".png"],maxSize:10*1024*1024},{category:"casco",name:"CASCO Insurance",description:"Comprehensive vehicle insurance certificate",isRequired:!0,acceptedTypes:[".pdf",".jpg",".jpeg",".png"],maxSize:10*1024*1024},{category:"driving_permit",name:"Driving Permit",description:"Valid driving license (Leje qarkullimi)",isRequired:!0,acceptedTypes:[".pdf",".jpg",".jpeg",".png"],maxSize:10*1024*1024},{category:"customer_registration",name:"Customer Registration",description:"Customer registration documents",isRequired:!0,acceptedTypes:[".pdf",".jpg",".jpeg",".png"],maxSize:10*1024*1024},{category:"endorser_id",name:"Endorser ID",description:"Endorser identification documents",isRequired:!0,acceptedTypes:[".pdf",".jpg",".jpeg",".png"],maxSize:10*1024*1024},{category:"contract_agreement",name:"Contract Agreement",description:"Contract agreement documents",isRequired:!0,acceptedTypes:[".pdf",".jpg",".jpeg",".png"],maxSize:10*1024*1024}],XE=({documents:e,onDocumentsChange:t,error:n,customerId:a,endorserId:i,vehicleIds:s,sessionKey:o})=>{const[l,c]=x.useState(!1),[d,u]=x.useState(null),[h,p]=x.useState("id_card"),[y,b]=x.useState(""),[m,f]=x.useState(""),[j,{isLoading:$}]=tw();nw();const{data:S,error:T,isLoading:A}=ew(),M=x.useCallback(z=>{if(!a){f("Please select a customer before uploading documents.");return}if(z.length>0){const B=z[0];u(B),p("id_card"),b(""),f(""),c(!0)}},[a]),{getRootProps:g,getInputProps:D,isDragActive:P}=ig({onDrop:M,accept:{"application/pdf":[".pdf"],"image/*":[".jpg",".jpeg",".png"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"]},maxSize:25*1024*1024,multiple:!1}),C=async z=>{try{z.includes("-")&&!z.includes("temp-")&&console.log("Document deleted from backend:",z);const B=e.filter(Q=>Q.id!==z);t(B)}catch(B){console.error("Failed to delete document:",B),f("Failed to delete document. Please try again.")}},k=async()=>{var se;if(!d)return;if(e.map(X=>X.name).includes(d.name)){f(`Document "${d.name}" has already been uploaded. Please use a different file or remove the existing one first.`);return}if(e.find(X=>X.size===d.size&&X.type===d.type&&X.name!==d.name)){f("A file with the same size and type has already been uploaded. Please ensure you're not uploading duplicate content.");return}if(e.find(X=>X.category===h)){f(`A document of type "${(se=_a.find(X=>X.category===h))==null?void 0:se.name}" has already been uploaded. Please remove the existing one first or choose a different category.`);return}f("");try{const J={type:(pe=>{switch(pe){case"id_card":return zn.ID_CARD;case"insurance":return zn.INSURANCE;case"tpl":return zn.TPL;case"casco":return zn.CASCO;case"driving_permit":return zn.DRIVING_PERMIT;case"customer_registration":return zn.CUSTOMER_REGISTRATION;case"endorser_id":return zn.ENDORSER_ID;case"contract_agreement":return zn.CONTRACT_AGREEMENT;default:return zn.OTHER}})(h),title:d.name,description:y,customerId:a,endorserId:i,metadata:{originalFileName:d.name,fileSize:d.size,fileType:d.type,uploadDate:new Date().toISOString(),vehicleIds:s.length>0?s:void 0,documentCategory:h}};console.log("🚀 Attempting to upload document:"),console.log("📁 File:",d.name,"Size:",d.size,"Type:",d.type),console.log("📋 Upload Data:",J),console.log("🔑 Session Key:",o),console.log("👤 Customer ID:",a),console.log("🚗 Vehicle IDs:",s),console.log("🤝 Endorser ID:",i);const ie=await j({file:d,data:J,sessionKey:o}).unwrap(),me={id:ie.id,name:ie.fileName||d.name,type:d.type,size:d.size,file:d,category:h,description:y,isRequired:_a.some(pe=>pe.category===h),status:ie.status,uploadedAt:new Date(ie.createdAt)},te=[...e,me];t(te),u(null),p("id_card"),b(""),c(!1)}catch(X){console.error("Document upload failed:",X),f("Failed to upload document. Please try again.")}},R=()=>{u(null),p("id_card"),b(""),f(""),c(!1)},O=z=>z.includes("pdf")?r.jsx(nv,{}):z.includes("image")?r.jsx(rv,{}):z.includes("word")||z.includes("document")?r.jsx(yn,{}):r.jsx(av,{}),E=z=>{if(z===0)return"0 Bytes";const B=1024,Q=["Bytes","KB","MB","GB"],se=Math.floor(Math.log(z)/Math.log(B));return parseFloat((z/Math.pow(B,se)).toFixed(2))+" "+Q[se]},I=z=>{switch(z){case"verified":return"success";case"uploaded":return"info";case"rejected":return"error";default:return"warning"}},V=z=>{switch(z){case"verified":return r.jsx(lt,{fontSize:"small"});case"uploaded":return r.jsx(iv,{fontSize:"small"});case"rejected":return r.jsx(Sa,{fontSize:"small"});default:return r.jsx(yn,{fontSize:"small"})}},_=_a.filter(z=>!e.some(B=>B.category===z.category)).filter(z=>z.isRequired);return r.jsxs(w,{children:[r.jsxs(v,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(yn,{}),"Required Documents"]}),r.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Upload all required documents to complete your contract application. After uploading each file, you'll be prompted to select the appropriate document category. Documents will be reviewed and verified by our team."}),n&&r.jsx(_e,{severity:"error",sx:{mb:2},children:n}),A&&r.jsx(_e,{severity:"info",sx:{mb:2},children:"Testing backend connection..."}),T&&r.jsx(_e,{severity:"error",sx:{mb:2},children:"Backend connection failed. Please ensure your backend server is running on http://localhost:3000"}),S&&r.jsx(_e,{severity:"success",sx:{mb:2},children:"Backend connected successfully! Server is responding."}),!a&&r.jsx(_e,{severity:"warning",sx:{mb:2},children:"Please select a customer in the previous step before uploading documents."}),a&&s.length===0&&r.jsx(_e,{severity:"info",sx:{mb:2},children:"No vehicles selected. You can still upload documents, but vehicle information will not be associated."}),a&&!i&&r.jsx(_e,{severity:"info",sx:{mb:2},children:"No endorser selected. You can still upload documents, but endorser information will not be associated."}),_.length>0&&r.jsxs(_e,{severity:"warning",sx:{mb:2},children:[r.jsxs(v,{variant:"body2",fontWeight:600,children:["Missing Required Documents (",_.length,"):"]}),r.jsx(w,{component:"ul",sx:{mt:1,mb:0,pl:2},children:_.map((z,B)=>r.jsxs("li",{children:[r.jsx("strong",{children:z.name})," - ",z.description]},B))})]}),r.jsxs(Ie,{...g(),elevation:0,sx:{border:`2px dashed ${P?"primary.main":"divider"}`,borderRadius:2,p:4,textAlign:"center",cursor:a?"pointer":"not-allowed",transition:"all 0.2s ease",bgcolor:P?"primary.50":a?"background.paper":"grey.100",opacity:a?1:.6,"&:hover":{borderColor:a?"primary.main":"divider",bgcolor:a?"primary.50":"grey.100"}},children:[r.jsx("input",{...D()}),r.jsx(ev,{sx:{fontSize:48,color:"primary.main",mb:2}}),r.jsx(v,{variant:"h6",gutterBottom:!0,children:P?"Drop file here":"Drag & drop a file here"}),r.jsx(v,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"or click to browse files"}),r.jsx(v,{variant:"caption",color:"text.secondary",children:"Supported formats: PDF, JPG, PNG, DOC, DOCX (Max: 25MB per file)"}),r.jsx(v,{variant:"caption",color:"primary.main",sx:{display:"block",mt:1,fontWeight:500},children:"You'll be prompted to select the document type after upload"}),a&&r.jsxs(v,{variant:"caption",color:"success.main",sx:{display:"block",mt:1,fontWeight:500},children:["✓ Customer: ",a.slice(0,8),"... | Vehicles: ",s.length," | Endorser: ",i?i.slice(0,8)+"...":"None"]})]}),_a.length>0&&r.jsxs(w,{sx:{mt:3},children:[r.jsx(v,{variant:"subtitle1",gutterBottom:!0,fontWeight:600,children:"Required Documents Checklist"}),r.jsx(N,{container:!0,spacing:2,children:_a.map(z=>{const B=e.find(se=>se.category===z.category),Q=!!B;return r.jsx(N,{item:!0,xs:12,sm:6,md:4,children:r.jsx(Fe,{elevation:0,sx:{border:`1px solid ${Q?"success.main":"divider"}`,bgcolor:Q?"success.50":"background.paper",transition:"all 0.2s ease"},children:r.jsxs(Le,{sx:{p:2},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[Q?r.jsx(lt,{color:"success",fontSize:"small"}):r.jsx(yn,{color:"action",fontSize:"small"}),r.jsx(v,{variant:"body2",fontWeight:600,children:z.name})]}),r.jsx(v,{variant:"caption",color:"text.secondary",children:z.description}),B&&r.jsx(de,{label:B.status,size:"small",color:I(B.status),icon:V(B.status),sx:{mt:1}})]})})},z.category)})})]}),e.length>0&&r.jsxs(w,{sx:{mt:3},children:[r.jsxs(v,{variant:"subtitle1",gutterBottom:!0,fontWeight:600,children:["Uploaded Documents (",e.length,")"]}),r.jsx(un,{children:e.map(z=>{var B;return r.jsxs(kt,{sx:{border:"1px solid",borderColor:"divider",borderRadius:1,mb:1,bgcolor:"background.paper"},children:[r.jsx(w,{sx:{display:"flex",alignItems:"center",mr:2},children:O(z.type)}),r.jsx(Ot,{primary:r.jsxs(w,{children:[r.jsx(v,{variant:"body2",fontWeight:500,children:z.name}),r.jsxs(v,{variant:"caption",color:"text.secondary",children:[E(z.size)," • ",z.category," •"," ",(B=z.uploadedAt)==null?void 0:B.toLocaleDateString()]})]}),secondary:r.jsxs(w,{sx:{mt:1},children:[r.jsx(de,{label:z.status,size:"small",color:I(z.status),icon:V(z.status),sx:{mr:1}}),z.isRequired&&r.jsx(de,{label:"Required",size:"small",color:"primary",variant:"outlined"})]})}),r.jsx(tv,{children:r.jsxs(w,{sx:{display:"flex",gap:1},children:[r.jsx(Ae,{size:"small",onClick:()=>{const Q=URL.createObjectURL(z.file);window.open(Q,"_blank")},title:"Preview document",children:r.jsx(Jn,{fontSize:"small"})}),r.jsx(Ae,{size:"small",onClick:()=>{const Q=URL.createObjectURL(z.file),se=window.document.createElement("a");se.href=Q,se.download=z.name,se.click(),URL.revokeObjectURL(Q)},title:"Download document",children:r.jsx(va,{fontSize:"small"})}),r.jsx(Ae,{size:"small",onClick:()=>C(z.id),color:"error",title:"Delete document",children:r.jsx(sn,{fontSize:"small"})})]})})]},z.id)})})]}),e.length>0&&r.jsx(w,{sx:{mt:3},children:r.jsx(Fe,{elevation:0,sx:{border:"1px solid",borderColor:"divider"},children:r.jsxs(Le,{children:[r.jsx(v,{variant:"subtitle1",gutterBottom:!0,fontWeight:600,children:"Document Status Summary"}),r.jsxs(N,{container:!0,spacing:2,children:[r.jsx(N,{item:!0,xs:6,sm:3,children:r.jsxs(w,{sx:{textAlign:"center"},children:[r.jsx(v,{variant:"h4",color:"primary.main",children:e.length}),r.jsx(v,{variant:"caption",children:"Total Uploaded"})]})}),r.jsx(N,{item:!0,xs:6,sm:3,children:r.jsxs(w,{sx:{textAlign:"center"},children:[r.jsx(v,{variant:"h4",color:"success.main",children:e.filter(z=>z.status==="verified").length}),r.jsx(v,{variant:"caption",children:"Verified"})]})}),r.jsx(N,{item:!0,xs:6,sm:3,children:r.jsxs(w,{sx:{textAlign:"center"},children:[r.jsx(v,{variant:"h4",color:"info.main",children:e.filter(z=>z.status==="uploaded").length}),r.jsx(v,{variant:"caption",children:"Pending Review"})]})}),r.jsx(N,{item:!0,xs:6,sm:3,children:r.jsxs(w,{sx:{textAlign:"center"},children:[r.jsx(v,{variant:"h4",color:"error.main",children:e.filter(z=>z.status==="rejected").length}),r.jsx(v,{variant:"caption",children:"Rejected"})]})})]})]})})}),r.jsxs(Lr,{open:l,onClose:R,maxWidth:"sm",fullWidth:!0,children:[r.jsxs(Ca,{children:[r.jsx(v,{variant:"h6",component:"div",children:"Select Document Type"}),r.jsxs(v,{variant:"body2",color:"text.secondary",children:["Choose the appropriate category for: ",d==null?void 0:d.name]})]}),r.jsx(Vr,{children:r.jsxs(w,{sx:{pt:1},children:[r.jsxs(Je,{fullWidth:!0,sx:{mb:3},children:[r.jsx(at,{children:"Document Category"}),r.jsx(it,{value:h,onChange:z=>p(z.target.value),label:"Document Category",children:_a.map(z=>r.jsx(ne,{value:z.category,children:r.jsxs(w,{children:[r.jsx(v,{variant:"body1",children:z.name}),r.jsx(v,{variant:"caption",color:"text.secondary",children:z.description})]})},z.category))})]}),r.jsx(fe,{fullWidth:!0,label:"Description (Optional)",value:y,onChange:z=>b(z.target.value),placeholder:"Add any additional notes about this document...",multiline:!0,rows:2}),m&&r.jsx(_e,{severity:"error",sx:{mt:2},children:m}),d&&r.jsxs(w,{sx:{mt:2,p:2,bgcolor:"grey.50",borderRadius:1},children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:r.jsx("strong",{children:"File Details:"})}),r.jsxs(v,{variant:"body2",color:"text.secondary",children:["Name: ",d.name]}),r.jsxs(v,{variant:"body2",color:"text.secondary",children:["Size: ",E(d.size)]}),r.jsxs(v,{variant:"body2",color:"text.secondary",children:["Type: ",d.type||"Unknown"]})]})]})}),r.jsxs(ui,{children:[r.jsx(ue,{onClick:R,color:"inherit",children:"Cancel"}),r.jsx(ue,{onClick:k,variant:"contained",disabled:!d||!!m||$,startIcon:$?r.jsx(fn,{size:20}):void 0,children:$?"Uploading...":"Upload Document"})]})]})]})},Ls=[{id:"customer",label:"Select Customer",description:"Choose the customer for this contract"},{id:"contract",label:"Contract Details",description:"Basic contract information and financial terms"},{id:"vehicles",label:"Vehicles",description:"Select vehicles for this contract"},{id:"collaterals",label:"Collaterals",description:"Add additional vehicle collaterals"},{id:"endorsers",label:"Endorsers",description:"Add guarantors and endorsers"},{id:"documents",label:"Documents",description:"Upload required documents for contract approval"},{id:"review",label:"Review & Submit",description:"Review all details before submission"}],JE=({initialData:e,onSubmit:t,loading:n,preSelectedCustomerId:a,isEdit:i=!1})=>{var D,P;const[s,o]=x.useState(0),[l,c]=x.useState(""),[d]=x.useState(()=>`contract-${Date.now()}`),u=Hd({defaultValues:{type:Kt.LOAN,contractNumber:"",customerId:a||"",startDate:ze().format("YYYY-MM-DD"),endDate:"",totalAmount:0,loanDetails:{interestRate:.12,loanTermMonths:36,monthlyPayment:0,processingFee:0,earlyRepaymentPenalty:.03,paymentScheduleType:"monthly_fixed"},selectedVehicles:[],selectedEndorsers:[],collaterals:[],endorserCollaterals:[],documents:[],terms:{insuranceRequired:!0,penaltyRate:.05,gracePeriodDays:15,defaultInterestRate:.18,earlyPaymentDiscount:.02},...e},mode:"onChange"}),{watch:h,setValue:p,trigger:y,formState:{errors:b,isValid:m},handleSubmit:f}=u,j=h();x.useEffect(()=>{const{totalAmount:C,loanDetails:k}=j;if(C>0&&(k!=null&&k.interestRate)&&k.interestRate>0&&k.loanTermMonths&&k.loanTermMonths>0){const R=C,O=k.interestRate/12,E=k.loanTermMonths,I=R*(O*Math.pow(1+O,E))/(Math.pow(1+O,E)-1);if(!isNaN(I)&&isFinite(I)){p("loanDetails.monthlyPayment",Math.round(I*100)/100,{shouldValidate:!0});const V=ze(j.startDate).add(k.loanTermMonths,"months").format("YYYY-MM-DD");p("endDate",V,{shouldValidate:!0})}}},[j.totalAmount,(D=j.loanDetails)==null?void 0:D.interestRate,(P=j.loanDetails)==null?void 0:P.loanTermMonths,j.startDate,p]);const $=x.useCallback(async()=>{await y()&&o(k=>Math.min(k+1,Ls.length-1))},[y]),S=x.useCallback(()=>{o(C=>Math.max(C-1,0))},[]),T=x.useCallback(C=>{o(C)},[]),A=x.useCallback(async C=>{var k,R,O;try{c("");const E={type:C.type,contractNumber:C.contractNumber,customerId:C.customerId,startDate:C.startDate,endDate:C.endDate,totalAmount:C.totalAmount,interestRate:((k=C.loanDetails)==null?void 0:k.interestRate)||0,vehicleIds:C.selectedVehicles||[],sessionKey:d,collaterals:((R=C.collaterals)==null?void 0:R.map(I=>({type:"vehicle",description:I.description,value:I.value,active:I.active,make:I.make,model:I.model,year:I.year,licensePlate:I.licensePlate,vinNumber:I.vinNumber,color:I.color,engineNumber:I.engineNumber,registrationCertificate:I.registrationCertificate,insurancePolicy:I.insurancePolicy})))||[],endorserCollaterals:((O=C.selectedEndorsers)==null?void 0:O.map(I=>({type:"endorser",description:`Personal guarantee by endorser ${I}`,value:C.totalAmount*.5,endorserId:I,guaranteedAmount:C.totalAmount*.5,guaranteeType:"personal_guarantee",requiresNotarization:!1,guaranteeExpirationDate:C.endDate,legalDocumentReference:`GUARANTEE-${C.contractNumber}-${I}`})))||[],terms:C.terms||{}};C.type===Kt.LOAN&&C.loanDetails&&(E.loanDetails={type:C.type,contractNumber:C.contractNumber,customerId:C.customerId,startDate:C.startDate,endDate:C.endDate,totalAmount:C.totalAmount,interestRate:C.loanDetails.interestRate,loanTermMonths:C.loanDetails.loanTermMonths,monthlyPayment:C.loanDetails.monthlyPayment,processingFee:C.loanDetails.processingFee,earlyRepaymentPenalty:C.loanDetails.earlyRepaymentPenalty,paymentScheduleType:C.loanDetails.paymentScheduleType||"monthly_fixed"}),C.type===Kt.LEASING&&C.leasingDetails&&(E.leasingDetails={type:C.type,contractNumber:C.contractNumber,customerId:C.customerId,startDate:C.startDate,endDate:C.endDate,totalAmount:C.totalAmount,residualValue:C.leasingDetails.residualValue,leaseTermMonths:C.leasingDetails.leaseTermMonths,monthlyPayment:C.leasingDetails.monthlyPayment,advancePayment:C.leasingDetails.advancePayment,withPurchaseOption:C.leasingDetails.withPurchaseOption,purchaseOptionPrice:C.leasingDetails.purchaseOptionPrice}),console.log("📤 Submitting contract data:",JSON.stringify(E,null,2)),await t(E)}catch(E){console.error("❌ Contract submission error:",E),c(E instanceof Error?E.message:"An error occurred while creating the contract")}},[t]),M=()=>{var C,k,R,O,E,I,V,U,_,z,B,Q,se,X,J,ie,me,te,pe,ve,ge,he,xe,oe,Te,He,Ue,ut,ke,Pe,L,W,H,ce,Y,K;switch(s){case 0:return r.jsx(JP,{selectedCustomerId:j.customerId,onCustomerSelect:ae=>{p("customerId",(ae==null?void 0:ae.id)||"",{shouldValidate:!0})},preSelectedCustomerId:a,error:(C=b.customerId)==null?void 0:C.message,onCreateCustomer:()=>{console.log("Create new customer"),window.open("/customers/new","_blank")}});case 1:return r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,children:r.jsxs(v,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Yt,{}),"Basic Contract Information"]})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,label:"Contract Number",placeholder:"e.g., CNT-2024-001",value:j.contractNumber,onChange:ae=>p("contractNumber",ae.target.value,{shouldValidate:!0}),error:!!b.contractNumber,helperText:((k=b.contractNumber)==null?void 0:k.message)||"Unique identifier for this contract",required:!0})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsxs(Je,{fullWidth:!0,error:!!b.type,children:[r.jsx(at,{children:"Contract Type"}),r.jsxs(it,{value:j.type,onChange:ae=>p("type",ae.target.value,{shouldValidate:!0}),label:"Contract Type",children:[r.jsx(ne,{value:Kt.LOAN,children:"Loan"}),r.jsx(ne,{value:Kt.LEASING,children:"Leasing"})]}),r.jsx(Ya,{children:((R=b.type)==null?void 0:R.message)||"Select the type of contract"})]})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(Rr,{label:"Start Date",value:j.startDate?ze(j.startDate):ze(),onChange:ae=>{const Ce=ae?ae.format("YYYY-MM-DD"):ze().format("YYYY-MM-DD");p("startDate",Ce,{shouldValidate:!0})},slotProps:{textField:{fullWidth:!0,error:!!b.startDate,helperText:((O=b.startDate)==null?void 0:O.message)||"Select the contract start date",required:!0}},minDate:ze()})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,label:"End Date",value:j.endDate?ze(j.endDate).format("MMM DD, YYYY"):"Select loan term first",InputProps:{readOnly:!0,endAdornment:r.jsx($e,{position:"end",children:r.jsx(wl,{})})},helperText:"Auto-calculated based on start date and loan term",sx:{"& .MuiInputBase-input":{color:"primary.main",fontWeight:500}}})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,label:"Total Loan Amount",type:"number",value:j.totalAmount||"",onChange:ae=>p("totalAmount",parseFloat(ae.target.value)||0,{shouldValidate:!0}),error:!!b.totalAmount,helperText:((E=b.totalAmount)==null?void 0:E.message)||"Principal amount to be financed",InputProps:{startAdornment:r.jsx($e,{position:"start",children:"$"})},required:!0})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,label:"Annual Interest Rate",type:"number",value:(I=j.loanDetails)!=null&&I.interestRate?(j.loanDetails.interestRate*100).toFixed(2):"",onChange:ae=>{const Ce=parseFloat(ae.target.value)/100;p("loanDetails.interestRate",Ce||0,{shouldValidate:!0})},error:!!((V=b.loanDetails)!=null&&V.interestRate),helperText:((_=(U=b.loanDetails)==null?void 0:U.interestRate)==null?void 0:_.message)||"Annual interest rate (e.g., 12.5 for 12.5%)",InputProps:{endAdornment:r.jsx($e,{position:"end",children:"%"})},required:!0})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,label:"Loan Term",type:"number",value:((z=j.loanDetails)==null?void 0:z.loanTermMonths)||"",onChange:ae=>p("loanDetails.loanTermMonths",parseInt(ae.target.value)||0,{shouldValidate:!0}),error:!!((B=b.loanDetails)!=null&&B.loanTermMonths),helperText:((se=(Q=b.loanDetails)==null?void 0:Q.loanTermMonths)==null?void 0:se.message)||"Loan duration in months",InputProps:{endAdornment:r.jsx($e,{position:"end",children:"months"})},required:!0})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,label:"Monthly Payment",type:"number",value:((J=(X=j.loanDetails)==null?void 0:X.monthlyPayment)==null?void 0:J.toFixed(2))||"0.00",InputProps:{readOnly:!0,startAdornment:r.jsx($e,{position:"start",children:"$"}),endAdornment:r.jsx($e,{position:"end",children:r.jsx(wl,{})})},helperText:"Auto-calculated based on amount, rate, and term",sx:{"& .MuiInputBase-input":{color:"primary.main",fontWeight:600}}})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,label:"Processing Fee",type:"number",value:((ie=j.loanDetails)==null?void 0:ie.processingFee)||"",onChange:ae=>p("loanDetails.processingFee",parseFloat(ae.target.value)||0,{shouldValidate:!0}),error:!!((me=b.loanDetails)!=null&&me.processingFee),helperText:((pe=(te=b.loanDetails)==null?void 0:te.processingFee)==null?void 0:pe.message)||"One-time processing fee (optional)",InputProps:{startAdornment:r.jsx($e,{position:"start",children:"$"})}})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,label:"Early Repayment Penalty",type:"number",value:(ve=j.loanDetails)!=null&&ve.earlyRepaymentPenalty?(j.loanDetails.earlyRepaymentPenalty*100).toFixed(2):"",onChange:ae=>{const Ce=parseFloat(ae.target.value)/100;p("loanDetails.earlyRepaymentPenalty",Ce||0,{shouldValidate:!0})},error:!!((ge=b.loanDetails)!=null&&ge.earlyRepaymentPenalty),helperText:((xe=(he=b.loanDetails)==null?void 0:he.earlyRepaymentPenalty)==null?void 0:xe.message)||"Penalty rate for early repayment (optional)",InputProps:{endAdornment:r.jsx($e,{position:"end",children:"%"})}})}),j.totalAmount>0&&((oe=j.loanDetails)==null?void 0:oe.monthlyPayment)&&r.jsx(N,{item:!0,xs:12,children:r.jsx(Fe,{elevation:0,sx:{border:"1px solid",borderColor:"primary.main",bgcolor:"background.paper",mt:2},children:r.jsxs(Le,{children:[r.jsxs(v,{variant:"h6",gutterBottom:!0,color:"primary.main",sx:{display:"flex",alignItems:"center"},children:[r.jsx(wl,{sx:{mr:1}}),"Loan Summary"]}),r.jsxs(N,{container:!0,spacing:2,children:[r.jsxs(N,{item:!0,xs:6,md:3,children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Principal"}),r.jsxs(v,{variant:"h6",color:"text.primary",children:["$",(Te=j.totalAmount)==null?void 0:Te.toLocaleString()]})]}),r.jsxs(N,{item:!0,xs:6,md:3,children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Monthly Payment"}),r.jsxs(v,{variant:"h6",color:"primary.main",children:["$",j.loanDetails.monthlyPayment.toFixed(2)]})]}),r.jsxs(N,{item:!0,xs:6,md:3,children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Total Interest"}),r.jsxs(v,{variant:"h6",color:"success.main",children:["$",(j.loanDetails.monthlyPayment*(j.loanDetails.loanTermMonths||0)-j.totalAmount).toFixed(2)]})]}),r.jsxs(N,{item:!0,xs:6,md:3,children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Total Repayment"}),r.jsxs(v,{variant:"h6",color:"primary.main",children:["$",(j.loanDetails.monthlyPayment*(j.loanDetails.loanTermMonths||0)).toFixed(2)]})]})]})]})})})]});case 2:return r.jsx(tE,{selectedVehicleIds:j.selectedVehicles,onVehicleSelect:ae=>{p("selectedVehicles",ae,{shouldValidate:!0})},error:(He=b.selectedVehicles)==null?void 0:He.message});case 3:return r.jsx(aE,{collaterals:j.collaterals||[],onCollateralsChange:ae=>{p("collaterals",ae,{shouldValidate:!0})},error:(Ue=b.collaterals)==null?void 0:Ue.message});case 4:return r.jsx(rE,{selectedEndorserIds:j.selectedEndorsers,onEndorserSelect:ae=>{p("selectedEndorsers",ae,{shouldValidate:!0})},onCreateEndorser:()=>{console.log("Create new endorser")},error:(ut=b.selectedEndorsers)==null?void 0:ut.message});case 5:return r.jsx(XE,{documents:j.documents||[],onDocumentsChange:ae=>{p("documents",ae,{shouldValidate:!0})},error:(ke=b.documents)==null?void 0:ke.message,customerId:j.customerId||"",endorserId:(Pe=j.selectedEndorsers)==null?void 0:Pe[0],vehicleIds:j.selectedVehicles||[],sessionKey:d});case 6:return r.jsxs(w,{children:[r.jsxs(v,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(lt,{}),"Review Contract Details"]}),r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(Fe,{elevation:0,sx:{border:"1px solid",borderColor:"divider",height:"100%"},children:r.jsxs(Le,{children:[r.jsx(v,{variant:"subtitle1",gutterBottom:!0,color:"primary",sx:{fontWeight:600},children:"Contract Information"}),r.jsxs(w,{sx:{display:"flex",flexDirection:"column",gap:1},children:[r.jsxs(v,{variant:"body2",children:[r.jsx("strong",{children:"Contract Number:"})," ",j.contractNumber||"Not set"]}),r.jsxs(v,{variant:"body2",children:[r.jsx("strong",{children:"Type:"})," ",j.type]}),r.jsxs(v,{variant:"body2",children:[r.jsx("strong",{children:"Customer ID:"})," ",j.customerId||"Not selected"]}),r.jsxs(v,{variant:"body2",children:[r.jsx("strong",{children:"Start Date:"})," ",j.startDate?ze(j.startDate).format("MMM DD, YYYY"):"Not set"]}),r.jsxs(v,{variant:"body2",children:[r.jsx("strong",{children:"End Date:"})," ",j.endDate?ze(j.endDate).format("MMM DD, YYYY"):"Not set"]}),r.jsxs(v,{variant:"body2",children:[r.jsx("strong",{children:"Total Amount:"})," $",((L=j.totalAmount)==null?void 0:L.toLocaleString())||"0"]})]})]})})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(Fe,{elevation:0,sx:{border:"1px solid",borderColor:"divider",height:"100%"},children:r.jsxs(Le,{children:[r.jsx(v,{variant:"subtitle1",gutterBottom:!0,color:"primary",sx:{fontWeight:600},children:"Financial Details"}),j.loanDetails?r.jsxs(w,{sx:{display:"flex",flexDirection:"column",gap:1},children:[r.jsxs(v,{variant:"body2",children:[r.jsx("strong",{children:"Interest Rate:"})," ",((j.loanDetails.interestRate||0)*100).toFixed(2),"%"]}),r.jsxs(v,{variant:"body2",children:[r.jsx("strong",{children:"Term:"})," ",j.loanDetails.loanTermMonths," months"]}),r.jsxs(v,{variant:"body2",children:[r.jsx("strong",{children:"Monthly Payment:"})," $",((W=j.loanDetails.monthlyPayment)==null?void 0:W.toFixed(2))||"0.00"]}),j.loanDetails.processingFee&&r.jsxs(v,{variant:"body2",children:[r.jsx("strong",{children:"Processing Fee:"})," $",j.loanDetails.processingFee.toFixed(2)]}),j.loanDetails.earlyRepaymentPenalty&&r.jsxs(v,{variant:"body2",children:[r.jsx("strong",{children:"Early Repayment Penalty:"})," ",(j.loanDetails.earlyRepaymentPenalty*100).toFixed(2),"%"]}),r.jsx(Ee,{sx:{my:1}}),r.jsxs(v,{variant:"body2",color:"success.main",sx:{fontWeight:600},children:[r.jsx("strong",{children:"Total Interest:"})," $",j.loanDetails.monthlyPayment&&j.loanDetails.loanTermMonths?(j.loanDetails.monthlyPayment*j.loanDetails.loanTermMonths-j.totalAmount).toFixed(2):"0.00"]}),r.jsxs(v,{variant:"body2",color:"primary.main",sx:{fontWeight:600},children:[r.jsx("strong",{children:"Total Repayment:"})," $",j.loanDetails.monthlyPayment&&j.loanDetails.loanTermMonths?(j.loanDetails.monthlyPayment*j.loanDetails.loanTermMonths).toFixed(2):"0.00"]})]}):r.jsx(v,{variant:"body2",color:"text.secondary",children:"No financial details set"})]})})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(Fe,{elevation:0,sx:{border:"1px solid",borderColor:"divider",height:"100%"},children:r.jsxs(Le,{children:[r.jsxs(v,{variant:"subtitle1",gutterBottom:!0,color:"primary",sx:{fontWeight:600},children:["Vehicles (",j.selectedVehicles.length,")"]}),j.selectedVehicles.length===0?r.jsx(v,{variant:"body2",color:"text.secondary",children:"No vehicles selected"}):r.jsxs(w,{children:[r.jsxs(v,{variant:"body2",color:"success.main",sx:{fontWeight:600},children:[j.selectedVehicles.length," vehicle(s) selected"]}),r.jsxs(v,{variant:"caption",color:"text.secondary",children:["Vehicle IDs: ",j.selectedVehicles.join(", ")]})]})]})})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(Fe,{elevation:0,sx:{border:"1px solid",borderColor:"divider",height:"100%"},children:r.jsxs(Le,{children:[r.jsxs(v,{variant:"subtitle1",gutterBottom:!0,color:"primary",sx:{fontWeight:600},children:["Collaterals (",((H=j.collaterals)==null?void 0:H.length)||0,")"]}),!j.collaterals||j.collaterals.length===0?r.jsx(v,{variant:"body2",color:"text.secondary",children:"No collaterals added"}):r.jsxs(w,{children:[r.jsxs(v,{variant:"body2",color:"success.main",sx:{fontWeight:600},children:[j.collaterals.length," collateral(s) added"]}),j.collaterals.map((ae,Ce)=>{var Ne;return r.jsxs(v,{variant:"caption",color:"text.secondary",display:"block",children:[ae.description||`${ae.make} ${ae.model}`," ","- $",(Ne=ae.value)==null?void 0:Ne.toLocaleString()]},Ce)})]})]})})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(Fe,{elevation:0,sx:{border:"1px solid",borderColor:"divider",height:"100%"},children:r.jsxs(Le,{children:[r.jsxs(v,{variant:"subtitle1",gutterBottom:!0,color:"primary",sx:{fontWeight:600},children:["Endorsers (",j.selectedEndorsers.length,")"]}),j.selectedEndorsers.length===0?r.jsx(v,{variant:"body2",color:"text.secondary",children:"No endorsers selected"}):r.jsxs(w,{children:[r.jsxs(v,{variant:"body2",color:"success.main",sx:{fontWeight:600},children:[j.selectedEndorsers.length," endorser(s) selected"]}),r.jsxs(v,{variant:"caption",color:"text.secondary",children:["Endorser IDs:"," ",j.selectedEndorsers.join(", ")]})]})]})})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(Fe,{elevation:0,sx:{border:"1px solid",borderColor:"divider",height:"100%"},children:r.jsxs(Le,{children:[r.jsxs(v,{variant:"subtitle1",gutterBottom:!0,color:"primary",sx:{fontWeight:600},children:["Documents (",((ce=j.documents)==null?void 0:ce.length)||0,")"]}),!j.documents||j.documents.length===0?r.jsx(v,{variant:"body2",color:"text.secondary",children:"No documents uploaded"}):r.jsxs(w,{children:[r.jsxs(v,{variant:"body2",color:"success.main",sx:{fontWeight:600},children:[j.documents.length," document(s) uploaded"]}),j.documents.map((ae,Ce)=>r.jsxs(v,{variant:"caption",color:"text.secondary",display:"block",children:[ae.name," - ",ae.category," (",ae.status,")"]},Ce))]})]})})}),r.jsx(N,{item:!0,xs:12,children:r.jsx(Fe,{elevation:0,sx:{bgcolor:m?"success.main":"warning.main",color:"white"},children:r.jsxs(Le,{children:[r.jsx(v,{variant:"h6",gutterBottom:!0,children:m?"✅ Contract Ready for Creation":"⚠️ Please Review Required Fields"}),r.jsx(v,{variant:"body2",children:m?"All required information has been provided. The contract is ready to be created.":"Some required fields are missing or invalid. Please review the previous steps."}),!m&&r.jsxs(w,{sx:{mt:2},children:[r.jsx(v,{variant:"body2",sx:{fontWeight:600,mb:1},children:"Missing Requirements:"}),r.jsxs("ul",{style:{margin:0,paddingLeft:"20px"},children:[!j.customerId&&r.jsx("li",{children:"Customer selection required"}),!j.contractNumber&&r.jsx("li",{children:"Contract number required"}),!j.startDate&&r.jsx("li",{children:"Start date required"}),!j.totalAmount&&r.jsx("li",{children:"Total amount required"}),!((Y=j.loanDetails)!=null&&Y.interestRate)&&r.jsx("li",{children:"Interest rate required"}),!((K=j.loanDetails)!=null&&K.loanTermMonths)&&r.jsx("li",{children:"Loan term required"}),(!j.documents||j.documents.length===0)&&r.jsx("li",{children:"Required documents must be uploaded (ID Card, Insurance, TPL, CASCO, Driving Permit, Customer Registration, Endorser ID, Contract Agreement)"})]})]})]})})})]})]});default:return null}},g=()=>{var C,k;switch(s){case 0:return!!j.customerId;case 1:return!!(j.contractNumber&&j.totalAmount>0&&j.startDate&&j.endDate&&((C=j.loanDetails)!=null&&C.interestRate)&&((k=j.loanDetails)!=null&&k.loanTermMonths));case 2:return!0;case 3:return!0;case 4:return!0;case 5:if(!j.customerId)return!1;const R=["id_card","insurance","tpl","casco","driving_permit","customer_registration","endorser_id","contract_agreement"],O=(j.documents||[]).map(I=>I.category);return R.every(I=>O.includes(I));default:return!0}};return r.jsx(Ur,{dateAdapter:Go,children:r.jsx(Wd,{...u,children:r.jsxs(Ie,{elevation:0,sx:{p:3},children:[r.jsx(v,{variant:"h4",gutterBottom:!0,children:i?"Edit Contract":"Create New Contract"}),r.jsx(Ee,{sx:{mb:3}}),r.jsx(rd,{activeStep:s,alternativeLabel:!0,sx:{mb:4},children:Ls.map((C,k)=>r.jsx(ad,{onClick:()=>T(k),sx:{cursor:"pointer"},children:r.jsxs(id,{children:[r.jsx(v,{variant:"body2",children:C.label}),r.jsx(v,{variant:"caption",color:"text.secondary",children:C.description})]})},C.id))}),r.jsx(w,{sx:{minHeight:400,mb:3},children:M()}),l&&r.jsx(_e,{severity:"error",sx:{mb:2},children:l}),r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx(ue,{startIcon:r.jsx(Or,{}),onClick:S,disabled:s===0||n,variant:"outlined",children:"Back"}),r.jsxs(v,{variant:"body2",color:"text.secondary",children:["Step ",s+1," of ",Ls.length]}),s===Ls.length-1?r.jsx(ue,{startIcon:n?r.jsx(fn,{size:20}):r.jsx(lt,{}),onClick:f(A),disabled:!m||n||!g(),variant:"contained",color:"primary",children:n?"Creating...":"Create Contract"}):r.jsx(ue,{endIcon:r.jsx(no,{}),onClick:$,disabled:!g()||n,variant:"contained",children:"Next"})]})]})})})},eA=({contract:e,onDelete:t})=>{const n=yt(),a=Ve(),[i,s]=x.useState(null),o=b=>{s(b.currentTarget)},l=()=>{s(null)},c=b=>b?ze(b).format("MMM D, YYYY"):"N/A",d=b=>{const m=parseFloat(b);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m)},u=b=>{switch(b){case qt.ACTIVE:return"success";case qt.DRAFT:return"warning";case qt.COMPLETED:return"info";case qt.CANCELLED:return"error";default:return"default"}},h=b=>{switch(b){case Kt.LOAN:return"primary";case Kt.LEASING:return"secondary";default:return"default"}},p=e.type===Kt.LOAN,y=e.status===qt.ACTIVE;return r.jsxs(r.Fragment,{children:[r.jsxs(st,{hover:!0,sx:{transition:"all 0.2s","&:hover":{backgroundColor:F(a.palette.primary.main,.02)}},children:[r.jsx(Z,{sx:{py:1.5},children:r.jsxs(w,{sx:{display:"flex",alignItems:"center",cursor:"pointer","&:hover":{color:a.palette.primary.main}},onClick:()=>n(`/contracts/${e.id}`),children:[r.jsx(w,{sx:{width:36,height:36,bgcolor:F(p?a.palette.primary.main:a.palette.secondary.main,.1),borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",mr:1.5},children:p?r.jsx(ei,{fontSize:"small",sx:{color:a.palette.primary.main}}):r.jsx(zo,{fontSize:"small",sx:{color:a.palette.secondary.main}})}),r.jsxs(w,{children:[r.jsx(v,{variant:"body1",fontWeight:500,sx:{transition:"color 0.2s ease",borderBottom:"1px dotted transparent","&:hover":{borderBottomColor:a.palette.primary.main}},children:e.contractNumber}),r.jsxs(v,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:[c(e.startDate)," - ",c(e.endDate)]})]})]})}),r.jsx(Z,{children:r.jsx(de,{label:p?"Loan":"Leasing",size:"small",color:h(e.type),variant:"outlined",sx:{fontWeight:500,px:.5,"& .MuiChip-label":{px:1}}})}),r.jsx(Z,{children:r.jsx(de,{label:e.status.charAt(0).toUpperCase()+e.status.slice(1),size:"small",color:u(e.status),variant:y?"filled":"outlined",sx:{fontWeight:500,px:.5,"& .MuiChip-label":{px:1}}})}),r.jsxs(Z,{children:[r.jsx(v,{variant:"body2",fontWeight:500,children:d(e.totalAmount)}),r.jsxs(v,{variant:"caption",color:"text.secondary",children:["Remaining: ",d(e.remainingAmount)]})]}),r.jsx(Z,{children:r.jsx(v,{variant:"body2",color:"text.secondary",children:c(e.createdAt)})}),r.jsx(Z,{align:"right",children:r.jsx(w,{sx:{display:"flex",justifyContent:"flex-end"},children:r.jsx(ot,{title:"More options",children:r.jsx(Ae,{size:"small",onClick:o,"aria-haspopup":"true",sx:{transition:"transform 0.2s","&:hover":{transform:"scale(1.1)"}},children:r.jsx(_r,{fontSize:"small"})})})})})]}),r.jsxs(Kn,{anchorEl:i,open:!!i,onClose:l,PaperProps:{elevation:3,sx:{minWidth:200,borderRadius:1,overflow:"hidden"}},children:[r.jsxs(ne,{onClick:()=>{n(`/contracts/${e.id}`),l()},dense:!0,children:[r.jsx(Jc,{fontSize:"small",sx:{mr:1.5}}),"Contract Details"]}),r.jsxs(ne,{onClick:()=>{n(`/contracts/${e.id}/summary`),l()},dense:!0,children:[r.jsx(Fo,{fontSize:"small",sx:{mr:1.5}}),"Dashboard"]}),r.jsx(Ee,{}),r.jsxs(ne,{onClick:()=>{n(`/contracts/${e.id}/edit`),l()},dense:!0,children:[r.jsx(Ht,{fontSize:"small",sx:{mr:1.5}}),"Edit Contract"]}),r.jsx(Ee,{}),r.jsxs(ne,{onClick:()=>{n(`/contracts/${e.id}/payments`),l()},dense:!0,children:[r.jsx(Sn,{fontSize:"small",sx:{mr:1.5}}),"Payments"]}),r.jsxs(ne,{onClick:()=>{n(`/contracts/${e.id}/export`),l()},dense:!0,children:[r.jsx(ed,{fontSize:"small",sx:{mr:1.5}}),"Export Data"]}),r.jsx(Ee,{}),r.jsxs(ne,{onClick:()=>{n(`/contracts/${e.id}/logs`),l()},dense:!0,children:[r.jsx(Xn,{fontSize:"small",sx:{mr:1.5}}),"Activity Logs"]}),r.jsx(Ee,{}),r.jsxs(ne,{onClick:()=>{t(e.id),l()},dense:!0,sx:{color:a.palette.error.main},children:[r.jsx(sn,{fontSize:"small",sx:{mr:1.5}}),"Delete Contract"]})]})]})},tA=({contracts:e,loading:t,totalCount:n,page:a,rowsPerPage:i,onPageChange:s,onRowsPerPageChange:o,onDelete:l})=>{const c=yt(),d=Ve(),[u,h]=x.useState("desc"),[p,y]=x.useState("createdAt"),b=m=>{h(p===m&&u==="asc"?"desc":"asc"),y(m)};return t&&e.length===0?r.jsx(Ie,{elevation:2,sx:{borderRadius:2,overflow:"hidden",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:d.shadows[4]}},children:r.jsxs(w,{sx:{p:3},children:[r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[r.jsx(le,{variant:"text",width:200,height:32}),r.jsx(le,{variant:"rectangular",width:100,height:36,sx:{borderRadius:1}})]}),r.jsx(Ee,{sx:{mb:2}}),r.jsx(w,{sx:{display:"flex",mb:1.5},children:["25%","15%","15%","20%","15%","10%"].map((m,f)=>r.jsx(le,{variant:"text",width:m,height:24,sx:{mr:2}},f))}),[...Array(5)].map((m,f)=>r.jsx(w,{sx:{py:2,display:"flex",alignItems:"center",borderBottom:f<4?`1px solid ${d.palette.divider}`:"none"},children:["25%","15%","15%","20%","15%","10%"].map((j,$)=>r.jsx(le,{variant:"text",width:j,height:24,sx:{mr:2}},$))},f)),r.jsx(w,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:r.jsx(le,{variant:"rectangular",width:300,height:36,sx:{borderRadius:1}})})]})}):r.jsxs(Ie,{elevation:2,sx:{borderRadius:2,overflow:"hidden",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:d.shadows[4]}},children:[r.jsx(mr,{children:r.jsxs(xr,{children:[r.jsx(gr,{children:r.jsxs(st,{children:[r.jsx(Z,{children:"Contract Number"}),r.jsx(Z,{children:r.jsx(Ge,{active:p==="type",direction:p==="type"?u:"asc",onClick:()=>b("type"),children:"Type"})}),r.jsx(Z,{children:r.jsx(Ge,{active:p==="status",direction:p==="status"?u:"asc",onClick:()=>b("status"),children:"Status"})}),r.jsx(Z,{children:r.jsx(Ge,{active:p==="totalAmount",direction:p==="totalAmount"?u:"asc",onClick:()=>b("totalAmount"),children:"Amount"})}),r.jsx(Z,{children:r.jsx(Ge,{active:p==="createdAt",direction:p==="createdAt"?u:"asc",onClick:()=>b("createdAt"),children:"Created"})}),r.jsx(Z,{align:"right",children:"Actions"})]})}),r.jsxs(vr,{children:[e.map(m=>r.jsx(eA,{contract:m,onDelete:l},m.id)),e.length===0&&!t&&r.jsx(st,{children:r.jsx(Z,{colSpan:6,align:"center",sx:{py:6},children:r.jsxs(w,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:3},children:[r.jsx(w,{sx:{bgcolor:F(d.palette.primary.main,.05),borderRadius:"50%",p:2,mb:2},children:r.jsx(yn,{sx:{fontSize:48,color:d.palette.primary.main,opacity:.7}})}),r.jsx(v,{variant:"h6",gutterBottom:!0,children:"No contracts found"}),r.jsx(v,{variant:"body2",color:"textSecondary",align:"center",sx:{maxWidth:500,mb:3},children:"No contracts match your current filter criteria or there are no contracts in the system yet."}),r.jsx(ue,{variant:"contained",color:"primary",onClick:()=>c("/contracts/create"),children:"Create New Contract"})]})})})]})]})}),r.jsx(yr,{component:"div",count:n||0,page:Math.min(a,Math.max(0,Math.ceil((n||0)/i)-1)),onPageChange:(m,f)=>{console.log("Page change requested:",f,"Current total:",n),s(f)},rowsPerPage:i,onRowsPerPageChange:m=>{const f=parseInt(m.target.value,10);console.log("Rows per page change:",f),o(f)},rowsPerPageOptions:[5,10,25,50,100],labelRowsPerPage:"Rows per page:",labelDisplayedRows:({from:m,to:f,count:j})=>{const $=j===-1?n:j;return t?"Loading...":`${m}–${f} of ${$!==-1?$:`more than ${f}`}`},disabled:t,sx:{borderTop:`1px solid ${d.palette.divider}`,"& .MuiTablePagination-select":{pr:1},"& .MuiTablePagination-displayedRows":{fontSize:"0.875rem",color:d.palette.text.secondary},"&.Mui-disabled":{opacity:.6}}})]})},nA=({search:e,type:t,status:n,onSearchChange:a,onTypeChange:i,onStatusChange:s,onReset:o})=>{const l=Ve(),[c,d]=x.useState(!1),[u,h]=x.useState(""),[p,y]=x.useState(""),[b,m]=x.useState(""),[f,j]=x.useState(""),$=e||t||n||u||p||b||f,S=[e,t,n,u,p,b,f].filter(Boolean).length,T=M=>{switch(M){case Kt.LOAN:return r.jsx(Yt,{fontSize:"small",sx:{mr:1,color:l.palette.success.main}});case Kt.LEASING:return r.jsx(hr,{fontSize:"small",sx:{mr:1,color:l.palette.primary.main}});default:return null}},A=M=>{switch(M){case qt.ACTIVE:return l.palette.success.main;case qt.DRAFT:return l.palette.warning.main;case qt.CANCELLED:return l.palette.error.main;case qt.COMPLETED:return l.palette.info.main;default:return l.palette.text.secondary}};return r.jsx(Ie,{elevation:2,sx:{mb:3,borderRadius:2,overflow:"hidden",transition:"box-shadow 0.3s ease-in-out","&:hover":{boxShadow:l.shadows[4]}},children:r.jsxs(w,{sx:{p:2},children:[r.jsxs(N,{container:!0,spacing:2,alignItems:"center",children:[r.jsx(N,{item:!0,xs:12,md:8,children:r.jsx(fe,{id:"contract-search-field",placeholder:"Search contracts by number, customer name, vehicle...",value:e,onChange:M=>a(M.target.value),fullWidth:!0,variant:"outlined",InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(en,{color:"action"})}),endAdornment:e&&r.jsx($e,{position:"end",children:r.jsx(ot,{title:"Clear search",children:r.jsx(Ae,{size:"small",onClick:()=>a(""),edge:"end",children:r.jsx(Gt,{fontSize:"small"})})})}),sx:{borderRadius:2,transition:"all 0.2s","&.Mui-focused":{boxShadow:`0 0 0 2px ${F(l.palette.primary.main,.25)}`}}}})}),r.jsx(N,{item:!0,xs:12,md:4,children:r.jsxs(w,{sx:{display:"flex",gap:1,justifyContent:{xs:"flex-start",md:"flex-end"}},children:[r.jsxs(Je,{sx:{minWidth:120},children:[r.jsx(at,{id:"contract-type-label",size:"small",children:"Type"}),r.jsxs(it,{labelId:"contract-type-label",value:t||"",onChange:M=>i(M.target.value||void 0),label:"Type",size:"small",sx:{borderRadius:2,"& .MuiOutlinedInput-notchedOutline":{transition:"all 0.2s"}},children:[r.jsx(ne,{value:"",children:"All Types"}),r.jsx(ne,{value:Kt.LOAN,children:r.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Yt,{fontSize:"small",sx:{mr:1,color:l.palette.success.main}}),"Loan"]})}),r.jsx(ne,{value:Kt.LEASING,children:r.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(hr,{fontSize:"small",sx:{mr:1,color:l.palette.primary.main}}),"Leasing"]})})]})]}),r.jsxs(Je,{sx:{minWidth:120},children:[r.jsx(at,{id:"contract-status-label",size:"small",children:"Status"}),r.jsxs(it,{labelId:"contract-status-label",value:n||"",onChange:M=>s(M.target.value||void 0),label:"Status",size:"small",sx:{borderRadius:2,"& .MuiOutlinedInput-notchedOutline":{transition:"all 0.2s"}},children:[r.jsx(ne,{value:"",children:"All Statuses"}),r.jsx(ne,{value:qt.DRAFT,children:"Draft"}),r.jsx(ne,{value:qt.ACTIVE,children:"Active"}),r.jsx(ne,{value:qt.COMPLETED,children:"Completed"}),r.jsx(ne,{value:qt.CANCELLED,children:"Cancelled"})]})]}),r.jsx(ot,{title:"More filters",children:r.jsx(Ae,{color:c?"primary":"default",onClick:()=>d(!c),sx:{height:40,width:40,bgcolor:c?F(l.palette.primary.main,.1):"transparent",border:`1px solid ${c?l.palette.primary.main:l.palette.divider}`,borderRadius:2,"&:hover":{bgcolor:c?F(l.palette.primary.main,.15):F(l.palette.action.hover,.8)}},children:r.jsx(Wr,{fontSize:"small"})})})]})})]}),r.jsx($n,{in:c,children:r.jsxs(w,{sx:{mt:2,pt:2,borderTop:`1px solid ${l.palette.divider}`},children:[r.jsx(v,{variant:"subtitle2",fontWeight:600,gutterBottom:!0,color:"text.primary",children:"Additional Filters"}),r.jsxs(N,{container:!0,spacing:2,children:[r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsxs(Je,{fullWidth:!0,size:"small",children:[r.jsx(at,{children:"Date Range"}),r.jsxs(it,{value:u,onChange:M=>h(M.target.value),label:"Date Range",children:[r.jsx(ne,{value:"",children:"Any Time"}),r.jsx(ne,{value:"today",children:"Today"}),r.jsx(ne,{value:"week",children:"This Week"}),r.jsx(ne,{value:"month",children:"This Month"}),r.jsx(ne,{value:"quarter",children:"This Quarter"}),r.jsx(ne,{value:"year",children:"This Year"})]})]})}),r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsxs(Je,{fullWidth:!0,size:"small",children:[r.jsx(at,{children:"Amount Range"}),r.jsxs(it,{value:p,onChange:M=>y(M.target.value),label:"Amount Range",children:[r.jsx(ne,{value:"",children:"Any Amount"}),r.jsx(ne,{value:"0-10000",children:"$0 - $10,000"}),r.jsx(ne,{value:"10000-50000",children:"$10,000 - $50,000"}),r.jsx(ne,{value:"50000-100000",children:"$50,000 - $100,000"}),r.jsx(ne,{value:"100000+",children:"$100,000+"})]})]})}),r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsxs(Je,{fullWidth:!0,size:"small",children:[r.jsx(at,{children:"Has Collateral"}),r.jsxs(it,{value:b,onChange:M=>m(M.target.value),label:"Has Collateral",children:[r.jsx(ne,{value:"",children:"Any"}),r.jsx(ne,{value:"true",children:"Yes"}),r.jsx(ne,{value:"false",children:"No"})]})]})}),r.jsx(N,{item:!0,xs:12,sm:6,md:3,children:r.jsxs(Je,{fullWidth:!0,size:"small",children:[r.jsx(at,{children:"Payment Method"}),r.jsxs(it,{value:f,onChange:M=>j(M.target.value),label:"Payment Method",children:[r.jsx(ne,{value:"",children:"Any Method"}),r.jsx(ne,{value:"cash",children:"Cash"}),r.jsx(ne,{value:"financing",children:"Financing"}),r.jsx(ne,{value:"lease",children:"Lease"}),r.jsx(ne,{value:"credit",children:"Credit"})]})]})})]})]})}),$&&r.jsxs(w,{sx:{mt:2,display:"flex",flexWrap:"wrap",gap:1,alignItems:"center"},children:[r.jsx(v,{variant:"body2",color:"text.secondary",children:"Active filters:"}),e&&r.jsx(de,{label:`Search: ${e}`,size:"small",onDelete:()=>a(""),sx:{borderRadius:1.5}}),t&&r.jsx(de,{label:`Type: ${t===Kt.LOAN?"Loan":"Leasing"}`,size:"small",onDelete:()=>i(void 0),sx:{borderRadius:1.5},icon:T(t)}),n&&r.jsx(de,{label:`Status: ${n.charAt(0).toUpperCase()+n.slice(1)}`,size:"small",onDelete:()=>s(void 0),sx:{borderRadius:1.5,"& .MuiChip-label":{color:A(n)}}}),u&&r.jsx(de,{label:`Date: ${u.charAt(0).toUpperCase()+u.slice(1)}`,size:"small",onDelete:()=>h(""),sx:{borderRadius:1.5},icon:r.jsx(ti,{fontSize:"small"})}),p&&r.jsx(de,{label:`Amount: ${p==="100000+"?"$100,000+":`$${p.replace("-"," - $")}`}`,size:"small",onDelete:()=>y(""),sx:{borderRadius:1.5},icon:r.jsx(Yt,{fontSize:"small"})}),b&&r.jsx(de,{label:`Collateral: ${b==="true"?"Yes":"No"}`,size:"small",onDelete:()=>m(""),sx:{borderRadius:1.5},icon:r.jsx(zr,{fontSize:"small"})}),f&&r.jsx(de,{label:`Payment: ${f.charAt(0).toUpperCase()+f.slice(1)}`,size:"small",onDelete:()=>j(""),sx:{borderRadius:1.5}}),r.jsxs(ue,{variant:"text",size:"small",startIcon:r.jsx(Gt,{}),onClick:()=>{o(),h(""),y(""),m(""),j("")},sx:{ml:"auto"},children:["Clear All (",S,")"]})]})]})})},rA=()=>{const[e,{isLoading:t}]=G3(),n=async a=>{try{await e(a).unwrap(),console.log("Contract created successfully")}catch(i){console.error("Failed to create contract:",i)}};return r.jsx(Ga,{maxWidth:"lg",children:r.jsxs(w,{sx:{py:3},children:[r.jsx(v,{variant:"h4",gutterBottom:!0,children:"Create New Contract"}),r.jsx(JE,{onSubmit:n,loading:t})]})})},aA=(e={})=>{const{initialPage:t=0,initialRowsPerPage:n=10,initialType:a,initialStatus:i,initialSearch:s=""}=e,[o,l]=x.useState(t),[c,d]=x.useState(n),[u,h]=x.useState(a),[p,y]=x.useState(i),[b,m]=x.useState(s),f=o*c,{data:j=[],isLoading:$,error:S,refetch:T}=K3({type:u,status:p,limit:c,offset:f,search:b.trim()||void 0}),A=x.useCallback(R=>{l(R)},[]),M=x.useCallback(R=>{d(R),l(0)},[]),g=x.useCallback(R=>{h(R),l(0)},[]),D=x.useCallback(R=>{y(R),l(0)},[]),P=x.useCallback(R=>{m(R),l(0)},[]),C=x.useCallback(R=>{console.log("Delete contract:",R),T()},[T]),k=x.useCallback(()=>{h(void 0),y(void 0),m(""),l(0)},[]);return{contracts:j,isLoading:$,error:S,page:o,rowsPerPage:c,totalCount:j.length,type:u,status:p,search:b,handlePageChange:A,handleRowsPerPageChange:M,handleTypeChange:g,handleStatusChange:D,handleSearchChange:P,handleDeleteContract:C,resetFilters:k,refetch:T}},iA=()=>{const e=yt(),{contracts:t,isLoading:n,page:a,rowsPerPage:i,totalCount:s,type:o,status:l,search:c,handlePageChange:d,handleRowsPerPageChange:u,handleTypeChange:h,handleStatusChange:p,handleSearchChange:y,handleDeleteContract:b,resetFilters:m}=aA(),f=()=>{e("/contracts/create")};return r.jsxs(w,{children:[r.jsxs(w,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx(v,{variant:"h4",children:"Contracts"}),r.jsx(ue,{variant:"contained",startIcon:r.jsx(Zt,{}),onClick:f,children:"Create Contract"})]}),r.jsx(nA,{search:c,type:o,status:l,onSearchChange:y,onTypeChange:h,onStatusChange:p,onReset:m}),r.jsx(tA,{contracts:t,loading:n,totalCount:s,page:a,rowsPerPage:i,onPageChange:d,onRowsPerPageChange:u,onDelete:b})]})},sA=()=>{var p;const{id:e}=Mn(),t=yt(),n=Ve(),{data:a,isLoading:i,error:s}=Q3(e),o=y=>y?ze(y).format("MMM D, YYYY"):"N/A",l=y=>{const b=parseFloat(y);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(b)},c=y=>{switch(y){case qt.ACTIVE:return"success";case qt.DRAFT:return"warning";case qt.COMPLETED:return"info";case qt.CANCELLED:return"error";default:return"default"}},d=y=>{switch(y){case Kt.LOAN:return"primary";case Kt.LEASING:return"secondary";default:return"default"}};if(i)return r.jsx(Ga,{maxWidth:"lg",children:r.jsxs(w,{sx:{py:3},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",mb:3},children:[r.jsx(le,{variant:"rectangular",width:40,height:40,sx:{mr:2}}),r.jsx(le,{variant:"text",width:200,height:32})]}),r.jsx(N,{container:!0,spacing:3,children:[...Array(6)].map((y,b)=>r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(le,{variant:"rectangular",height:200})},b))})]})});if(s||!a)return r.jsx(Ga,{maxWidth:"lg",children:r.jsxs(w,{sx:{py:3},children:[r.jsx(_e,{severity:"error",sx:{mb:3},children:"Failed to load contract details. Please try again."}),r.jsx(ue,{variant:"outlined",startIcon:r.jsx(Or,{}),onClick:()=>t("/contracts"),children:"Back to Contracts"})]})});const u=a.type===Kt.LOAN,h=a.status===qt.ACTIVE;return r.jsx(Ga,{maxWidth:"lg",children:r.jsxs(w,{sx:{py:3},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",mb:3},children:[r.jsx(ue,{variant:"outlined",startIcon:r.jsx(Or,{}),onClick:()=>t("/contracts"),sx:{mr:2},children:"Back"}),r.jsxs(w,{sx:{flex:1},children:[r.jsx(v,{variant:"h4",component:"h1",gutterBottom:!0,children:a.contractNumber}),r.jsxs(w,{sx:{display:"flex",gap:1,alignItems:"center"},children:[r.jsx(de,{label:u?"Loan":"Leasing",color:d(a.type),variant:"outlined",size:"small"}),r.jsx(de,{label:a.status.charAt(0).toUpperCase()+a.status.slice(1),color:c(a.status),variant:h?"filled":"outlined",size:"small"})]})]}),r.jsxs(w,{sx:{display:"flex",gap:1},children:[r.jsx(ue,{variant:"outlined",startIcon:r.jsx(Ht,{}),onClick:()=>t(`/contracts/${a.id}/edit`),children:"Edit"}),r.jsx(ue,{variant:"outlined",color:"error",startIcon:r.jsx(sn,{}),onClick:()=>{console.log("Delete contract:",a.id)},children:"Delete"})]})]}),r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(Fe,{children:r.jsxs(Le,{children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",mb:2},children:[r.jsx(w,{sx:{width:40,height:40,bgcolor:F(u?n.palette.primary.main:n.palette.secondary.main,.1),borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:u?r.jsx(ei,{sx:{color:n.palette.primary.main}}):r.jsx(zo,{sx:{color:n.palette.secondary.main}})}),r.jsx(v,{variant:"h6",children:"Basic Information"})]}),r.jsxs(N,{container:!0,spacing:2,children:[r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"Contract Number"}),r.jsx(v,{variant:"body1",fontWeight:500,children:a.contractNumber})]}),r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"Type"}),r.jsx(v,{variant:"body1",fontWeight:500,children:u?"Loan":"Leasing"})]}),r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"Status"}),r.jsx(v,{variant:"body1",fontWeight:500,children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]}),r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"Customer ID"}),r.jsx(v,{variant:"body1",fontWeight:500,children:(p=a.customerId)==null?void 0:p.slice(0,8)})]})]})]})})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(Fe,{children:r.jsxs(Le,{children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",mb:2},children:[r.jsx(Yt,{sx:{mr:2,color:n.palette.success.main}}),r.jsx(v,{variant:"h6",children:"Financial Details"})]}),r.jsxs(N,{container:!0,spacing:2,children:[r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"Total Amount"}),r.jsx(v,{variant:"h6",color:"success.main",fontWeight:600,children:l(a.totalAmount)})]}),r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"Remaining Amount"}),r.jsx(v,{variant:"h6",color:"warning.main",fontWeight:600,children:l(a.remainingAmount)})]}),r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"Amount Paid"}),r.jsx(v,{variant:"body1",fontWeight:500,children:l((parseFloat(a.totalAmount)-parseFloat(a.remainingAmount)).toString())})]}),r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"Progress"}),r.jsxs(v,{variant:"body1",fontWeight:500,children:[Math.round((parseFloat(a.totalAmount)-parseFloat(a.remainingAmount))/parseFloat(a.totalAmount)*100),"%"]})]})]})]})})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(Fe,{children:r.jsxs(Le,{children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",mb:2},children:[r.jsx(Gn,{sx:{mr:2,color:n.palette.info.main}}),r.jsx(v,{variant:"h6",children:"Important Dates"})]}),r.jsxs(N,{container:!0,spacing:2,children:[r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"Start Date"}),r.jsx(v,{variant:"body1",fontWeight:500,children:o(a.startDate)})]}),r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"End Date"}),r.jsx(v,{variant:"body1",fontWeight:500,children:o(a.endDate)})]}),r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"Created"}),r.jsx(v,{variant:"body1",fontWeight:500,children:o(a.createdAt)})]}),r.jsxs(N,{item:!0,xs:6,children:[r.jsx(v,{variant:"caption",color:"text.secondary",children:"Last Updated"}),r.jsx(v,{variant:"body1",fontWeight:500,children:o(a.updatedAt)})]})]})]})})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(Fe,{children:r.jsxs(Le,{children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",mb:2},children:[r.jsx(is,{sx:{mr:2,color:n.palette.primary.main}}),r.jsx(v,{variant:"h6",children:"Quick Actions"})]}),r.jsxs(N,{container:!0,spacing:1,children:[r.jsx(N,{item:!0,xs:6,children:r.jsx(ue,{fullWidth:!0,variant:"outlined",startIcon:r.jsx(et,{}),onClick:()=>t(`/customers/${a.customerId}`),size:"small",children:"View Customer"})}),r.jsx(N,{item:!0,xs:6,children:r.jsx(ue,{fullWidth:!0,variant:"outlined",startIcon:r.jsx(Sn,{}),onClick:()=>t(`/contracts/${a.id}/payments`),size:"small",children:"Payments"})}),r.jsx(N,{item:!0,xs:6,children:r.jsx(ue,{fullWidth:!0,variant:"outlined",startIcon:r.jsx(pt,{}),onClick:()=>t(`/contracts/${a.id}/vehicles`),size:"small",children:"Vehicles"})}),r.jsx(N,{item:!0,xs:6,children:r.jsx(ue,{fullWidth:!0,variant:"outlined",startIcon:r.jsx(zr,{}),onClick:()=>t(`/contracts/${a.id}/collaterals`),size:"small",children:"Collaterals"})}),r.jsx(N,{item:!0,xs:6,children:r.jsx(ue,{fullWidth:!0,variant:"outlined",startIcon:r.jsx(Xn,{}),onClick:()=>t(`/contracts/${a.id}/logs`),size:"small",children:"Activity Logs"})}),r.jsx(N,{item:!0,xs:6,children:r.jsx(ue,{fullWidth:!0,variant:"outlined",startIcon:r.jsx(ed,{}),onClick:()=>t(`/contracts/${a.id}/export`),size:"small",children:"Export Data"})})]})]})})}),r.jsx(N,{item:!0,xs:12,children:r.jsx(Fe,{children:r.jsxs(Le,{children:[r.jsx(v,{variant:"h6",gutterBottom:!0,children:"Contract Timeline"}),r.jsx(Ee,{sx:{mb:2}}),r.jsxs(w,{sx:{display:"flex",alignItems:"center",mb:2},children:[r.jsx(w,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:n.palette.success.main,mr:2}}),r.jsxs(v,{variant:"body2",children:["Contract created on ",o(a.createdAt)]})]}),r.jsxs(w,{sx:{display:"flex",alignItems:"center",mb:2},children:[r.jsx(w,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:n.palette.info.main,mr:2}}),r.jsxs(v,{variant:"body2",children:["Contract period: ",o(a.startDate)," - ",o(a.endDate)]})]}),r.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(w,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:n.palette.warning.main,mr:2}}),r.jsxs(v,{variant:"body2",children:["Last updated on ",o(a.updatedAt)]})]})]})})})]})]})})};var dn=(e=>(e.PENDING="pending",e.PAID="paid",e.OVERDUE="overdue",e.PARTIAL="partial",e.CANCELLED="cancelled",e.REFUNDED="refunded",e))(dn||{}),xn=(e=>(e.SCHEDULED="scheduled",e.MANUAL="manual",e.LATE_FEE="late_fee",e.PENALTY="penalty",e.REFUND="refund",e.ADVANCE="advance",e))(xn||{});const sg={[dn.PENDING]:{label:"Pending",color:"warning.main",bgcolor:"warning.light",icon:is,textColor:"warning.dark"},[dn.PAID]:{label:"Paid",color:"success.main",bgcolor:"success.light",icon:lt,textColor:"success.dark"},[dn.OVERDUE]:{label:"Overdue",color:"error.main",bgcolor:"error.light",icon:kn,textColor:"error.dark"},[dn.PARTIAL]:{label:"Partial",color:"info.main",bgcolor:"info.light",icon:Yt,textColor:"info.dark"},[dn.CANCELLED]:{label:"Cancelled",color:"grey.main",bgcolor:"grey.light",icon:sv,textColor:"grey.dark"},[dn.REFUNDED]:{label:"Refunded",color:"secondary.main",bgcolor:"secondary.light",icon:zf,textColor:"secondary.dark"}};xn.SCHEDULED+"",is,xn.MANUAL+"",Zn,xn.LATE_FEE+"",kn,xn.PENALTY+"",Sa,xn.REFUND+"",zf,xn.ADVANCE+"",Yt;const ou=[{value:"cash",label:"Cash",icon:ov,color:"success.main"},{value:"bank_transfer",label:"Bank Transfer",icon:to,color:"primary.main"},{value:"online_banking",label:"Online Banking",icon:to,color:"info.main"},{value:"credit_card",label:"Credit Card",icon:hc,color:"warning.main"},{value:"debit_card",label:"Debit Card",icon:hc,color:"secondary.main"},{value:"check",label:"Check",icon:Zn,color:"grey.main"},{value:"other",label:"Other",icon:lv,color:"text.secondary"}],lc={status:[{value:"",label:"All Statuses"},{value:dn.PENDING,label:"Pending"},{value:dn.PAID,label:"Paid"},{value:dn.OVERDUE,label:"Overdue"},{value:dn.PARTIAL,label:"Partial"},{value:dn.CANCELLED,label:"Cancelled"},{value:dn.REFUNDED,label:"Refunded"}],type:[{value:"",label:"All Types"},{value:xn.SCHEDULED,label:"Scheduled"},{value:xn.MANUAL,label:"Manual"},{value:xn.LATE_FEE,label:"Late Fee"},{value:xn.PENALTY,label:"Penalty"},{value:xn.REFUND,label:"Refund"},{value:xn.ADVANCE,label:"Advance"}],paymentMethod:[{value:"",label:"All Methods"},...ou.map(e=>({value:e.value,label:e.label}))]},oA=({filters:e,onFiltersChange:t,onClearFilters:n,isLoading:a=!1})=>{const[i,s]=re.useState(!1),o=u=>h=>{const p=h.target.value;t({...e,[u]:p===""?void 0:p})},l=u=>h=>{const p=h.target.value;t({...e,[u]:p===""?void 0:parseFloat(p)})},d=(()=>Object.values(e).filter(u=>u!=null&&u!=="").length)();return r.jsxs(Ie,{elevation:0,sx:{p:3,border:"1px solid",borderColor:"divider",borderRadius:2},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(cv,{sx:{color:"primary.main"}}),r.jsx(v,{variant:"h6",sx:{fontWeight:600},children:"Payment Filters"}),d>0&&r.jsx(de,{label:`${d} active`,size:"small",color:"primary",variant:"outlined"})]}),r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1},children:[d>0&&r.jsx(ue,{variant:"outlined",size:"small",startIcon:r.jsx(Gt,{}),onClick:n,disabled:a,children:"Clear All"}),r.jsx(Ae,{onClick:()=>s(!i),size:"small",children:i?r.jsx(No,{}):r.jsx(hi,{})})]})]}),r.jsxs(N,{container:!0,spacing:2,sx:{mb:2},children:[r.jsx(N,{item:!0,xs:12,md:4,children:r.jsx(fe,{fullWidth:!0,label:"Search Payments",placeholder:"Search by customer, contract, or reference...",value:e.search||"",onChange:o("search"),disabled:a,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(en,{sx:{color:"text.secondary"}})})}})}),r.jsx(N,{item:!0,xs:12,md:4,children:r.jsx(fe,{fullWidth:!0,select:!0,label:"Payment Status",value:e.status||"",onChange:o("status"),disabled:a,children:lc.status.map(u=>r.jsx(ne,{value:u.value,children:u.label},u.value))})}),r.jsx(N,{item:!0,xs:12,md:4,children:r.jsx(fe,{fullWidth:!0,select:!0,label:"Payment Type",value:e.type||"",onChange:o("type"),disabled:a,children:lc.type.map(u=>r.jsx(ne,{value:u.value,children:u.label},u.value))})})]}),r.jsxs($n,{in:i,children:[r.jsx(Ee,{sx:{mb:2}}),r.jsx(v,{variant:"subtitle2",sx:{mb:2,color:"text.secondary"},children:"Advanced Filters"}),r.jsxs(N,{container:!0,spacing:2,children:[r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,type:"date",label:"From Date",value:e.dateFrom||"",onChange:o("dateFrom"),disabled:a,InputLabelProps:{shrink:!0},InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(Gn,{sx:{color:"text.secondary"}})})}})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,type:"date",label:"To Date",value:e.dateTo||"",onChange:o("dateTo"),disabled:a,InputLabelProps:{shrink:!0},InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(Gn,{sx:{color:"text.secondary"}})})}})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,type:"number",label:"Minimum Amount",value:e.amountMin||"",onChange:l("amountMin"),disabled:a,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(Yt,{sx:{color:"text.secondary"}})})}})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,type:"number",label:"Maximum Amount",value:e.amountMax||"",onChange:l("amountMax"),disabled:a,InputProps:{startAdornment:r.jsx($e,{position:"start",children:r.jsx(Yt,{sx:{color:"text.secondary"}})})}})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,select:!0,label:"Payment Method",value:e.paymentMethod||"",onChange:o("paymentMethod"),disabled:a,children:lc.paymentMethod.map(u=>r.jsx(ne,{value:u.value,children:u.label},u.value))})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,label:"Customer ID",placeholder:"Enter customer ID...",value:e.customerId||"",onChange:o("customerId"),disabled:a})}),r.jsx(N,{item:!0,xs:12,md:6,children:r.jsx(fe,{fullWidth:!0,label:"Contract ID",placeholder:"Enter contract ID...",value:e.contractId||"",onChange:o("contractId"),disabled:a})})]})]})]})},lA=({payments:e,loading:t=!1,page:n=0,pageSize:a=10,totalCount:i=0,sortBy:s,sortOrder:o="desc",onPageChange:l,onPageSizeChange:c,onSortChange:d,onViewPayment:u,onViewCustomer:h})=>{const[p,y]=re.useState(null),[b,m]=re.useState(null),f=(C,k)=>{C.stopPropagation(),y(C.currentTarget),m(k)},j=()=>{y(null),m(null)},$=C=>{d&&d(C)},S=C=>{const k=typeof C=="string"?parseFloat(C):C;return isNaN(k)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(k)},T=C=>{const k=typeof C=="string"?new Date(C):C;return rn(k,"MMM dd, yyyy")},A=C=>C?ou.find(k=>k.value===C):null,M=C=>C.status===dn.PAID?!1:(typeof C.dueDate=="string"?new Date(C.dueDate):C.dueDate)<new Date,g=C=>{const k=typeof C=="string"?new Date(C):C,O=new Date().getTime()-k.getTime();return Math.ceil(O/(1e3*60*60*24))},D=()=>r.jsx(st,{children:Array.from({length:9}).map((C,k)=>r.jsx(Z,{children:r.jsx(le,{variant:"text"})},k))}),P=C=>{if(!C||typeof C!="object"||!C.id)return console.error("Invalid payment object:",C),r.jsx(st,{children:r.jsx(Z,{colSpan:10,children:r.jsx(v,{variant:"body2",color:"error",children:"Invalid payment data"})})});const k=sg[C.status],R=k==null?void 0:k.icon,O=A(C.paymentMethod),E=M(C),I=E?g(C.dueDate):0;return r.jsxs(st,{hover:!0,onClick:()=>u==null?void 0:u(C.id),sx:{cursor:"pointer","&:hover":{backgroundColor:"action.hover"}},children:[r.jsx(Z,{children:r.jsxs(v,{variant:"body2",sx:{fontFamily:"monospace"},children:[C.id.substring(0,8),"..."]})}),r.jsxs(Z,{children:[r.jsx(v,{variant:"body2",sx:{fontWeight:600},children:S(C.amount)}),C.appliedAmount&&parseFloat(String(C.appliedAmount))!==parseFloat(String(C.amount))&&r.jsxs(v,{variant:"caption",color:"text.secondary",children:["Applied: ",S(C.appliedAmount)]})]}),r.jsxs(Z,{children:[r.jsx(v,{variant:"body2",children:T(C.dueDate)}),E&&r.jsxs(v,{variant:"caption",color:"error.main",children:[I," days overdue"]})]}),r.jsx(Z,{children:C.paymentDate?r.jsx(v,{variant:"body2",children:T(C.paymentDate)}):r.jsx(v,{variant:"body2",color:"text.secondary",children:"Not paid"})}),r.jsx(Z,{children:r.jsx(de,{icon:r.jsx(R,{}),label:k.label,size:"small",sx:{bgcolor:k.bgcolor,color:k.textColor,fontWeight:600,"& .MuiChip-icon":{color:k.color}}})}),r.jsx(Z,{children:r.jsx(v,{variant:"body2",sx:{textTransform:"capitalize"},children:C.type.replace("_"," ")})}),r.jsx(Z,{children:O?r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(pn,{sx:{width:24,height:24,bgcolor:O.color,fontSize:"0.75rem"},children:r.jsx(O.icon,{sx:{fontSize:16}})}),r.jsx(v,{variant:"body2",children:O.label})]}):r.jsx(v,{variant:"body2",color:"text.secondary",children:"Not specified"})}),r.jsx(Z,{children:r.jsx(w,{component:"span",onClick:V=>{V.stopPropagation(),h==null||h(C.customerId)},sx:{cursor:"pointer",color:"primary.main",textDecoration:"underline","&:hover":{color:"primary.dark"}},children:r.jsxs(v,{variant:"body2",children:["Customer ",C.customerId.substring(0,8),"..."]})})}),r.jsx(Z,{children:r.jsxs(v,{variant:"body2",children:["Contract ",C.contractId.substring(0,8),"..."]})}),r.jsx(Z,{onClick:V=>V.stopPropagation(),children:r.jsx(Ae,{size:"small",onClick:V=>f(V,C),children:r.jsx(_r,{})})})]},C.id)};return r.jsxs(Ie,{elevation:0,sx:{border:"1px solid",borderColor:"divider"},children:[r.jsx(mr,{children:r.jsxs(xr,{children:[r.jsx(gr,{children:r.jsxs(st,{children:[r.jsx(Z,{children:r.jsx(Ge,{active:s==="id",direction:s==="id"?o:"asc",onClick:()=>$("id"),children:"Payment ID"})}),r.jsx(Z,{children:r.jsx(Ge,{active:s==="amount",direction:s==="amount"?o:"asc",onClick:()=>$("amount"),children:"Amount"})}),r.jsx(Z,{children:r.jsx(Ge,{active:s==="dueDate",direction:s==="dueDate"?o:"asc",onClick:()=>$("dueDate"),children:"Due Date"})}),r.jsx(Z,{children:r.jsx(Ge,{active:s==="paymentDate",direction:s==="paymentDate"?o:"asc",onClick:()=>$("paymentDate"),children:"Payment Date"})}),r.jsx(Z,{children:r.jsx(Ge,{active:s==="status",direction:s==="status"?o:"asc",onClick:()=>$("status"),children:"Status"})}),r.jsx(Z,{children:r.jsx(Ge,{active:s==="type",direction:s==="type"?o:"asc",onClick:()=>$("type"),children:"Type"})}),r.jsx(Z,{children:"Method"}),r.jsx(Z,{children:"Customer"}),r.jsx(Z,{children:"Contract"}),r.jsx(Z,{children:"Actions"})]})}),r.jsxs(vr,{children:[t?Array.from({length:a}).map((C,k)=>r.jsx(re.Fragment,{children:D()},k)):e.map(P),!t&&e.length===0&&r.jsx(st,{children:r.jsx(Z,{colSpan:10,sx:{textAlign:"center",py:6},children:r.jsx(v,{variant:"body1",color:"text.secondary",children:"No payments found"})})})]})]})}),r.jsx(yr,{component:"div",count:i,page:n,onPageChange:(C,k)=>l==null?void 0:l(k),rowsPerPage:a,onRowsPerPageChange:C=>c==null?void 0:c(parseInt(C.target.value,10)),rowsPerPageOptions:[10,25,50,100]}),r.jsxs(Kn,{anchorEl:p,open:!!p,onClose:j,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[r.jsxs(ne,{onClick:()=>{u==null||u(b.id),j()},children:[r.jsx(Jn,{sx:{mr:1},fontSize:"small"}),"View Details"]}),r.jsx(Ee,{}),r.jsxs(ne,{onClick:()=>{j()},children:[r.jsx(Sn,{sx:{mr:1},fontSize:"small"}),"Generate Receipt"]})]})]})},cA=(e={})=>{var E;const{initialFilters:t={},initialPage:n=0,initialRowsPerPage:a=10,initialSortBy:i="createdAt",initialSortOrder:s="desc"}=e,[o,l]=x.useState(t),[c,d]=x.useState(n),[u,h]=x.useState(a),[p,y]=x.useState(i),[b,m]=x.useState(s),f=x.useMemo(()=>({...o,limit:u,offset:c*u,sortBy:p,sortOrder:b}),[o,c,u,p,b]),{data:j,isLoading:$,isError:S,error:T,refetch:A}=rw(f),M=(j==null?void 0:j.payments)||[],g=x.useCallback(I=>{l(I),d(0)},[]),D=x.useCallback(()=>{l({}),d(0)},[]),P=x.useCallback(I=>{d(I)},[]),C=x.useCallback(I=>{h(I),d(0)},[]),k=x.useCallback((I,V)=>{y(I),m(V),d(0)},[]),R=x.useMemo(()=>{var I;return((I=j==null?void 0:j.meta)==null?void 0:I.total)!==void 0?j.meta.total:(j==null?void 0:j.total)!==void 0?j.total:M.length<u?c*u+M.length:(c+1)*u+1},[(E=j==null?void 0:j.meta)==null?void 0:E.total,j==null?void 0:j.total,M.length,c,u]),O=x.useMemo(()=>Object.values(o).some(I=>I!=null&&I!==""),[o]);return{payments:M,isLoading:$,isError:S,error:T,totalCount:R,filters:o,page:c,rowsPerPage:u,sortBy:p,sortOrder:b,hasActiveFilters:O,handleFiltersChange:g,handleClearFilters:D,handlePageChange:P,handleRowsPerPageChange:C,handleSortChange:k,refetch:A,queryParams:f}},dA=()=>{const e=yt(),{payments:t,isLoading:n,isError:a,error:i,totalCount:s,filters:o,page:l,rowsPerPage:c,sortBy:d,sortOrder:u,hasActiveFilters:h,handleFiltersChange:p,handleClearFilters:y,handlePageChange:b,handleRowsPerPageChange:m,handleSortChange:f,refetch:j}=cA();console.log("Payments data:",t),console.log("Payments type:",typeof t),console.log("Is array:",Array.isArray(t)),console.log("Payment statuses:",t.map(g=>g.status)),console.log("Pending count:",t.filter(g=>g.status==="pending").length);const[$,S]=re.useState(!1),T=async()=>{S(!0);try{await j()}finally{S(!1)}},A=g=>{e(`/customers/${g}`)},M=()=>{console.log("Export payments")};return a?r.jsxs(w,{sx:{p:3},children:[r.jsxs(_e,{severity:"error",sx:{mb:2},children:[r.jsx(v,{variant:"h6",gutterBottom:!0,children:"Failed to load payments"}),r.jsx(v,{variant:"body2",children:i?typeof i=="object"?JSON.stringify(i,null,2):String(i):"Please try again."})]}),r.jsx(ue,{variant:"contained",onClick:T,startIcon:r.jsx(pr,{}),children:"Retry"})]}):r.jsxs(w,{children:[r.jsxs(w,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(w,{children:[r.jsx(v,{variant:"h4",sx:{fontWeight:700,mb:.5},children:"Payments & Invoices"}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Manage and track all payment transactions"})]}),r.jsxs(w,{sx:{display:"flex",gap:1.5},children:[r.jsx(ue,{variant:"outlined",startIcon:r.jsx(va,{}),onClick:M,disabled:t.length===0,children:"Export"}),r.jsx(ue,{variant:"outlined",startIcon:r.jsx(pr,{}),onClick:T,disabled:$,children:"Refresh"})]})]}),r.jsxs(w,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:2,mb:3},children:[r.jsxs(Ie,{elevation:0,sx:{p:3,textAlign:"center",border:"1px solid",borderColor:"divider",borderRadius:2},children:[r.jsx(v,{variant:"h4",sx:{fontWeight:700,color:"primary.main",mb:1},children:s.toLocaleString()}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Total Payments"})]}),r.jsxs(Ie,{elevation:0,sx:{p:3,textAlign:"center",border:"1px solid",borderColor:"divider",borderRadius:2},children:[r.jsx(v,{variant:"h4",sx:{fontWeight:700,color:"success.main",mb:1},children:t.filter(g=>g.status==="paid").length.toLocaleString()}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Paid"})]}),r.jsxs(Ie,{elevation:0,sx:{p:3,textAlign:"center",border:"1px solid",borderColor:"divider",borderRadius:2},children:[r.jsx(v,{variant:"h4",sx:{fontWeight:700,color:"warning.main",mb:1},children:t.filter(g=>g.status==="pending").length.toLocaleString()}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Pending"})]}),r.jsxs(Ie,{elevation:0,sx:{p:3,textAlign:"center",border:"1px solid",borderColor:"divider",borderRadius:2},children:[r.jsx(v,{variant:"h4",sx:{fontWeight:700,color:"text.secondary",mb:1},children:t.filter(g=>g.status==="overdue").length.toLocaleString()}),r.jsx(v,{variant:"body2",color:"text.secondary",children:"Overdue"})]})]}),r.jsx(w,{sx:{mb:3},children:r.jsx(oA,{filters:o,onFiltersChange:p,onClearFilters:y,isLoading:n})}),r.jsx(w,{sx:{mb:2},children:r.jsx(v,{variant:"body2",color:"text.secondary",children:n?"Loading payments...":r.jsxs(r.Fragment,{children:["Showing ",t.length," of ",s," payments",h&&" (filtered)"]})})}),r.jsx(lA,{payments:Array.isArray(t)?t:[],loading:n,page:l,pageSize:c,totalCount:s,sortBy:d,sortOrder:u,onPageChange:b,onPageSizeChange:m,onSortChange:g=>f(g,u==="asc"?"desc":"asc"),onViewPayment:g=>e(`/payments/${g}`),onViewCustomer:A}),r.jsx(dv,{sx:{color:"#fff",zIndex:g=>g.zIndex.drawer+1},open:$,children:r.jsx(fn,{color:"inherit"})})]})},uA=()=>{const{id:e}=Mn(),t=yt(),{data:n,isLoading:a,isError:i,error:s}=aw(e),o=()=>{t("/payments")},l=()=>{t(`/payments/${e}/edit`)},c=()=>{console.log("Mark as paid:",e)},d=()=>{console.log("Generate receipt for:",e)},u=()=>{console.log("Download payment details:",e)},h=()=>{console.log("Share payment:",e)},p=$=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format($),y=$=>{const S=typeof $=="string"?new Date($):$;return rn(S,"MMMM dd, yyyy")},b=$=>{const S=typeof $=="string"?new Date($):$;return rn(S,"MMMM dd, yyyy • hh:mm a")};if(a)return r.jsxs(w,{sx:{p:3},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",mb:3},children:[r.jsx(le,{variant:"circular",width:40,height:40,sx:{mr:2}}),r.jsxs(w,{children:[r.jsx(le,{variant:"text",width:200,height:32}),r.jsx(le,{variant:"text",width:300,height:20})]})]}),r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,md:8,children:r.jsx(le,{variant:"rectangular",width:"100%",height:400,sx:{borderRadius:2}})}),r.jsxs(N,{item:!0,xs:12,md:4,children:[r.jsx(le,{variant:"rectangular",width:"100%",height:200,sx:{borderRadius:2,mb:2}}),r.jsx(le,{variant:"rectangular",width:"100%",height:150,sx:{borderRadius:2}})]})]})]});if(i||!n)return r.jsxs(w,{sx:{p:3},children:[r.jsx(_e,{severity:"error",sx:{mb:2},children:s?String(s):"Payment not found"}),r.jsx(ue,{variant:"contained",onClick:o,startIcon:r.jsx(Or,{}),children:"Back to Payments"})]});const m=sg[n.status],f=m.icon,j=ou.find($=>$.value===n.paymentMethod);return r.jsxs(w,{sx:{p:3},children:[r.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsx(Ae,{onClick:o,sx:{bgcolor:"background.paper",border:"1px solid",borderColor:"divider","&:hover":{bgcolor:"action.hover"}},children:r.jsx(Or,{})}),r.jsxs(w,{children:[r.jsx(v,{variant:"h4",sx:{fontWeight:700,mb:1},children:"Payment Details"}),r.jsxs(v,{variant:"body1",color:"text.secondary",sx:{fontFamily:"monospace"},children:["ID: ",n.id]})]})]}),r.jsxs(w,{sx:{display:"flex",gap:1},children:[n.status!=="paid"&&r.jsx(ue,{variant:"contained",startIcon:r.jsx(lt,{}),onClick:c,sx:{mr:1},children:"Mark as Paid"}),r.jsx(ue,{variant:"outlined",startIcon:r.jsx(Ht,{}),onClick:l,children:"Edit"})]})]}),r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,md:8,children:r.jsxs(Ie,{elevation:0,sx:{p:3,mb:3,border:"1px solid",borderColor:"divider",borderRadius:2},children:[r.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:3},children:"Payment Information"}),r.jsxs(N,{container:!0,spacing:3,children:[r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsxs(w,{sx:{mb:3},children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Amount"}),r.jsx(v,{variant:"h4",sx:{fontWeight:700,color:"primary.main"},children:p(n.amount)}),n.appliedAmount&&n.appliedAmount!==n.amount&&r.jsxs(v,{variant:"body2",color:"text.secondary",children:["Applied: ",p(n.appliedAmount)]}),n.creditedAmount&&r.jsxs(v,{variant:"body2",color:"success.main",children:["Credited: ",p(n.creditedAmount)]})]})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsxs(w,{sx:{mb:3},children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Status"}),r.jsx(de,{icon:r.jsx(f,{}),label:m.label,sx:{bgcolor:m.bgcolor,color:m.textColor,fontWeight:600,fontSize:"0.875rem",height:32,"& .MuiChip-icon":{color:m.color,fontSize:18}}})]})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsxs(w,{sx:{mb:3},children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Due Date"}),r.jsx(v,{variant:"h6",sx:{fontWeight:600},children:y(n.dueDate)})]})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsxs(w,{sx:{mb:3},children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Payment Date"}),r.jsx(v,{variant:"h6",sx:{fontWeight:600},children:n.paymentDate?y(n.paymentDate):"Not paid"})]})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsxs(w,{sx:{mb:3},children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Payment Type"}),r.jsx(v,{variant:"body1",sx:{textTransform:"capitalize"},children:n.type.replace("_"," ")})]})}),r.jsx(N,{item:!0,xs:12,sm:6,children:r.jsxs(w,{sx:{mb:3},children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Payment Method"}),r.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:1},children:[j&&r.jsxs(r.Fragment,{children:[r.jsx(j.icon,{sx:{color:j.color}}),r.jsx(v,{variant:"body1",children:j.label})]}),!j&&r.jsx(v,{variant:"body1",color:"text.secondary",children:"Not specified"})]})]})})]}),n.transactionReference&&r.jsxs(r.Fragment,{children:[r.jsx(Ee,{sx:{my:3}}),r.jsxs(w,{children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Transaction Reference"}),r.jsx(v,{variant:"body1",sx:{fontFamily:"monospace"},children:n.transactionReference})]})]}),n.notes&&r.jsxs(r.Fragment,{children:[r.jsx(Ee,{sx:{my:3}}),r.jsxs(w,{children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Notes"}),r.jsx(v,{variant:"body1",children:n.notes})]})]})]})}),r.jsxs(N,{item:!0,xs:12,md:4,children:[r.jsxs(Ie,{elevation:0,sx:{p:3,mb:3,border:"1px solid",borderColor:"divider",borderRadius:2},children:[r.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:2},children:"Related Information"}),r.jsxs(w,{sx:{mb:2},children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Customer ID"}),r.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:n.customerId})]}),r.jsxs(w,{sx:{mb:2},children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Contract ID"}),r.jsx(v,{variant:"body2",sx:{fontFamily:"monospace"},children:n.contractId})]}),r.jsx(Ee,{sx:{my:2}}),r.jsxs(w,{children:[r.jsx(v,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:"Created"}),r.jsx(v,{variant:"body2",children:b(n.createdAt)})]})]}),r.jsxs(Ie,{elevation:0,sx:{p:3,border:"1px solid",borderColor:"divider",borderRadius:2},children:[r.jsx(v,{variant:"h6",sx:{fontWeight:600,mb:2},children:"Quick Actions"}),r.jsxs(w,{sx:{display:"flex",flexDirection:"column",gap:1},children:[r.jsx(ue,{fullWidth:!0,variant:"outlined",startIcon:r.jsx(Sn,{}),onClick:d,children:"Generate Receipt"}),r.jsx(ue,{fullWidth:!0,variant:"outlined",startIcon:r.jsx(va,{}),onClick:u,children:"Download Details"}),r.jsx(ue,{fullWidth:!0,variant:"outlined",startIcon:r.jsx(Vf,{}),onClick:h,children:"Share Payment"}),n.status!=="paid"&&r.jsx(ue,{fullWidth:!0,variant:"contained",startIcon:r.jsx(lt,{}),onClick:c,children:"Mark as Paid"})]})]})]})]})]})},hA=()=>r.jsx(py,{children:r.jsxs(Xe,{path:"/",element:r.jsx(jw,{}),children:[r.jsx(Xe,{index:!0,element:r.jsx(KP,{})}),r.jsxs(Xe,{path:"customers",children:[r.jsx(Xe,{index:!0,element:r.jsx(o$,{})}),r.jsx(Xe,{path:"new",element:r.jsx(Jp,{})}),r.jsxs(Xe,{path:":id",element:r.jsx(r9,{}),children:[r.jsx(Xe,{index:!0,element:r.jsx(uy,{to:"summary",replace:!0})}),r.jsx(Xe,{path:"summary",element:r.jsx($9,{})}),r.jsx(Xe,{path:"contracts",element:r.jsx(V9,{})}),r.jsx(Xe,{path:"invoices",element:r.jsx(_9,{})}),r.jsx(Xe,{path:"vehicles",element:r.jsx(W9,{})}),r.jsx(Xe,{path:"logs",element:r.jsx(z9,{})}),r.jsx(Xe,{path:"edit",element:r.jsx(X8,{})})]})]}),r.jsxs(Xe,{path:"endorsers",children:[r.jsx(Xe,{index:!0,element:r.jsx("div",{children:" endrorsers Page"})}),r.jsx(Xe,{path:"new",element:r.jsx(Jp,{})}),r.jsx(Xe,{path:":id",element:r.jsx("div",{children:"view Endorser Page"}),children:r.jsx(Xe,{path:"edit",element:r.jsx("div",{children:"edit Vehicle Page"})})})]}),r.jsxs(Xe,{path:"vehicles",children:[r.jsx(Xe,{index:!0,element:r.jsx(B8,{})}),r.jsx(Xe,{path:"new",element:r.jsx(K9,{})}),r.jsx(Xe,{path:":id",element:r.jsx(LP,{})})]}),r.jsxs(Xe,{path:"payments",children:[r.jsx(Xe,{index:!0,element:r.jsx(dA,{})}),r.jsx(Xe,{path:":id",element:r.jsx(uA,{})}),r.jsx(Xe,{path:":id/edit",element:r.jsx("div",{children:"edit Vehicle Page"})})]}),r.jsxs(Xe,{path:"contracts",children:[r.jsx(Xe,{index:!0,element:r.jsx(iA,{})}),r.jsx(Xe,{path:"create",element:r.jsx(rA,{})}),r.jsx(Xe,{path:":id",element:r.jsx(sA,{})}),r.jsx(Xe,{path:":id/edit",element:r.jsx("div",{children:"Edit Contract Page"})})]}),r.jsx(Xe,{path:"logs",element:r.jsx(Z8,{})}),r.jsx(Xe,{path:"assets",element:r.jsx("div",{children:"Assets Page"})})]})});function pA(){return r.jsx(bv,{store:iw,children:r.jsx(pw,{children:r.jsx(Ur,{dateAdapter:Go,children:r.jsx(_j,{maxSnack:3,children:r.jsx(by,{children:r.jsx(hA,{})})})})})})}fc.createRoot(document.getElementById("root")).render(r.jsx(re.StrictMode,{children:r.jsx(pA,{})}));
